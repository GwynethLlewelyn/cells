!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).MigrationComponents=e()}(function(){return function n(o,a,i){function u(t,e){if(!a[t]){if(!o[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(s)return s(t,!0);throw(r=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",r}r=a[t]={exports:{}},o[t][0].call(r.exports,function(e){return u(o[t][1][e]||e)},r,r.exports,n,o,a,i)}return a[t].exports}for(var s="function"==typeof require&&require,e=0;e<i.length;e++)u(i[e]);return u}({1:[function(e,t,r){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var g=o(e("react")),n=o(e("pydio")),a=o(e("pydio/util/lang")),w=e("material-ui"),u=e("cells-sdk"),k=o(e("./steps/StepEmptyConfig")),O=o(e("./steps/StepConnection")),T=o(e("./steps/StepCategories")),E=o(e("./steps/StepMetadata")),P=o(e("./steps/StepShares")),S=o(e("./steps/StepWorkspaces")),_=o(e("./steps/StepPrerequisites")),j=o(e("./steps/StepDisclaimer")),A=o(e("./TaskActivity")),C=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};t=s(t);if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}n.default=e,t&&t.set(e,n);return n}(e("./actions/actions")),R=["activeStep","url","skipVerify","user","pwd","features","task","showLogs","localStatus","previousTasks"];function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function o(e){return e&&e.__esModule?e:{default:e}}function x(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function M(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach(function(e){m(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function N(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)r=o[a],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=y(r);return e=n?(e=y(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==i(e)&&"function"!=typeof e?h(t):e}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var e=n.default.requireLib("boot"),b=e.JobsStore,D=e.moment,W=n.default.requireLib("hoc").ModernSelectField,L={stepLegend:{color:"#757575",padding:"6px 0"}},n=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(o,g["default"].Component);var e,t,r,n=d(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),m(h(t=n.call(this,e)),"_observer",void 0);var r={configs:{label:t.T("feature.configs"),value:!1,action:C.getConfigsAction},users:{label:t.T("feature.users"),value:!1,action:C.getUsersAction},workspaces:{label:t.T("feature.workspaces"),value:!1,action:C.getWorkspacesAction,summary:C.getWorkspacesSummary},acls:{label:t.T("feature.acls"),value:!1,action:C.getAclsAction,depends:"workspaces"},metadata:{label:t.T("feature.meta"),value:!1,action:C.getMetadataAction,summary:C.getMedataSummary,depends:"workspaces"},shares:{label:t.T("feature.shares"),value:!1,action:C.getSharesAction,summary:C.getSharesSummary,depends:"workspaces"}};return e.advanced||delete r.configs,t.state={activeStep:0,url:"",user:"importer",pwd:"",cellAdmin:e.pydio.user.id,skipVerify:!1,features:r,workspaces:[],workspaceMapping:{},localStatus:[],previousTasks:[],showLogs:null},t}return e=o,(t=[{key:"T",value:function(e){return this.props.pydio.MessageHash["migration.dash."+e]||this.props.pydio.MessageHash["migration."+e]||e}},{key:"loadPreviousTasks",value:function(){var t=this;b.getInstance().getAdminJobs(null,null,"pydio8-data-import",20).then(function(e){e.Jobs&&e.Jobs.length&&((e=e.Jobs[0].Tasks||[]).sort(a.default.arraySorter("StartTime")),e.reverse(),t.setState({previousTasks:e}))})}},{key:"componentDidMount",value:function(){var r=this,e=this.props.pydio;this._observer=function(e){var t=e.Job,e=e.TaskUpdated,t=u.JobsJob.constructFromObject(t);"pydio8-data-import"===t.ID&&(e=u.JobsTask.constructFromObject(e),r.setState({job:t,task:e}))},e.observe("task_message",this._observer),this.loadPreviousTasks()}},{key:"componentWillUnmount",value:function(){this._observer&&(this.props.pydio.stopObserving("task_message",this._observer),this._observer=null)}},{key:"render",value:function(){var t,n=this,e=this.props,r=e.pydio,o=e.openRightPane,a=e.closeRightPane,i=e.advanced,u=e.currentNode,s=this.state,l=s.activeStep,c=s.url,f=s.skipVerify,p=s.user,d=s.pwd,h=s.features,y=s.task,m=s.showLogs,b=s.localStatus,v=s.previousTasks,e=N(s,R),s=AdminComponents.AdminStyles(),v=g.default.createElement(W,{fullWidth:!0,value:m,onChange:function(e,t,r){n.setState({showLogs:r})}},g.default.createElement(w.MenuItem,{value:null,primaryText:this.T("job.new")}),0<v.length&&g.default.createElement(w.Divider,null),v.map(function(e){var t=e.EndTime?e.Status+" "+D(new Date(1e3*e.EndTime)).fromNow():e.Status+" "+D(new Date(1e3*e.StartTime)).fromNow();return g.default.createElement(w.MenuItem,{label:t,primaryText:t,value:e})}));return e=m?g.default.createElement(w.Paper,s.body.block.props,g.default.createElement(A.default,{pydio:r,task:m,styles:s})):(t={pydio:r,onBack:function(){return n.setState({activeStep:l-1})},onComplete:function(){return n.setState({activeStep:l+1})},onChange:function(e){return n.setState(e)},url:c,skipVerify:f,user:p,pwd:d,styles:L,hasRunning:y&&"Running"===y.Status},g.default.createElement(w.Paper,I({},s.body.block.props,{style:M(M({},s.body.block.container),{},{paddingBottom:16})}),g.default.createElement(w.Stepper,{style:{display:"flex"},orientation:"vertical",activeStep:l},g.default.createElement(j.default,I({},t,{onBack:null,advanced:i})),g.default.createElement(_.default,I({},t,{onBack:null,advanced:i})),g.default.createElement(O.default,I({},t,{url:c,skipVerify:f,user:p,pwd:d})),g.default.createElement(T.default,I({},t,{features:h,onChange:function(e){return n.setState({features:M(M({},h),e)})}})),Object.keys(h).filter(function(e){return"configs"===e&&h[e].value}).map(function(e){return g.default.createElement(k.default,I({},t,{title:n.T("feature.configs"),legend:n.T("feature.configs.legend"),style:{flex:1,paddingRight:20,borderRight:"1px solid #e0e0e0"}}))}),Object.keys(h).filter(function(e){return"users"===e&&h[e].value}).map(function(e){return g.default.createElement(k.default,I({},t,{title:n.T("feature.users"),legend:n.T("feature.users.legend"),style:{flex:1,paddingRight:20,borderRight:"1px solid #e0e0e0"}}))}),Object.keys(h).filter(function(e){return"workspaces"===e&&h[e].value}).map(function(e){return g.default.createElement(S.default,I({},t,{style:{flex:1,paddingRight:20,borderRight:"1px solid #e0e0e0"},openRightPane:o,closeRightPane:a}))}),Object.keys(h).filter(function(e){return"acls"===e&&h[e].value}).map(function(e){return g.default.createElement(k.default,I({},t,{title:n.T("feature.acls"),legend:n.T("feature.acls.legend"),style:{flex:1,paddingRight:20,borderRight:"1px solid #e0e0e0"}}))}),Object.keys(h).filter(function(e){return"metadata"===e&&h[e].value}).map(function(e){return g.default.createElement(E.default,I({},t,{style:{flex:1,paddingRight:20,borderRight:"1px solid #e0e0e0"}}))}),Object.keys(h).filter(function(e){return"shares"===e&&h[e].value}).map(function(e){return g.default.createElement(P.default,I({},t,{style:{flex:1,paddingRight:20,borderRight:"1px solid #e0e0e0"}}))}),g.default.createElement(T.default,I({},t,{features:h,summary:!0,summaryState:this.state},e,{onComplete:function(){n.setState({localStatus:[]},function(){C.startJob(n.state,function(e){n.setState({localStatus:[].concat(x(b),[e])})}),setTimeout(function(){n.loadPreviousTasks()},1e3)})}}))))),g.default.createElement("div",{className:"main-layout-nav-to-stack workspaces-board"},g.default.createElement("div",{className:"vertical-layout",style:{width:"100%"}},g.default.createElement(AdminComponents.Header,{title:this.T("title"),icon:u.getMetadata().get("icon_class"),actions:[v]}),g.default.createElement("div",{className:"layout-fill"},(y||0<b.length)&&g.default.createElement(w.Paper,s.body.block.props,g.default.createElement("div",{style:s.body.block.headerFull},this.T("importing")),g.default.createElement("div",{style:{padding:16}},0<b.length&&g.default.createElement("div",null,b.map(function(e){return g.default.createElement("div",null,e)})),y&&g.default.createElement("div",null,g.default.createElement("h6",null,y.StatusMessage),"Finished"!==y.Status&&g.default.createElement(w.LinearProgress,{mode:"determinate",min:0,max:100,value:100*(y.Progress||0),style:{width:"100%"}})))),e)))}}])&&f(e.prototype,t),r&&f(e,r),o}();r.default=n,t.exports=r.default},{"./TaskActivity":2,"./actions/actions":3,"./steps/StepCategories":6,"./steps/StepConnection":7,"./steps/StepDisclaimer":8,"./steps/StepEmptyConfig":9,"./steps/StepMetadata":10,"./steps/StepPrerequisites":11,"./steps/StepShares":12,"./steps/StepWorkspaces":13,"cells-sdk":"cells-sdk","material-ui":"material-ui",pydio:"pydio","pydio/util/lang":"pydio/util/lang",react:"react"}],2:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=l(e("react")),n=l(e("pydio")),i=l(e("pydio/http/api")),u=l(e("pydio/http/resources-manager")),s=(e("material-ui"),e("cells-sdk"));function l(e){return e&&e.__esModule?e:{default:e}}function c(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function f(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?c(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=y(r);return e=n?(e=y(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=n.default.requireLib("components").MaterialTable,b=n.default.requireLib("boot").moment,n=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(o,a["default"].Component);var e,t,r,n=h(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this,e)).state={activity:[],loading:!1},e}return e=o,(t=[{key:"T",value:function(e){return this.props.pydio.MessageHash["migration."+e]||e}},{key:"componentDidMount",value:function(){this.loadActivity(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.task||this.loadActivity(e),e.task&&this.props.task&&e.task.ID!==this.props.task.ID&&this.loadActivity(e)}},{key:"loadActivity",value:function(e){var r=this,e=e.task;if(e){var n=e.JobID+"-"+e.ID.substr(0,8);return u.default.loadClass("EnterpriseSDK").then(function(e){var t=new s.LogListLogRequest;t.Query='+OperationUuid:"'+n+'"',t.Page=0,t.Size=100,t.Format=s.ListLogRequestLogFormat.constructFromObject("JSON");e=new e.EnterpriseLogServiceApi(i.default.getRestClient());r.setState({loading:!0}),e.audit(t).then(function(e){r.setState({activity:e.Logs||[],loading:!1})}).catch(function(){r.setState({activity:[],loading:!1})})})}}},{key:"render",value:function(){var e=this.props,t=e.pydio,r=e.task,n=e.styles,e=this.state.activity,t=[{name:"Ts",label:t.MessageHash["settings.17"],style:{width:"25%"},headerStyle:{width:"25%"},renderCell:function(e){return b(1e3*e.Ts).fromNow()}},{name:"Msg",label:t.MessageHash["ajxp_admin.logs.message"]}];return a.default.createElement("div",{className:"vertical-layout",style:{height:"100%"}},a.default.createElement("div",{style:f({},n.body.block.headerFull)},this.T("logs.legend").replace("%s",r.ID)),a.default.createElement("div",{className:"layout-fill vertical-layout"},a.default.createElement(m,{columns:t,data:e,showCheckboxes:!1,emptyStateString:this.T("logs.empty")})))}}])&&p(e.prototype,t),r&&p(e,r),o}();r.default=n,t.exports=r.default},{"cells-sdk":"cells-sdk","material-ui":"material-ui",pydio:"pydio","pydio/http/api":"pydio/http/api","pydio/http/resources-manager":"pydio/http/resources-manager",react:"react"}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.startJob=function(t,r){var n=t.features,o=t.cellAdmin,a=[],i=(0,s.default)();Object.keys(n).forEach(function(e){e=n[e];e.value&&"function"==typeof e.action&&e.action(t,r).map(function(e){e.params=l(l({},e.params),{},{cellAdmin:o,sessionUuid:i}),a.push(e)})}),a.length&&p.default.getRestClient().userJob("import-p8",a).then(function(e){console.log(e)}).catch(function(e){e=e.Detail||e.message||e;u.default.getInstance().UI.displayMessage("ERROR",e)})},r.getConfigsAction=function(e,t){var r=e.url,n=e.user,o=e.pwd,e=e.skipVerify;return[{name:"actions.etl.configs",params:{left:"pydio8",right:"cells-local",url:r,user:n,password:o,skipVerify:e?"true":"false"}}]},r.getUsersAction=function(e,t){var r=e.url,n=e.user,o=e.pwd,a=e.skipVerify;return[{name:"actions.etl.users",params:{left:"pydio8",right:"cells-local",splitUsersRoles:"true",cellAdmin:e.cellAdmin,url:r,user:n,password:o,skipVerify:a?"true":"false"}}]},r.getAclsAction=function(e,t){var r=e.url,n=e.user,o=e.pwd,a=e.skipVerify,i=e.cellAdmin,e=e.workspaceMapping;return[{name:"actions.etl.p8-workspaces",params:{type:"pydio8",url:r,user:n,password:o,skipVerify:a?"true":"false",mapping:JSON.stringify(e),cellAdmin:i}}]},r.getWorkspacesAction=function(e,r){var n=e.workspaceCreate;e.localStatus;return Object.keys(n).forEach(function(t){n[t].save().then(function(){r(h("createws.success").replace("%s",n[t].getModel().Label))}).catch(function(e){r(h("createws.fail").replace("%1",n[t].getModel().Label).replace("%2",e.message))})}),[]},r.getWorkspacesSummary=function(e){var t=e.workspaceMapping,e=e.workspaceCreate,r=void 0===e?{}:e;return React.createElement("div",null,h("createws.summary"),0<Object.keys(t).length&&React.createElement("table",{style:{width:400,marginTop:6}},React.createElement("tr",null,React.createElement("td",{style:{backgroundColor:"#f5f5f5",padding:"2px 4px"}},h("createws.head.pydio")),React.createElement("td",{style:{backgroundColor:"#f5f5f5",padding:"2px 4px"}},h("createws.head.cells")),React.createElement("td",{style:{backgroundColor:"#f5f5f5",padding:"2px 4px"}},h("createws.head.status"))),Object.keys(t).map(function(e){return React.createElement("tr",null,React.createElement("td",{style:{padding:"2px 4px"}},e),React.createElement("td",{style:{padding:"2px 4px"}},t[e]),React.createElement("td",{style:{padding:"2px 4px"}},r[e]?h("createws.notexists"):h("createws.exists")))})))},r.getSharesAction=function(e,t){var r=e.cellAdmin,n=e.url,o=e.user,a=e.pwd,i=e.skipVerify,u=e.workspaceMapping,e=e.sharesFeatures;return[{name:"actions.etl.shares",params:l({left:"pydio8",right:"cells-local",mapping:JSON.stringify(u),url:n,user:o,cellAdmin:r,skipVerify:i?"true":"false",password:a},e)}]},r.getSharesSummary=function(e){e=e.sharesFeatures;return React.createElement("div",null,e&&e.shareType&&React.createElement("div",null,"LINK"===e.shareType?h("share.linksonly"):h("share.cellsonly"),"."),(!e||!e.shareType)&&React.createElement("div",null,h("share.all")),e&&e.ownerId&&React.createElement("div",null,h("share.user").replace("%s",e.ownerId)))},r.getMetadataAction=function(e,t){var r=e.url,n=e.user,o=e.pwd,a=e.skipVerify,i=e.workspaceMapping,u=e.metadataFeatures,s=e.metadataMapping,l=e.metadataCreate,c=-1<u.indexOf("watches")||-1<u.indexOf("bookmarks"),e=-1<u.indexOf("filesMeta"),u=[];c&&(i={name:"actions.etl.p8-global-meta",params:{url:r,user:n,password:o,skipVerify:a?"true":"false",mapping:JSON.stringify(i)}},u.push(i));e&&(f={name:"actions.etl.p8-legacy-meta",params:{metaMapping:JSON.stringify(s)}},u.push(f));{var f;l.length&&(s=new d.UserMetaServiceApi(p.default.getRestClient()),(f=new d.IdmUpdateUserMetaNamespaceRequest).Operation=d.UpdateUserMetaNamespaceRequestUserMetaNsOp.constructFromObject("PUT"),f.Namespaces=l,s.updateUserMetaNamespace(f).then(function(e){t(h("meta.success"))}).catch(function(e){t(h("meta.fail").replace("%s",e.message))}))}return u},r.getMedataSummary=function(e){var t=e.metadataFeatures,r=e.metadataMapping;return React.createElement("div",null,t&&React.createElement("div",null,h("meta.summary")," ",t.join(", ")),r&&React.createElement("div",null,h("meta.files"),React.createElement("table",{style:{width:400,marginTop:6}},React.createElement("tr",null,React.createElement("td",{style:{backgroundColor:"#f5f5f5",padding:"2px 4px"}},h("createws.head.pydio")),React.createElement("td",{style:{backgroundColor:"#f5f5f5",padding:"2px 4px"}},h("createws.head.cells"))),Object.keys(r).map(function(e){return React.createElement("tr",null,React.createElement("td",{style:{padding:"2px 4px"}},e),React.createElement("td",{style:{padding:"2px 4px"}},r[e]))}))))};var u=n(e("pydio")),p=n(e("pydio/http/api")),s=n(e("uuid4")),d=e("cells-sdk");function n(e){return e&&e.__esModule?e:{default:e}}function a(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function l(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?a(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function h(e){var t=u.default.getInstance().MessageHash;return t["migration.action."+e]||t["migration."+e]||t[e]||e}},{"cells-sdk":"cells-sdk",pydio:"pydio","pydio/http/api":"pydio/http/api",uuid4:64}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Dashboard",{enumerable:!0,get:function(){return o.default}});var n,o=(n=e("./Dashboard"))&&n.__esModule?n:{default:n}},{"./Dashboard":1}],5:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,a=(n=e("react"))&&n.__esModule?n:{default:n};function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=l(r);return e=n?(e=l(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(o,a["default"].Component);var e,t,r,n=s(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this,e)).state={show:!1},e}return e=o,(t=[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){return e.show()},451)}},{key:"show",value:function(){this.setState({show:!0})}},{key:"render",value:function(){return this.state.show?a.default.createElement("div",{style:{padding:"20px 2px 2px"}},this.props.children):a.default.createElement("div",null)}}])&&i(e.prototype,t),r&&i(e,r),o}();r.default=c,t.exports=r.default},{react:"react"}],6:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var h=n(e("react")),a=n(e("pydio")),y=e("material-ui"),m=n(e("./StepActions")),b=["features","onBack","onChange","onComplete","summary","styles","summaryState","hasRunning"];function n(e){return e&&e.__esModule?e:{default:e}}function i(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach(function(e){g(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)r=o[a],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=c(r);return e=n?(e=c(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(o,h["default"].Component);var e,t,r,n=l(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this,e)).state={valid:!1},e}return e=o,(t=[{key:"T",value:function(e){var t=a.default.getInstance().MessageHash;return t["migration.step.categories."+e]||t["migration."+e]||t[e]||e}},{key:"componentWillReceiveProps",value:function(e){var r=e.features;this.setState({valid:Object.keys(r).reduce(function(e,t){return e||r[t].value},!1)})}},{key:"render",value:function(){var e,t,r,n=this,o=this.props,a=o.features,i=o.onBack,u=o.onChange,s=o.onComplete,l=o.summary,c=o.styles,f=o.summaryState,p=o.hasRunning,d=k(o,b),o=this.state.valid;return l?(e=this.T("summary"),t=this.T("summary.legend"),r=[],Object.keys(a).forEach(function(e){e=a[e];e.value&&r.push(h.default.createElement("div",{style:{padding:"6px 0"}},h.default.createElement(y.Checkbox,{label:e.label,checked:!0,labelStyle:{fontWeight:500,fontSize:15}}),e.summary&&h.default.createElement("div",{style:{marginLeft:40,marginTop:10}},e.summary(f)),!e.summary&&h.default.createElement("div",{style:{marginLeft:40,marginTop:10}},n.T("summary.empty"))))})):(e=this.T("choose"),t=this.T("choose.legend"),r=Object.keys(a).map(function(n){var e=a[n],o=w({},e);return h.default.createElement("div",{style:{padding:e.depends?"6px 20px":"6px 0"}},h.default.createElement(y.Checkbox,{label:e.label,disabled:e.depends&&!a[e.depends].value,checked:e.value,onCheck:function(e,t){var r=g({},n,v(v({},o),{},{value:t}));t||Object.keys(a).forEach(function(e){var t=a[e];t.depends&&t.depends===n&&(r[e]=v(v({},t),{},{value:!1}))}),u(r)}}))})),h.default.createElement(y.Step,d,h.default.createElement(y.StepLabel,null,e),h.default.createElement(y.StepContent,null,h.default.createElement("div",{style:c.stepLegend},t),h.default.createElement("div",null,r),h.default.createElement(m.default,null,h.default.createElement(y.RaisedButton,{onClick:function(){return i()},label:this.T("back")}),"  ",h.default.createElement(y.RaisedButton,{primary:!0,disabled:!o||p,onClick:function(){return s()},label:l?this.T("summary.launch"):this.T("next")}))))}}])&&u(e.prototype,t),r&&u(e,r),o}();r.default=e,t.exports=r.default},{"./StepActions":5,"material-ui":"material-ui",pydio:"pydio",react:"react"}],7:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var c=n(e("react")),a=n(e("pydio")),u=n(e("pydio/util/lang")),f=e("material-ui"),p=n(e("./StepActions")),d=["url","user","pwd","skipVerify","onChange","styles","onBack"];function n(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)r=o[a],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=y(r);return e=n?(e=y(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=a.default.requireLib("hoc").ModernTextField,e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(o,c["default"].Component);var e,t,r,n=l(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this,e)).state={},e}return e=o,(t=[{key:"T",value:function(e){var t=a.default.getInstance().MessageHash;return t["migration.step.connection."+e]||t["migration."+e]||t[e]||e}},{key:"testUrl",value:function(n,o,a,i){var u=this;return new Promise(function(e,t){var r=new XMLHttpRequest;r.open(n,o),r.setRequestHeader("Authorization","Basic "+btoa(a+":"+i)),r.onreadystatechange=function(){4===r.readyState&&(200===r.status?e():t(new Error(u.T("fail").replace("%s",o))))},r.send()})}},{key:"handleNext",value:function(){var t=this,e=this.props,r=e.url,n=e.user,o=e.pwd,a=e.pydio,i=e.onComplete;r&&n&&o?this.testUrl("GET",u.default.trimRight(r,"/")+"/api/v2/admin/workspaces",n,o).then(function(){a.UI.displayMessage("SUCCESS",t.T("success")),t.setState({error:null}),i()}).catch(function(e){t.setState({error:e.message})}):this.setState({error:this.T("missing")})}},{key:"render",value:function(){var e=this,t=this.props,r=t.url,n=t.user,o=t.pwd,a=t.skipVerify,i=t.onChange,u=t.styles,s=t.onBack,l=h(t,d),t=this.state.error;return c.default.createElement(f.Step,l,c.default.createElement(f.StepLabel,null,this.T("step.connection")),c.default.createElement(f.StepContent,null,c.default.createElement("div",{style:u.stepLegend},this.T("legend")),c.default.createElement(f.Paper,{zDepth:1,style:{padding:16,paddingTop:24,margin:3,width:480}},c.default.createElement(m,{errorText:t,floatingLabelText:this.T("field.url"),hintText:"https://yourcompany.com/pydio",value:r,onChange:function(e,t){i({url:t})},fullWidth:!0,style:{marginTop:-10}}),c.default.createElement(f.Checkbox,{label:this.T("field.skipssl"),checked:a,onCheck:function(e,t){i({skipVerify:t})}}),c.default.createElement("div",{style:{display:"flex",width:"100%"}},c.default.createElement("div",{style:{marginRight:10,flex:1}},c.default.createElement(m,{floatingLabelText:this.T("field.login"),value:n,onChange:function(e,t){i({user:t})},fullWidth:!0,inputStyle:{backgroundColor:"#fafafa"}})),c.default.createElement("div",{style:{marginLeft:10,flex:1}},c.default.createElement(m,{floatingLabelText:this.T("field.pwd"),value:o,onChange:function(e,t){i({pwd:t})},fullWidth:!0,type:"password"})))),c.default.createElement(p.default,null,c.default.createElement(f.RaisedButton,{onClick:function(){return s()},label:this.T("back")}),"  ",c.default.createElement(f.RaisedButton,{primary:!0,onClick:function(){return e.handleNext()},disabled:!r||!n||!o,label:this.T("button.connect")}))))}}])&&i(e.prototype,t),r&&i(e,r),o}();r.default=e,t.exports=r.default},{"./StepActions":5,"material-ui":"material-ui",pydio:"pydio","pydio/util/lang":"pydio/util/lang",react:"react"}],8:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("react")),i=n(e("./StepEmptyConfig")),u=n(e("pydio")),s=e("material-ui");function n(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=d(r);return e=n?(e=d(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(o,a["default"].Component);var e,t,r,n=p(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n.apply(this,arguments)}return e=o,(t=[{key:"T",value:function(e){return u.default.getInstance().MessageHash["migration."+e]||e}},{key:"render",value:function(){var e=this.props.advanced,t=a.default.createElement("div",null,a.default.createElement("p",{style:{border:"2px solid #C62828",color:"#C62828",borderRadius:4,padding:12,fontWeight:500,marginBottom:8}},this.T("step.disclaimer"),a.default.createElement("br",null),a.default.createElement("br",null),this.T("step.disclaimer."+(e?"ed":"home")))),r=[];return e?r.push(a.default.createElement(s.RaisedButton,{label:this.T("step.disclaimer.support"),onClick:function(){window.open("https://pydio.com/en/user/login")}})):r.push(a.default.createElement(s.RaisedButton,{label:this.T("step.disclaimer.quote"),onClick:function(){window.open("https://pydio.com/en/pricing/contact")}})),a.default.createElement(i.default,l({},this.props,{title:this.T("step.disclaimer.title"),legend:t,nextLabel:this.T("step.disclaimer.start"),otherButtons:r}))}}])&&c(e.prototype,t),r&&c(e,r),o}();r.default=e,t.exports=r.default},{"./StepEmptyConfig":9,"material-ui":"material-ui",pydio:"pydio",react:"react"}],9:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=n(e("react")),l=e("material-ui"),c=n(e("./StepActions")),a=n(e("pydio")),f=["title"];function n(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)r=o[a],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=h(r);return e=n?(e=h(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(o,s["default"].Component);var e,t,r,n=d(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n.call(this,e)}return e=o,(t=[{key:"T",value:function(e){return a.default.getInstance().MessageHash["migration."+e]||e}},{key:"render",value:function(){var e=this.props,t=e.onBack,r=e.onComplete,n=e.nextLabel,o=e.legend,a=e.styles,i=e.otherButtons,u=this.props,e=u.title,u=p(u,f);return s.default.createElement(l.Step,u,s.default.createElement(l.StepLabel,null,e),s.default.createElement(l.StepContent,null,s.default.createElement("div",{style:a.stepLegend},o),s.default.createElement(c.default,null,i,t&&s.default.createElement(l.RaisedButton,{onClick:function(){return t()},label:this.T("back")}),"  ",s.default.createElement(l.RaisedButton,{primary:!0,onClick:function(){return r()},label:n||this.T("next")}))))}}])&&i(e.prototype,t),r&&i(e,r),o}();r.default=e,t.exports=r.default},{"./StepActions":5,"material-ui":"material-ui",pydio:"pydio",react:"react"}],10:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var c=n(e("react")),a=n(e("pydio")),f=e("material-ui"),p=n(e("./StepActions")),i=n(e("../workspaces/Loader")),d=n(e("../workspaces/MetadataMapper"));function n(e){return e&&e.__esModule?e:{default:e}}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=h(r);return e=n?(e=h(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(o,c["default"].Component);var e,t,r,n=l(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this,e)).state={features:{watches:{label:e.T("feature.watches"),checked:!0},bookmarks:{label:e.T("feature.bookmark"),checked:!0},filesMeta:{label:e.T("feature.files"),checked:!0}}},e}return e=o,(t=[{key:"T",value:function(e){var t=a.default.getInstance().MessageHash;return t["migration.step.meta."+e]||t["migration."+e]||t[e]||e}},{key:"componentDidMount",value:function(){var t=this,e=new i.default,r=this.props,n=r.url,o=r.user,r=r.pwd;e.loadWorkspaces(n,o,r).catch(function(e){t.setState({err:e})}).then(function(e){t.setState({workspaces:e},function(){t.exportFeatures()})})}},{key:"exportFeatures",value:function(){var t=this.state.features,e=this.props.onChange,r=[];Object.keys(t).forEach(function(e){t[e].checked&&r.push(e)}),e({metadataFeatures:r})}},{key:"toggle",value:function(e,t){var r=this,n=this.state.features;n[e].checked=t,this.setState({features:n},function(){r.exportFeatures()})}},{key:"render",value:function(){var n=this,e=this.props,t=e.pydio,r=e.onBack,o=e.onChange,a=e.onComplete,i=e.styles,u=this.state,s=u.workspaces,e=u.err,l=u.features;return c.default.createElement(f.Step,this.props,c.default.createElement(f.StepLabel,null,this.T("title")),c.default.createElement(f.StepContent,null,c.default.createElement("div",{style:i.stepLegend},this.T("legend")),c.default.createElement("div",{style:{padding:"10px 0"}},Object.keys(l).map(function(r){var e=l[r];return c.default.createElement(f.Checkbox,{style:{padding:"6px 0"},label:e.label,checked:e.checked,onCheck:function(e,t){n.toggle(r,t)}})})),s&&l.filesMeta.checked&&c.default.createElement(d.default,{pydio:t,workspaces:s,onMapped:function(e){var t=e.mapping,e=e.create;o({metadataMapping:t,metadataCreate:e})}}),e&&c.default.createElement("div",null,e.message),c.default.createElement(p.default,null,c.default.createElement(f.RaisedButton,{onClick:function(){return r()},label:this.T("back")}),"  ",c.default.createElement(f.RaisedButton,{onClick:function(){return a()},label:this.T("next"),primary:!0}))))}}])&&u(e.prototype,t),r&&u(e,r),o}();r.default=e,t.exports=r.default},{"../workspaces/Loader":15,"../workspaces/MetadataMapper":17,"./StepActions":5,"material-ui":"material-ui",pydio:"pydio",react:"react"}],11:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("react")),i=n(e("./StepEmptyConfig")),u=n(e("pydio")),s=e("material-ui");function n(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=d(r);return e=n?(e=d(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(o,a["default"].Component);var e,t,r,n=p(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n.apply(this,arguments)}return e=o,(t=[{key:"T",value:function(e){return u.default.getInstance().MessageHash["migration."+e]||e}},{key:"render",value:function(){var e=this.props.advanced,e=a.default.createElement("div",null,a.default.createElement("p",null,this.T("step.prereq.welcome"),a.default.createElement("br",null),this.T("step.prereq.check")),a.default.createElement("div",{style:{display:"flex"}},a.default.createElement("div",{style:{border:"2px solid rgb(96, 125, 138)",borderRadius:8,padding:"8px 16px",flex:1,marginRight:8}},a.default.createElement("h4",{style:{color:"#607D8B",paddingTop:0}},this.T("step.prereq.step1")),a.default.createElement("p",null,a.default.createElement(s.FontIcon,{className:"mdi mdi-check",style:{fontSize:"inherit"}})," ",this.T("step.prereq.check.adminpydio")),a.default.createElement("p",null,a.default.createElement(s.FontIcon,{className:"mdi mdi-check",style:{fontSize:"inherit"}})," ",this.T("step.prereq.check.install")," : ",a.default.createElement("a",{href:"https://download.pydio.com/pub/plugins/archives/action.migration.tar.gz",target:"_blank"},a.default.createElement(s.FontIcon,{style:{fontSize:"inherit"},className:"mdi mdi-open-in-new"})))),a.default.createElement("div",{style:{border:"2px solid rgb(96, 125, 138)",borderRadius:8,padding:"8px 16px",flex:1}},a.default.createElement("h4",{style:{color:"#607D8B",paddingTop:0}},this.T("step.prereq.step2")),a.default.createElement("p",null,a.default.createElement(s.FontIcon,{className:"mdi mdi-check",style:{fontSize:"inherit"}})," ",this.T("step.prereq.check.admincell")),a.default.createElement("p",null,a.default.createElement(s.FontIcon,{className:"mdi mdi-check",style:{fontSize:"inherit"}})," ",this.T("step.prereq.check.copy"))),a.default.createElement("div",{style:{border:"2px solid rgb(96, 125, 138)",borderRadius:8,padding:"8px 16px",flex:1,marginLeft:8}},a.default.createElement("h4",{style:{color:"#607D8B",paddingTop:0}},this.T("step.prereq.step3")),a.default.createElement("p",null,a.default.createElement(s.FontIcon,{className:"mdi mdi-check",style:{fontSize:"inherit"}})," ",this.T("step.prereq.ds.create")),e&&a.default.createElement("p",null,a.default.createElement(s.FontIcon,{className:"mdi mdi-check",style:{fontSize:"inherit"}})," ",this.T("step.prereq.ds.tpl.ed")),!e&&a.default.createElement("p",null,a.default.createElement(s.FontIcon,{className:"mdi mdi-alert",style:{fontSize:"inherit"}})," ",this.T("step.prereq.ds.tpl.home")),a.default.createElement("p",null,a.default.createElement(s.FontIcon,{className:"mdi mdi-check",style:{fontSize:"inherit"}})," ",this.T("step.prereq.ds.done")))));return a.default.createElement(i.default,l({},this.props,{title:this.T("step.prereq.title"),legend:e,nextLabel:this.T("step.prereq.start")}))}}])&&c(e.prototype,t),r&&c(e,r),o}();r.default=e,t.exports=r.default},{"./StepEmptyConfig":9,"material-ui":"material-ui",pydio:"pydio",react:"react"}],12:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("react")),a=n(e("pydio")),u=e("material-ui"),s=n(e("./StepActions"));function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=p(r);return e=n?(e=p(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=a.default.requireLib("hoc").ModernTextField,e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(o,i["default"].Component);var e,t,r,n=f(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this,e)).state={features:{links:{label:e.T("feature.links"),checked:!0},cells:{label:e.T("feature.cells"),checked:!0}},ownerId:""},e}return e=o,(t=[{key:"T",value:function(e){var t=a.default.getInstance().MessageHash;return t["migration.step.shares."+e]||t["migration."+e]||t[e]||e}},{key:"exportFeatures",value:function(){var e=this.state,t=e.features,r=e.ownerId,n=this.props.onChange,e={};t.links.checked&&t.cells.checked||(e.shareType=t.links.checked?"LINK":"CELL"),r&&(e.ownerId=r),n({sharesFeatures:e})}},{key:"toggle",value:function(e,t){var r=this,n=this.state.features;n[e].checked=t,n.links.checked||n.cells.checked?this.setState({features:n},function(){r.exportFeatures()}):alert(this.T("alert"))}},{key:"render",value:function(){var n=this,e=this.props,t=e.onBack,r=e.onComplete,o=e.styles,e=this.state,a=e.features,e=e.ownerId;return i.default.createElement(u.Step,this.props,i.default.createElement(u.StepLabel,null,this.T("title")),i.default.createElement(u.StepContent,null,i.default.createElement("div",{style:o.stepLegend},this.T("legend")),i.default.createElement("div",{style:o.stepLegend},this.T("legend.warning")),i.default.createElement("div",{style:{marginTop:10}},this.T("restrict.type")),i.default.createElement("div",{style:{padding:"10px 0"}},Object.keys(a).map(function(r){var e=a[r];return i.default.createElement(u.Checkbox,{style:{padding:"6px 0"},label:e.label,checked:e.checked,onCheck:function(e,t){n.toggle(r,t)}})})),i.default.createElement("div",null,this.T("restrict.user")),i.default.createElement(d,{hintText:this.T("restrict.user.login"),value:e,onChange:function(e,t){n.setState({ownerId:t},function(){n.exportFeatures()})}}),i.default.createElement(s.default,null,i.default.createElement(u.RaisedButton,{onClick:function(){return t()},label:this.T("back")}),"  ",i.default.createElement(u.RaisedButton,{onClick:function(){return r()},label:this.T("next"),disabled:!a.links.checked&&!a.cells.checked,primary:!0}))))}}])&&l(e.prototype,t),r&&l(e,r),o}();r.default=e,t.exports=r.default},{"./StepActions":5,"material-ui":"material-ui",pydio:"pydio",react:"react"}],13:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var c=a(e("react")),f=e("material-ui"),i=a(e("../workspaces/Loader")),p=a(e("../workspaces/Mapper")),n=a(e("pydio"));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=h(r);return e=n?(e=h(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?d(t):e}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(a,c["default"].Component);var e,t,r,o=l(a);function a(e){var t,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=o.call(this,e),r=d(t),n=void 0,(e="_loader")in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,t._loader=new i.default,t.state={loaded:!1,workspaces:[],cellsWorkspaces:[]},t}return e=a,(t=[{key:"T",value:function(e){var t=n.default.getInstance().MessageHash;return t["migration.step.ws."+e]||t["migration."+e]||t[e]||e}},{key:"componentDidMount",value:function(){var t=this,e=this.props,r=e.url,n=e.user,o=e.pwd;AdminWorkspaces.Workspace.listWorkspaces().then(function(e){t.setState({cellsWorkspaces:e.Workspaces||[]})}).then(function(){t._loader.loadWorkspaces(r,n,o).catch(function(e){t.setState({err:e,loaded:!0})}).then(function(e){t.setState({workspaces:e,loaded:!0})})})}},{key:"startListeningToJob",value:function(){var t=this;this._loader=new i.default,this._loader.observe("progress",function(e){t.setState({workspacesProgress:e})})}},{key:"render",value:function(){var e=this.props,n=e.onChange,o=e.onComplete,t=e.onBack,r=e.openRightPane,a=e.closeRightPane,i=e.pydio,u=e.styles,s=this.state,l=s.workspaces,e=s.cellsWorkspaces;return s.loaded?c.default.createElement(f.Step,this.props,c.default.createElement(f.StepLabel,null,this.T("title")),c.default.createElement(f.StepContent,null,c.default.createElement("div",{style:u.stepLegend},this.T("legend"),c.default.createElement("ul",null,c.default.createElement("li",null,this.T("step1")),c.default.createElement("li",null,this.T("step2")),c.default.createElement("li",null,this.T("step3")),c.default.createElement("li",null,this.T("step4")))),c.default.createElement(p.default,{cellsWorkspaces:e,workspaces:l.filter(function(e){return("fs"===e.accessType||"s3"===e.accessType)&&!e.isTemplate}),onBack:function(){return t()},pydio:i,openRightPane:r,closeRightPane:a,onMapped:function(e){var t=e.mapping,r=e.create,e=e.existing;n({workspaceMapping:t,workspaceCreate:r,workspaceExisting:e}),o()}}))):c.default.createElement(f.Step,this.props,c.default.createElement(f.StepLabel,null,this.T("title")," ",this.T("loading")),c.default.createElement(f.StepContent,null,c.default.createElement("div",{style:{textAlign:"center",padding:40}},c.default.createElement(f.CircularProgress,{mode:"indeterminate"}))))}}])&&u(e.prototype,t),r&&u(e,r),a}();r.default=e,t.exports=r.default},{"../workspaces/Loader":15,"../workspaces/Mapper":16,"material-ui":"material-ui",pydio:"pydio",react:"react"}],14:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,f=(n=e("react"))&&n.__esModule?n:{default:n};function a(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function p(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?a(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=l(r);return e=n?(e=l(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(o,f["default"].Component);var e,t,r,n=s(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n.call(this,e)}return e=o,(t=[{key:"getLeftGridY",value:function(){var e=this.props,t=e.dotsRadius,r=e.subheaderHeight;return e.leftGridHeight/2+t+r+e.leftGridOffset}},{key:"getRightGridY",value:function(){var e=this.props,t=e.dotsRadius,r=e.subheaderHeight;return e.rightGridHeight/2+t+r+e.rightGridOffset}},{key:"drawGrid",value:function(e,t,r,n,o){var a=this.props.dotsRadius;e.strokeStyle="rgba(204, 204, 204, 0.6)",e.beginPath();for(var i=0;i<o;i++){var u=t,s=r+i*n;e.moveTo(u+a,s),e.arc(u,s,a,0,2*Math.PI,!0),e.fillStyle="#FFFFFF",e.fill()}e.stroke()}},{key:"linkDots",value:function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:void 0,o=this.props,a=o.leftGridX,i=o.rightGridX,u=o.dotsRadius,s=o.leftGridHeight,l=o.rightGridHeight,c=this.getLeftGridY(),o=this.getRightGridY();e.strokeStyle=n||"#9e9e9e",e.beginPath();a+=u,s=c+t*s,u=i-u,r=o+r*l;e.moveTo(a,s);l=3*(u-a)/5;e.bezierCurveTo(a+l,s,u-l,r,u,r),e.stroke()}},{key:"componentDidMount",value:function(){this.buildCanvas(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.buildCanvas(e)}},{key:"buildCanvas",value:function(e){var t=this.canvas;if(!t.getContext)return null;var r=e.leftGridX,n=e.rightGridX,o=e.leftGridHeight,a=e.rightGridHeight,i=this.getLeftGridY(),u=this.getRightGridY(),s=e.leftNumber,l=e.rightNumber,c=e.links,f=t.getContext("2d");f.clearRect(0,0,t.width,t.height),f.lineWidth=2,f.strokeStyle="#757575",this.drawGrid(f,r,i,o,s),this.drawGrid(f,n,u,a,l);for(var p=0;p<c.length;p++)this.linkDots(f,c[p].left,c[p].right,c[p].color)}},{key:"render",value:function(){var t=this,e=this.props,r=e.dotsRadius,n=e.rightGridX,o=e.leftGridHeight,a=e.rightGridHeight,i=e.subheaderHeight,u=e.leftGridOffset,s=e.rightGridOffset,l=this.props,c=l.leftNumber,e=l.rightNumber,l=l.style,r=n+r+2,i=Math.max(c*o+u,e*a+s)+i;return f.default.createElement("canvas",{style:p(p({},l),{},{background:"transparent",width:r,height:i}),ref:function(e){return t.canvas=e},height:i,width:r})}}])&&i(e.prototype,t),r&&i(e,r),o}();(r.default=c).defaultProps={dotsRadius:4,subheaderHeight:40,leftGridX:10,leftGridHeight:72,leftGridOffset:0,rightGridX:140,rightGridHeight:72,rightGridOffset:0},t.exports=r.default},{react:"react"}],15:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=e("pydio-sdk-js"),p=n(e("pydio/util/lang")),a=n(e("pydio/lang/observable")),u=n(e("pydio/http/api")),s=e("cells-sdk");function n(e){return e&&e.__esModule?e:{default:e}}function l(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function d(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?l(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=y(r);return e=n?(e=y(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(o,a["default"]);var e,t,r,n=h(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n.apply(this,arguments)}return e=o,r=[{key:"parseUserMetaDefinitions",value:function(e){var l=[],c=[],f=[];return e.forEach(function(o){if(o.features&&o.features["meta.user"])for(var a=o.features["meta.user"],e=0,i="",u="meta_fields";a[u+i];){var s=a["meta_types"+i]||"string";a["meta_labels"+i]&&"creator"!==s&&"updater"!==s&&function(){var e=a[u+i],t=a["meta_labels"+i],r=a["meta_additional"+i],n={name:e,label:t,type:s,additional:r,ws:o};l.push(n);e=l.length-1,t=void 0,r=c.filter(function(e){return e.type===n.type&&e.ws!==n.ws&&("choice"!==n.type||n.additional===e.additional)}),t=r.length?c.indexOf(r[0]):(r=d(d({},n),{},{namespace:"usermeta-"+p.default.computeStringSlug(n.name)}),c.push(r),c.length-1);f.push({left:e,right:t})}(),i="_"+ ++e}}),{metas:l,factorized:c,links:f}}}],(t=[{key:"loadWorkspaces",value:function(e,t,r){var o=this,a=new i.ProvisioningApi;return a.apiClient.basePath=p.default.trimRight(e,"/")+"/api/v2",a.apiClient.authentications={basicAuth:{type:"basic",username:t,password:r}},this.notify("progress",{max:10,value:0}),a.adminListWorkspaces().then(function(e){if(!e||!e.data||!e.data.children)return o.notify("progress",{max:10,value:10}),[];var e=e.data.children,t=[],r=1,e=Object.keys(e).map(function(e){return"/"===e?"0":e}),n=e.length+1;return o.notify("progress",{max:n,value:r}),e.forEach(function(e){t.push(a.adminGetWorkspace(e+"",{format:"json"}).then(function(e){return r++,o.notify("progress",{max:n,value:r}),e&&e.id?e:null}).catch(function(e){r++,o.notify("progress",{max:n,value:r})}))}),Promise.all(t).then(function(e){return e.filter(function(e){return null!==e})})})}},{key:"loadTemplatePaths",value:function(){return new s.ConfigServiceApi(u.default.getRestClient()).listVirtualNodes().then(function(e){return e.Children||[]})}},{key:"loadDataSources",value:function(){return new s.ConfigServiceApi(u.default.getRestClient()).listDataSources().then(function(e){return e.DataSources||[]})}},{key:"loadCellsWorkspaces",value:function(){var e=new s.WorkspaceServiceApi(u.default.getRestClient()),t=new s.RestSearchWorkspaceRequest,r=new s.IdmWorkspaceSingleQuery;return r.scope=s.IdmWorkspaceScope.constructFromObject("ADMIN"),t.Queries=[r],e.searchWorkspaces(t).then(function(e){return e.Workspaces||[]})}}])&&c(e.prototype,t),r&&c(e,r),o}();r.default=e,t.exports=r.default},{"cells-sdk":"cells-sdk","pydio-sdk-js":33,"pydio/http/api":"pydio/http/api","pydio/lang/observable":"pydio/lang/observable","pydio/util/lang":"pydio/util/lang"}],16:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var v=a(e("react")),g=a(e("pydio")),w=a(e("./Ws2Datasources")),k=e("material-ui"),s=a(e("./Loader")),O=a(e("./Ws2TemplatePaths")),T=a(e("./Ws2RootNodes")),E=a(e("./Pydio8Workspaces")),l=e("cells-sdk"),c=a(e("pydio/util/lang")),n=a(e("./PathTree")),P=a(e("./Connect"));function a(e){return e&&e.__esModule?e:{default:e}}function i(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function f(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function p(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=m(r);return e=n?(e=m(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S={button:{margin:"0 10px 0"},addButton:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",color:"rgba(255, 215, 0, 1)",boxShadow:"1px",marginTop:-3},connect:{marginLeft:-9,marginRight:-5,zIndex:2,marginTop:30}},e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(u,v["default"].Component);var e,t,r,i=y(u);function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=i.call(this,e),r=e.workspaces,n=e.cellsWorkspaces,o=r.filter(function(t){return 0===n.filter(function(e){return e.UUID===t.id}).length}),a=r.filter(function(t){return 0<n.filter(function(e){return e.UUID===t.id}).length}),e=n.filter(function(t){return 0<r.filter(function(e){return e.id===t.UUID}).length});return t.state={cellsWorkspaces:p(e),workspaces:o,mappedWorkspaces:a,showDatasources:!0,showTemplatePaths:!0,datasources:[],templatePaths:[],offset:0,limit:10},t.loader=new s.default,t}return e=u,(t=[{key:"T",value:function(e){var t=this.props.pydio;return t.MessageHash["migration.step.mapper."+e]||t.MessageHash["migration."+e]||e}},{key:"componentDidMount",value:function(){this.loadDatasources(),this.loadTemplatePaths()}},{key:"loadDatasources",value:function(){var t=this;this.loader.loadDataSources().then(function(e){t.setState({datasources:e})})}},{key:"loadTemplatePaths",value:function(){var t=this;this.loader.loadTemplatePaths().then(function(e){t.setState({templatePaths:[null].concat(p(e))})})}},{key:"toggleRemap",value:function(e,t){var r,n=this.state,o=n.workspaces,a=n.mappedWorkspaces,n=this.props.workspaces.filter(function(e){return e.id===t.UUID})[0],a=e?(r=o.filter(function(e){return e.id!==t.UUID}),[].concat(p(a),[n])):(r=[].concat(p(o),[n]),a.filter(function(e){return e.id!==t.UUID}));this.setState({workspaces:r,mappedWorkspaces:a})}},{key:"mapping",get:function(){var e=this.state,t=e.mapping,i=(e.datasources,e.templatePaths),e=e.workspaces;if(t)return t;var u=new n.default(e.map(function(e){return E.default.extractPath(e)}),"/"),e=e.map(function(e){return{workspace:e}});return e=(e=e.map(function(e,t){var r=u.getNewRoots(function(e){return e.ws===t})[0].parentDs;return f(f({},e),{},{datasourcePath:r,datasource:{}})})).map(function(e,t){var r=e.datasource,n=u.getNewRoots(function(e){return e.template&&e.ws===t})[0],o=n.parentDs,n=n.template,a="Path = DataSources."+r.Name+' + "'+n.substring(o.length)+'";';a=(a=a.replace(/AJXP_USER/g,'" + User.Name + "')).replace(/ \+ "";$/,";");r=i.filter(function(e){return e&&b(e.MetaStore.resolution)===a})[0];return f(f({},e),{},{templatePath:r||null,rootNodePath:n.substring(o.length)})})}},{key:"linkWorkspacesToDatasources",get:function(){var e=this.state,t=e.datasources,r=e.highlight,n=e.selected,o=e.workspaces,a=e.offset,e=e.limit,i=this.mapping,e=Math.min(o.length-a,e),e=o.slice(a,a+e);return this.getLinks(e,t,function(r,n){return i.filter(function(e){var t=e.workspace,e=e.datasource;return t==r&&e==n})[0]},function(e){return e.workspace===n?"#7C0A02":e.workspace===r?"#000000":"#cccccc"})}},{key:"linkWorkspacesToTemplatePaths",get:function(){var e=this.state,t=e.templatePaths,r=e.highlight,n=e.selected,o=e.workspaces,a=e.offset,e=e.limit,i=this.mapping,e=Math.min(o.length-a,e),e=o.slice(a,a+e);return this.getLinks(e,t,function(n,o){return i.filter(function(e){var t=e.workspace,r=e.templatePath,e=e.datasource;return t==n&&r==o&&e&&e.Name})[0]},function(e){return e.workspace===n?"#7C0A02":e.workspace===r?"#000000":"#cccccc"})}},{key:"linkDatasourcesToTemplatePaths",get:function(){var e=this.state,t=e.datasources,r=e.templatePaths,n=e.highlight,o=e.selected,a=this.mapping;return this.getLinks(t,r,function(t,r){return a.filter(function(e){return e.datasource==t}).filter(function(e){return e.templatePath==r})[0]},function(e){return e.workspace===o?"#7C0A02":e.workspace===n?"#000000":"#cccccc"})}},{key:"linkDatasourcesToWorkspaces",get:function(){var e=this.state,t=e.datasources,r=e.highlight,n=e.selected,o=e.workspaces,a=e.offset,e=e.limit,i=this.mapping,e=Math.min(o.length-a,e),e=o.slice(a,a+e);return this.getLinks(t,e,function(r,n){return i.filter(function(e){var t=e.workspace,e=e.datasource;return t==n&&e==r})[0]},function(e){return e.workspace===n?"#7C0A02":e.workspace===r?"#000000":"#cccccc"})}},{key:"linkTemplatePathsToWorkspaces",get:function(){var e=this.state,t=e.templatePaths,r=e.highlight,n=e.selected,o=e.workspaces,a=e.offset,e=e.limit,i=this.mapping,e=Math.min(o.length-a,e),e=o.slice(a,a+e);return this.getLinks(t,e,function(t,r){return i.filter(function(e){return e.templatePath==t}).filter(function(e){return e.workspace==r}).filter(function(e){return e.datasource.Name})[0]},function(e){return e.workspace===n?"#7C0A02":e.workspace===r?"#000000":"#cccccc"})}},{key:"linkWorkspacesToWorkspaces",get:function(){var e=this.state,t=(e.datasources,e.highlight),r=e.selected,n=e.workspaces,o=e.offset,e=e.limit,a=this.mapping,e=Math.min(n.length-o,e),e=n.slice(o,o+e);return this.getLinks(e,e,function(t,r){return a.filter(function(e){e=e.workspace;return e==t&&e==r})[0]},function(e){return e.workspace===r?"#7C0A02":e.workspace===t?"#000000":"#cccccc"})}},{key:"getLinks",value:function(e,t,a,i){return e.reduce(function(e,n,o){return[].concat(p(e),p(t.reduce(function(e,t,r){t=a(n,t);return t?[].concat(p(e),[{left:o,right:r,color:i(t)}]):e},[])))},[])}},{key:"handleSelectWorkspace",value:function(e){this.setState({selected:e})}},{key:"handleSelectDatasource",value:function(t){var r=this.state.selected,e=this.mapping.map(function(e){return e.workspace===r?(delete e.datasource,delete e.templatePath,f(f({},e),{},{datasource:t})):e});this.setState({mapping:e})}},{key:"handleSelectTemplatePath",value:function(t){var e=this.state,r=e.datasources,n=e.selected,e=this.mapping,o=_(b(t.MetaStore.resolution)),a=r.filter(function(e){return e.Name===o})[0],e=e.map(function(e){return e.workspace===n?(delete e.datasource,delete e.templatePath,f(f({},e),{},{datasource:a,templatePath:t})):e});this.setState({mapping:e,selected:null})}},{key:"handleSelectRootNode",value:function(t,r){var e=this.mapping.map(function(e){return e.workspace===t?f(f({},e),{},{rootNode:r,valid:!0}):e});this.setState({mapping:e})}},{key:"handleInvalidRootNode",value:function(t){var e=this.mapping.map(function(e){return e.workspace===t?f(f({},e),{},{valid:!1}):e});this.setState({mapping:e})}},{key:"handleShowPath",value:function(e){this.setState({highlight:e})}},{key:"handleHidePath",value:function(){var e=this.state;delete e.highlight,this.setState(e)}},{key:"handleShowDatasources",value:function(){this.setState({showDatasources:!0})}},{key:"handleHideDatasources",value:function(){this.setState({showDatasources:!1})}},{key:"handleShowTemplatePaths",value:function(){this.setState({showTemplatePaths:!0})}},{key:"handleHideTemplatePaths",value:function(){this.setState({showTemplatePaths:!1})}},{key:"handleCreateDatasource",value:function(){var e,t=this,r=this.state.selected,n=this.props,o=n.pydio,a=n.openRightPane,i=n.closeRightPane,u=r.display,s=r.accessType,n=r.parameters;"s3"===s?((e=new l.ObjectDataSource).Name=c.default.computeStringSlug(u).replace(/-/g,""),e.StorageType="S3",e.ApiKey=n.API_KEY,e.ApiSecret=n.SECRET_KEY,e.ObjectsBucket=n.CONTAINER,e.StorageConfiguration={},n.STORAGE_URL&&(e.StorageConfiguration={customEndpoint:n.STORAGE_URL}),n.PATH&&(e.ObjectsBaseFolder=n.PATH)):"fs"===s&&(e=new l.ObjectDataSource,n=n.PATH||"",r&&(n=this.mapping.filter(function(e){return e.workspace===r})[0].datasourcePath),e.Name=c.default.computeStringSlug(n.substr(1)).replace(/-/g,""),e.StorageConfiguration={},e.StorageConfiguration.folder=n),a({COMPONENT:AdminWorkspaces.DataSourceEditor,PROPS:{ref:"editor",pydio:o,create:!0,dataSource:e,storageTypes:[],closeEditor:function(){i()},reloadList:function(){t.loadDatasources()}}})}},{key:"handleCreateTemplatePath",value:function(){var e=this,t=ReactDOM.findDOMNode(this.container),r=ReactDOM.findDOMNode(this.templatePaths),n=t.getBoundingClientRect(),o=r.getBoundingClientRect(),a=this.state.selected,i=this.mapping.filter(function(e){e=e.workspace;return a===e})[0],u=AdminWorkspaces,s=u.TemplatePathEditor,r=new u.TemplatePath,u=' + "'+i.rootNodePath+'";';u=(u=u.replace(/AJXP_USER/g,'" + User.Name + "')).replace(/ \+ "";$/,";"),r.setName(a.slug),r.setValue("Path = DataSources."+i.datasource.Name+u),this.setState({dialogComponent:v.default.createElement(s,{dataSources:this.state.datasources,node:r,oneLiner:!0,onSave:function(){e.loadTemplatePaths(),e.setState({dialogComponent:null})},onClose:function(){return e.setState({dialogComponent:null})}}),dialogStyle:{position:"absolute",zIndex:2,background:"white",top:o.y-n.y+o.height,left:o.x+t.scrollLeft-n.x,width:o.w,height:48}})}},{key:"handleNext",value:function(){var e=this.props.onMapped,t=this.state.mappedWorkspaces,r=this.mapping,o={mapping:{},create:{},existing:{}};t.forEach(function(e){o.mapping[e.id]=e.id,o.existing[e.id]=e}),r.filter(function(e){return e.rootNode}).map(function(e){var t=e.workspace,r=e.rootNode,e=new AdminWorkspaces.Workspace,n=e.getModel();n.UUID=t.id,n.Label=t.display,n.Description=t.display,n.Slug=t.slug,n.Attributes.DEFAULT_RIGHTS="",t.parameters.DEFAULT_RIGHTS,t.features&&t.features["meta.syncable"]&&"true"===t.features["meta.syncable"].REPO_SYNCABLE&&(n.Attributes.ALLOW_SYNC="true"),n.RootNodes={},Object.keys(r).forEach(function(e){e=r[e];n.RootNodes[e.Uuid]=e}),o.mapping[t.id]=n.UUID,o.create[t.id]=e}),e(o)}},{key:"isInvalid",value:function(r){return 0<this.mapping.filter(function(e){var t=e.workspace,e=e.valid;return t===r&&!1===e}).length}},{key:"isValid",value:function(r){return 0<this.mapping.filter(function(e){var t=e.workspace,e=e.valid;return t===r&&!0===e}).length}},{key:"isDatasourceSelectable",value:function(e){var t=this.state.selected;return t&&t.accessType===("string"==typeof e.StorageType&&e.StorageType.toLowerCase()||"fs")}},{key:"isDatasourceHighlighted",value:function(r){var n=this.state.highlight;return 0<this.mapping.filter(function(e){var t=e.workspace,e=e.datasource;return n===t&&e===r}).length}},{key:"isTemplatePathSelectable",value:function(e){return this.state.selected&&e}},{key:"isTemplatePathHighlighted",value:function(n){var o=this.state.highlight;return 0<this.mapping.filter(function(e){var t=e.workspace,r=e.datasource,e=e.templatePath;return o===t&&r&&r.Name&&e===n}).length}},{key:"paginator",value:function(){var e,t,r=this,n=this.state,o=n.workspaces,a=n.offset,n=n.limit;return o.length<=n?null:(o.length-a>n&&(e=a+n),0<a&&(t=a-n),v.default.createElement("div",{style:{display:"flex",justifyContent:"center",position:"absolute",top:-13,left:0,right:0}},v.default.createElement(k.FlatButton,{primary:!0,icon:v.default.createElement(k.FontIcon,{className:"mdi mdi-chevron-left"}),label:this.T("next10")+n,disabled:void 0===t,onClick:function(){r.setState({offset:t})}}),v.default.createElement(k.FlatButton,{primary:!0,icon:v.default.createElement(k.FontIcon,{className:"mdi mdi-chevron-right"}),label:this.T("prev10")+n,labelPosition:"before",disabled:void 0===e,onClick:function(){r.setState({offset:e})}})))}},{key:"render",value:function(){var n=this,e=this.props,t=e.loading,r=e.error,o=e.progress,a=e.onBack,i=this.state,u=i.selected,s=i.workspaces,l=i.datasources,c=i.templatePaths,f=i.dialogComponent,p=i.dialogStyle,d=i.mappedWorkspaces,h=i.cellsWorkspaces,y=i.offset,m=i.limit,b=this.state,e=b.showDatasources,i=b.showTemplatePaths,b=this.mapping.map(function(e){e.workspace;var t=e.datasource,r=e.templatePath,e=e.rootNodePath;return r?r.Path:t&&t.Name?t.Name+e:void 0}),m=Math.min(s.length-y,m);return v.default.createElement("div",{ref:function(e){return n.container=e},style:{position:"relative",overflowX:"scroll"}},0<h.length&&v.default.createElement("div",{style:{padding:16}},this.T("already")," :",h.map(function(r){var e=r.Label+" ("+r.UUID+")",t=d.filter(function(e){return r.UUID===e.id}).length;return v.default.createElement(k.Checkbox,{label:e,checked:t,onCheck:function(e,t){n.toggleRemap(t,r)}})})),v.default.createElement("div",{style:{padding:16}},!t&&v.default.createElement("div",null,this.T("wsnumber").replace("%s",s.length)),t&&v.default.createElement("div",null,this.T("loading"),o&&v.default.createElement(k.LinearProgress,{mode:"determinate",max:o.max,value:o.value})),r&&v.default.createElement("div",{style:{color:"red"}},this.T("loading.error").replace("%s",r))),f&&v.default.createElement(k.Paper,{style:p},f),v.default.createElement("div",{style:{display:"flex",marginLeft:16,padding:16,backgroundColor:"#fafafa",overflowX:"scroll"},onMouseLeave:function(){return n.handleHidePath()}},v.default.createElement(k.Divider,null),v.default.createElement(k.Card,null,v.default.createElement(k.CardHeader,{title:this.T("p8.title"),openIcon:v.default.createElement(k.IconMenu,{iconButtonElement:v.default.createElement(k.FontIcon,{className:"mdi mdi-dots-vertical"})},v.default.createElement(k.MenuItem,{primaryText:this.T("p8.ds.show"),onClick:function(){return n.handleShowDatasources()}}),v.default.createElement(k.MenuItem,{primaryText:this.T("p8.tpl.show"),onClick:function(){return n.handleShowTemplatePaths()}})),closeIcon:v.default.createElement(k.IconMenu,{iconButtonElement:v.default.createElement(k.FontIcon,{className:"mdi mdi-dots-vertical"})},v.default.createElement(k.MenuItem,{primaryText:this.T("p8.ds.show"),onClick:function(){return n.handleShowDatasources()}}),v.default.createElement(k.MenuItem,{primaryText:this.T("p8.tpl.show"),onClick:function(){return n.handleShowTemplatePaths()}})),showExpandableButton:!0}),v.default.createElement(k.CardText,{style:{position:"relative",minWidth:400}},v.default.createElement(E.default,{workspaces:s.slice(y,y+m),selected:u,isValid:function(e){return n.isValid(e)},isInvalid:function(e){return n.isInvalid(e)},onHover:function(e){return n.handleShowPath(e)},onSelect:function(e){return n.handleSelectWorkspace(e)}}),this.paginator())),e&&v.default.createElement(P.default,{style:S.connect,leftNumber:m,rightNumber:l.length,links:this.linkWorkspacesToDatasources}),e&&v.default.createElement(k.Card,null,v.default.createElement(k.CardHeader,{title:this.T("cells.title"),closeIcon:v.default.createElement(k.FontIcon,{className:"mdi mdi-eye-off",onClick:function(){return n.handleHideDatasources()}}),showExpandableButton:!0}),v.default.createElement(k.CardText,null,v.default.createElement(w.default,{datasources:l,selectable:function(e){return n.isDatasourceSelectable(e)},highlighted:function(e){return n.isDatasourceHighlighted(e)},onSelect:function(e){return n.handleSelectDatasource(e)}})),v.default.createElement(k.CardActions,null,u&&v.default.createElement(k.RaisedButton,{label:this.T("createds"),style:S.button,icon:v.default.createElement(k.FontIcon,{className:"mdi mdi-plus-circle-outline",style:S.addButton}),onClick:function(){return n.handleCreateDatasource()}}))),i&&(e&&v.default.createElement(P.default,{style:S.connect,leftNumber:l.length,rightNumber:c.length,links:this.linkDatasourcesToTemplatePaths})||v.default.createElement(P.default,{style:S.connect,leftNumber:m,rightNumber:c.length,links:this.linkWorkspacesToTemplatePaths})),i&&v.default.createElement(k.Card,{style:{position:"relative"}},v.default.createElement(k.CardHeader,{title:this.T("tpath.title"),closeIcon:v.default.createElement(k.FontIcon,{className:"mdi mdi-eye-off",onClick:function(){return n.handleHideTemplatePaths()}}),showExpandableButton:!0}),v.default.createElement(k.CardText,null,v.default.createElement(O.default,{style:{flex:1},templatePaths:c,selectable:function(e){return n.isTemplatePathSelectable(e)},highlighted:function(e){return n.isTemplatePathHighlighted(e)},onSelect:function(e){return n.handleSelectTemplatePath(e)}})),v.default.createElement(k.CardActions,null,u&&v.default.createElement(k.RaisedButton,{label:this.T("tpath.create"),ref:function(e){return n.templatePaths=e},style:S.button,icon:v.default.createElement(k.FontIcon,{className:"mdi mdi-plus-circle-outline",style:S.addButton}),onClick:function(){return n.handleCreateTemplatePath()}}))),i&&v.default.createElement(P.default,{style:S.connect,leftNumber:c.length,rightNumber:m,links:this.linkTemplatePathsToWorkspaces}),!i&&e&&v.default.createElement(P.default,{style:S.connect,leftNumber:l.length,rightNumber:m,links:this.linkDatasourcesToWorkspaces}),!i&&!e&&v.default.createElement(P.default,{style:S.connect,leftNumber:m,rightNumber:m,links:this.linkWorkspacesToWorkspaces}),v.default.createElement(k.Card,{style:{marginRight:16}},v.default.createElement(k.CardHeader,{title:this.T("nodes.title")}),v.default.createElement(k.CardText,null,v.default.createElement(T.default,{pydio:g.default.getInstance(),style:{flex:1},workspaces:s.slice(y,y+m),paths:b.slice(y,y+m),onSelect:function(e,t){return n.handleSelectRootNode(e,t)},onError:function(e){return n.handleInvalidRootNode(e)}}))),v.default.createElement("div",{style:{minWidth:8}})),v.default.createElement("div",{style:{padding:"20px 16px 2px"}},v.default.createElement(k.RaisedButton,{label:this.T("back"),onClick:function(){return a()}}),"  ",v.default.createElement(k.RaisedButton,{label:this.T("next"),primary:!0,onClick:function(){n.handleNext()}})))}}])&&d(e.prototype,t),r&&d(e,r),u}();r.default=e;var b=function(e){return e.replace(/\/\*[\s\S]*?\*\/|([^:]|^)\/\/.*$/gm,"").replace(/(\r\n|\n|\r)/gm,"")},_=function(e){return e.replace(/^Path = DataSources\.([^ ]*) \+ .*$/,"$1")};t.exports=r.default},{"./Connect":14,"./Loader":15,"./PathTree":18,"./Pydio8Workspaces":19,"./Ws2Datasources":20,"./Ws2RootNodes":21,"./Ws2TemplatePaths":22,"cells-sdk":"cells-sdk","material-ui":"material-ui",pydio:"pydio","pydio/util/lang":"pydio/util/lang",react:"react"}],17:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=n(e("react")),i=e("material-ui"),u=n(e("./Loader")),s=n(e("./Connect")),l=n(e("pydio/util/lang")),c=n(e("pydio")),f=e("cells-sdk");function n(e){return e&&e.__esModule?e:{default:e}}function p(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function d(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?p(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):p(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=b(r);return e=n?(e=b(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=c.default.requireLib("hoc").ModernTextField,e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(o,a["default"].Component);var e,t,r,n=m(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this,e)).state={},e}return e=o,(t=[{key:"T",value:function(e){return c.default.getInstance().MessageHash["migration."+e]||e}},{key:"renderFontIcon",value:function(e){var t;switch(e.type){case"string":case"text":case"longtext":t="pencil";break;case"stars_rate":t="star";break;case"css_label":t="label-outline";break;case"choice":t="format-list-bulleted";break;case"tags":t="cloud-outline";break;default:t="file"}return a.default.createElement(i.FontIcon,{className:"mdi mdi-"+t})}},{key:"exportMapping",value:function(){var n,e=this.state,t=e.metas,o=e.factorized,a=e.links;t&&t.length&&(n={mapping:{},create:this.buildNamespaces()},t.forEach(function(e,t){var r=a.filter(function(e){return e.left===t})[0].right;n.mapping[e.name]=o[r].namespace}),this.props.onMapped(n))}},{key:"componentDidMount",value:function(){var e,t,r,n=this;this.props.workspaces&&this.props.workspaces.length&&(e=(r=u.default.parseUserMetaDefinitions(this.props.workspaces.filter(function(e){return!e.isTemplate}))).metas,t=r.factorized,r=r.links,this.setState({metas:e,factorized:t,links:r},function(){n.exportMapping()}))}},{key:"componentWillReceiveProps",value:function(e){var t,r,n=this;!e.workspaces||!e.workspaces.length||e.workspaces===this.props.workspaces&&this.props.workspaces&&this.props.workspaces.length||(t=(r=u.default.parseUserMetaDefinitions(e.workspaces.filter(function(e){return!e.isTemplate}))).metas,e=r.factorized,r=r.links,this.setState({metas:t,factorized:e,links:r},function(){n.exportMapping()}))}},{key:"toggle",value:function(e){var t=this.state.factorized;t[e].edit=!t[e].edit,this.setState({factorized:t})}},{key:"updateLabel",value:function(e,t){var r=this,n=this.state.factorized;n[e].label=t,n[e].namespace="usermeta-"+l.default.computeStringSlug(t),this.setState({factorized:n},function(){r.exportMapping()})}},{key:"buildNamespaces",value:function(){return this.state.factorized.map(function(e,t){var r=new f.IdmUserMetaNamespace;r.Namespace=e.namespace,r.Label=e.label;var n={type:e.type};return"choice"===e.type&&(n.data=e.additional),r.JsonDefinition=JSON.stringify(n),r.Order=t,r.Indexable=!0,r.Policies=[f.ServiceResourcePolicy.constructFromObject({Action:"READ",Subject:"*",Effect:"allow"}),f.ServiceResourcePolicy.constructFromObject({Action:"WRITE",Subject:"*",Effect:"allow"})],r})}},{key:"render",value:function(){var n=this,e=this.state,t=e.metas,r=e.factorized,e=e.links;if(!t)return null;return a.default.createElement("div",{style:{margin:16,display:"flex"}},a.default.createElement(i.Paper,{zDepth:1,style:{width:350}},a.default.createElement(i.List,null,a.default.createElement(i.Subheader,null,this.T("step.meta.from")),t.map(function(e){return a.default.createElement(i.ListItem,{primaryText:e.label,secondaryText:n.T("step.meta.map.ws").replace("%s",e.ws.display),leftIcon:n.renderFontIcon(e),disabled:!0})}))),a.default.createElement(s.default,{leftNumber:t.length,rightNumber:r.length,leftGridHeight:72,rightGridHeight:72,links:e.map(function(e){return d(d({},e),{},{color:"#2196f3"})}),style:{marginLeft:-9,marginRight:-5}}),a.default.createElement(i.Paper,{zDepth:1,style:{width:350}},a.default.createElement(i.List,null,a.default.createElement(i.Subheader,null,this.T("step.meta.to")),r.map(function(e,r){return e.edit?a.default.createElement(i.ListItem,{style:{backgroundColor:"rgba(255, 215, 0, 0.2)"},primaryText:a.default.createElement(v,{style:{height:40},value:e.label,onChange:function(e,t){n.updateLabel(r,t)}}),leftIcon:a.default.createElement(i.FontIcon,{style:{margin:"24px 12px",cursor:"pointer"},className:"mdi mdi-check",onClick:function(){n.toggle(r)}}),disabled:!0}):a.default.createElement(i.ListItem,{primaryText:e.label,secondaryText:e.namespace+(e.additional?n.T("step.meta.map.values").replace("%s",e.additional):""),leftIcon:n.renderFontIcon(e),onClick:function(){n.toggle(r)}})}))))}}])&&h(e.prototype,t),r&&h(e,r),o}();r.default=e,t.exports=r.default},{"./Connect":14,"./Loader":15,"cells-sdk":"cells-sdk","material-ui":"material-ui",pydio:"pydio","pydio/util/lang":"pydio/util/lang",react:"react"}],18:[function(e,t,r){"use strict";function f(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=function(){function n(e){var t=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"/";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.SEPARATOR=r,this.paths=e.map(function(e){return e[0]===t.SEPARATOR?e:t.SEPARATOR+e}),this.tree=this.arrangeIntoTree(this.paths),this.newRoots=[],this.links=[],this.flattenTree(this.tree,this.newRoots,this.links);this.flatten(this.tree)}var e,t,r;return e=n,(t=[{key:"flatten",value:function(e){var r=this;return Array.isArray(e)?e.reduce(function(e,t){return t&&e.concat(r.flatten(t),r.flatten(t.children))},[]):e}},{key:"getNewRoots",value:function(e){if("function"==typeof e)return this.newRoots.filter(e)}},{key:"getLinks",value:function(e){var t=this,o=0;return this.newRoots.filter(e).reduce(function(r,n){t.paths.map(function(e,t){(e.startsWith(n.ds)||e.startsWith(n.ds,1))&&(r=[].concat(f(r),[{left:t,right:o,color:"#e0e0e0",type:"ds"}]))});return o++,r},[])}},{key:"arrangeIntoTree",value:function(e){var t=this,r=[];return e.forEach(function(e,o){var a=e.split(t.SEPARATOR);a.shift();var i=r;a.forEach(function(t,e){var r,n=e===a.length-1,e=i.filter(function(e){return e.name===t});e.length?(r=e[0],i=r.children,n&&r.workspaces.push(o)):(r={name:t,children:[],workspaces:[]},n&&r.workspaces.push(o),i.push(r),i=r.children)})}),r}},{key:"flattenTree",value:function(e,i,u){var s=this,l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[],c=4<arguments.length&&void 0!==arguments[4]?arguments[4]:-1;e.forEach(function(e){var t=e.children,r=e.name,n=e.workspaces,e=[].concat(f(l),[r]),o=c,a=e.join(s.SEPARATOR);0!==a.indexOf("AJXP_")&&(a=s.SEPARATOR+a),(1<t.length||-1===c&&0===t.length)&&(o=i.length,-1<a.indexOf("AJXP_USER")?((r=f(e)).pop(),i.push({ds:r.join("/")})):i.push({ds:a})),n.length&&-1<o&&n.forEach(function(e){var t;-1<a.indexOf("AJXP_USER")?(t=i.length,i.push({template:a,parentDs:i[o].ds,ws:e}),u.push({left:e,right:o,color:"#e0e0e0",type:"ds",weak:!0}),u.push({left:e,right:t,color:"#1565c0",type:"tp"})):(u.push({left:e,right:o,color:"#78909c",type:"ds"}),i.push({template:a,parentDs:i[o].ds,ws:e}))}),t.length&&s.flattenTree(t,i,u,e,o)})}}])&&o(e.prototype,t),r&&o(e,r),n}();r.default=a,t.exports=r.default},{}],19:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u=i(e("react")),n=i(e("pydio/util/hasher")),a=i(e("pydio/util/lang")),s=e("material-ui");function i(e){return e&&e.__esModule?e:{default:e}}function l(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function c(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?l(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function f(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),e}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g(r);return e=n?(e=g(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w={backgroundColor:"#eeeeee"},k={backgroundColor:"rgba(0, 171, 102, 0.1)"},O={backgroundColor:"#ffebee"},T=function(){m(t,u["default"].Component);var e=v(t);function t(){return d(this,t),e.apply(this,arguments)}return y(t,[{key:"render",value:function(){var e=this.props,t=e.workspaces,r=e.isInvalid,n=e.isValid,o=e.selected,a=e.onSelect,i=e.onHover;return u.default.createElement(s.List,{style:{flex:1,display:"flex",flexDirection:"column"}},t.map(function(e,t){return u.default.createElement(E,{style:{flex:1},workspace:e,valid:n(e),invalid:r(e),selected:o===e,onSelect:function(e){return a(e)},onHover:function(e){return i(e)}})}))}}],[{key:"toString",value:function(e){var t=e.accessType,e=e.parameters,e=void 0===e?{}:e;return"s3"!==t?e.PATH:e.STORAGE_URL?"S3-compatible storage URL":"Amazon S3"}},{key:"extractPath",value:function(e){var t=e.accessType,e=e.parameters,e=void 0===e?{}:e;if("fs"===t)return e.PATH;t=[];return t.push(e.STORAGE_URL?"custom:"+n.default.base64_encode(e.STORAGE_URL):"s3"),t.push(e.API_KEY,e.SECRET_KEY),t.push(e.CONTAINER),e.PATH&&(e=a.default.trim(e.PATH,"/").split("/"),t.push.apply(t,f(e))),t.join("/")}}]),t}();r.default=T;var E=function(){m(t,u["default"].Component);var e=v(t);function t(){return d(this,t),e.apply(this,arguments)}return y(t,[{key:"handleSelect",value:function(e){var t=this.props,r=t.workspace,n=t.selected,t=t.onSelect;t(n?null:r)}},{key:"handleHover",value:function(){var e=this.props,t=e.workspace,r=e.selected,e=e.onHover;r||e(t)}},{key:"render",value:function(){var e=this,t=this.props,r=t.workspace,n=t.valid,o=t.invalid,a=t.selected,t=this.props.style;return a&&(t=c(c({},t),w)),n?t=c(c({},t),k):o&&(t=c(c({},t),O)),u.default.createElement(s.ListItem,{leftIcon:u.default.createElement(s.FontIcon,{className:"mdi mdi-database"}),primaryText:r.display,secondaryText:T.toString(r),style:t,onMouseOver:function(){return e.handleHover()},onClick:function(){return e.handleSelect()}})}}]),t}();t.exports=r.default},{"material-ui":"material-ui","pydio/util/hasher":"pydio/util/hasher","pydio/util/lang":"pydio/util/lang",react:"react"}],20:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=n(e("react")),i=n(e("pydio/util/hasher")),u=n(e("pydio/util/lang")),c=e("material-ui");function n(e){return e&&e.__esModule?e:{default:e}}function a(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function s(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?a(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function f(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),e}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g(r);return e=n?(e=g(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w={backgroundColor:"rgba(204, 204, 204, 0.2)"},k={backgroundColor:"rgba(255, 215, 0, 0.2)"},O=function(){m(r,l["default"].Component);var t=v(r);function r(e){return d(this,r),(e=t.call(this,e)).state={startedServices:[]},e}return y(r,[{key:"componentDidMount",value:function(){var t=this;this.statusPoller=setInterval(function(){AdminWorkspaces.DataSource.loadStatuses().then(function(e){t.setState({startedServices:e.Services})})},2500)}},{key:"componentWillUnmount",value:function(){clearInterval(this.statusPoller)}},{key:"render",value:function(){var e=this.props,t=e.header,r=e.headerIcons,a=e.highlighted,i=e.selectable,n=e.datasources,u=(e.onCreate,e.onSelect),s=this.state.startedServices;return l.default.createElement(c.List,null,l.default.createElement(c.Subheader,null,t," ",r),n.map(function(r,e){var t=s.reduce(function(e,t){return e||t.Name==="pydio.grpc.data.sync."+r.Name},!1),n=s.reduce(function(e,t){return e||t.Name==="pydio.grpc.data.index."+r.Name},!1),o=s.reduce(function(e,t){return e||t.Name==="pydio.grpc.data.objects."+r.ObjectsServiceName},!1);return l.default.createElement(T,{path:"",selectable:i(r),highlighted:a(r),datasource:r,running:t&&n&&o,onSelect:function(e){return u(e)}})}))}}],[{key:"toString",value:function(e){var t=e.StorageType,e=e.StorageConfiguration,e=void 0===e?{}:e;return"S3"!==t?e.folder:e.customEndpoint?"S3-compatible storage URL":"Amazon S3"}},{key:"extractPath",value:function(e){var t=e.StorageType,r=e.StorageConfiguration,n=void 0===r?{}:r;if("S3"!==t)return n.folder;var o=e.ApiKey,a=e.ApiSecret,r=e.ObjectsBucket,t=e.ObjectsBaseFolder,e=n.customEndpoint,n=[];return n.push(e?"custom:"+i.default.base64_encode(e):"s3"),n.push(o,a),n.push(r),t&&(t=u.default.trim(t,"/").split("/"),n.push.apply(n,f(t))),n.join("/")}}]),r}();r.default=O;var T=function(){m(t,l["default"].Component);var e=v(t);function t(){return d(this,t),e.apply(this,arguments)}return y(t,[{key:"handleSelect",value:function(){var e=this.props,t=e.datasource;(0,e.onSelect)(t)}},{key:"render",value:function(){var e=this,t=this.props,r=t.datasource,n=t.selectable,o=t.highlighted,a=t.running,t=r.StorageType,a=a?"s3"===(void 0===t?"":t)?"cloud-circle":"folder":"sync",t=this.props.style;return o&&(t=s(s({},t),w)),n&&(t=s(s({},t),k)),l.default.createElement("div",null,l.default.createElement(c.ListItem,{leftIcon:l.default.createElement(c.FontIcon,{style:{lineHeight:"24px"},className:"mdi mdi-"+a}),primaryText:r.Name,secondaryText:O.toString(r),style:t,disabled:!n,onClick:function(){return e.handleSelect()}}))}}]),t}();t.exports=r.default},{"material-ui":"material-ui","pydio/util/hasher":"pydio/util/hasher","pydio/util/lang":"pydio/util/lang",react:"react"}],21:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,l=(n=e("react"))&&n.__esModule?n:{default:n},c=e("material-ui");function a(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach(function(e){h(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=d(r);return e=n?(e=d(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?p(t):e}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(a,l["default"].Component);var e,t,r,o=s(a);function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return h(p(e=o.call.apply(o,[this].concat(r))),"component",void 0),e}return e=a,(t=[{key:"componentDidMount",value:function(){this.component=AdminWorkspaces.WsAutoComplete}},{key:"T",value:function(e){return Pydio.getInstance().MessageHash["migration."+e]||e}},{key:"render",value:function(){var t=this,e=this.props,n=e.pydio,r=e.style,o=e.workspaces,a=e.paths,i=e.onSelect,u=e.onError;if(!this.component)return null;var s=this.component;return l.default.createElement(c.List,{style:f(f({},r),{},{minWidth:400})},a.map(function(e,r){return l.default.createElement(c.ListItem,{innerDivStyle:{height:"72px",padding:"0 16px",display:"flex"},disabled:!0},e&&l.default.createElement(s,{pydio:n,key:e,style:{backgroundColor:"#ffffff",width:400,margin:0,padding:0},value:e,validateOnLoad:!0,onChange:function(e,t){return i(o[r],h({},e,t))},onError:function(){return u(o[r])}})||l.default.createElement("span",{style:{display:"flex",fontStyle:"italic",height:"72px",alignItems:"center"}},t.T("step.mapper.invalid")))}))}}])&&i(e.prototype,t),r&&i(e,r),a}();r.default=y,t.exports=r.default},{"material-ui":"material-ui",react:"react"}],22:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=u(e("react")),n=u(e("pydio")),i=e("material-ui");function u(e){return e&&e.__esModule?e:{default:e}}function s(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function l(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=m(r);return e=n?(e=m(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b={backgroundColor:"rgba(204, 204, 204, 0.2)"},v={backgroundColor:"rgba(255, 215, 0, 0.2)"};r.default=function(){d(t,a["default"].Component);var e=y(t);function t(){return c(this,t),e.apply(this,arguments)}return p(t,[{key:"render",value:function(){var e=this.props,r=(e.title,e.selectable),n=e.highlighted,t=e.templatePaths,o=(e.onCreate,e.onSelect);return a.default.createElement(i.List,{style:{flex:1}},t.map(function(e,t){return a.default.createElement(g,{selectable:r(e),highlighted:n(e),templatePath:e,onSelect:function(e){return o(e)}})}))}}]),t}();var g=function(){d(t,a["default"].Component);var e=y(t);function t(){return c(this,t),e.apply(this,arguments)}return p(t,[{key:"handleSelect",value:function(){var e=this.props,t=e.templatePath;(0,e.onSelect)(t)}},{key:"T",value:function(e){return n.default.getInstance().MessageHash["migration."+e]||e}},{key:"render",value:function(){var e=this,t=this.props,r=t.selectable,n=t.highlighted,o=t.templatePath,t=this.props.style;return n&&(t=l(l({},t),b)),o?(r&&(t=l(l({},t),v)),a.default.createElement(i.ListItem,{style:t,leftIcon:a.default.createElement(i.FontIcon,{className:"mdi mdi-file-tree"}),primaryText:o.Path,secondaryText:o.MetaStore.resolution.replace(/\/\*[\s\S]*?\*\/|([^:]|^)\/\/.*$/gm,"").replace(/(\r\n|\n|\r)/gm,""),disabled:!r,onClick:function(){return e.handleSelect()}})):a.default.createElement(i.ListItem,{style:t,leftIcon:a.default.createElement(i.FontIcon,{className:"mdi mdi-folder-outline"}),primaryText:this.T("step.mapper.notplpath.primary"),secondaryText:this.T("step.mapper.notplpath.secondary")})}}]),t}();t.exports=r.default},{"material-ui":"material-ui",pydio:"pydio",react:"react"}],23:[function(e,t,r){"use strict";r.byteLength=function(e){var t=c(e),e=t[0],t=t[1];return 3*(e+t)/4-t},r.toByteArray=function(e){var t,r,n=c(e),o=n[0],n=n[1],a=new l(function(e,t){return 3*(e+t)/4-t}(o,n)),i=0,u=0<n?o-4:o;for(r=0;r<u;r+=4)t=s[e.charCodeAt(r)]<<18|s[e.charCodeAt(r+1)]<<12|s[e.charCodeAt(r+2)]<<6|s[e.charCodeAt(r+3)],a[i++]=t>>16&255,a[i++]=t>>8&255,a[i++]=255&t;2===n&&(t=s[e.charCodeAt(r)]<<2|s[e.charCodeAt(r+1)]>>4,a[i++]=255&t);1===n&&(t=s[e.charCodeAt(r)]<<10|s[e.charCodeAt(r+1)]<<4|s[e.charCodeAt(r+2)]>>2,a[i++]=t>>8&255,a[i++]=255&t);return a},r.fromByteArray=function(e){for(var t,r=e.length,n=r%3,o=[],a=0,i=r-n;a<i;a+=16383)o.push(function(e,t,r){for(var n,o=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(function(e){return u[e>>18&63]+u[e>>12&63]+u[e>>6&63]+u[63&e]}(n));return o.join("")}(e,a,i<a+16383?i:a+16383));1==n?(t=e[r-1],o.push(u[t>>2]+u[t<<4&63]+"==")):2==n&&(t=(e[r-2]<<8)+e[r-1],o.push(u[t>>10]+u[t>>4&63]+u[t<<2&63]+"="));return o.join("")};for(var u=[],s=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=n.length;o<a;++o)u[o]=n[o],s[n.charCodeAt(o)]=o;function c(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");e=e.indexOf("=");return[e=-1===e?t:e,e===t?0:4-e%4]}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},{}],24:[function(e,t,r){},{}],25:[function(R,e,x){!function(e){!function(){"use strict";var u=R("base64-js"),a=R("ieee754");x.Buffer=f,x.SlowBuffer=function(e){+e!=e&&(e=0);return f.alloc(+e)},x.INSPECT_MAX_BYTES=50;var t=2147483647;function o(e){if(t<e)throw new RangeError('The value "'+e+'" is invalid for option "size"');e=new Uint8Array(e);return e.__proto__=f.prototype,e}function f(e,t,r){if("number"!=typeof e)return n(e,t,r);if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return s(e)}function n(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!f.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|p(e,t),n=o(r),t=n.write(e,t);t!==r&&(n=n.slice(0,t));return n}(e,t);if(ArrayBuffer.isView(e))return l(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(A(e,ArrayBuffer)||e&&A(e.buffer,ArrayBuffer))return function(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');r=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r);return r.__proto__=f.prototype,r}(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return f.from(n,t,r);n=function(e){if(f.isBuffer(e)){var t=0|c(e.length),r=o(t);return 0===r.length?r:(e.copy(r,0,0,t),r)}if(void 0!==e.length)return"number"!=typeof e.length||C(e.length)?o(0):l(e);if("Buffer"===e.type&&Array.isArray(e.data))return l(e.data)}(e);if(n)return n;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return f.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function i(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function s(e){return i(e),o(e<0?0:0|c(e))}function l(e){for(var t=e.length<0?0:0|c(e.length),r=o(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function c(e){if(t<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+t.toString(16)+" bytes");return 0|e}function p(e,t){if(f.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||A(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=2<arguments.length&&!0===arguments[2];if(!n&&0===r)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return S(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return _(e).length;default:if(o)return n?-1:S(e).length;t=(""+t).toLowerCase(),o=!0}}function r(e,t,r){var n,o,a,i=!1;if((t=void 0===t||t<0?0:t)>this.length)return"";if((r=void 0===r||r>this.length?this.length:r)<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":return function(e,t,r){var n=e.length;(!t||t<0)&&(t=0);(!r||r<0||n<r)&&(r=n);for(var o="",a=t;a<r;++a)o+=function(e){return e<16?"0"+e.toString(16):e.toString(16)}(e[a]);return o}(this,t,r);case"utf8":case"utf-8":return v(this,t,r);case"ascii":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}(this,t,r);case"base64":return n=this,a=r,0===(o=t)&&a===n.length?u.fromByteArray(n):u.fromByteArray(n.slice(o,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var n=e.slice(t,r),o="",a=0;a<n.length;a+=2)o+=String.fromCharCode(n[a]+256*n[a+1]);return o}(this,t,r);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function d(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function h(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):2147483647<r?r=2147483647:r<-2147483648&&(r=-2147483648),(r=(r=C(r=+r)?o?0:e.length-1:r)<0?e.length+r:r)>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=f.from(t,n)),f.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?(o?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,t,r):y(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,o){var a=1,i=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;i/=a=2,u/=2,r/=2}function s(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o)for(var l=-1,c=r;c<i;c++)if(s(e,c)===s(t,-1===l?0:c-l)){if(c-(l=-1===l?c:l)+1===u)return l*a}else-1!==l&&(c-=c-l),l=-1;else for(c=r=i<r+u?i-u:r;0<=c;c--){for(var f=!0,p=0;p<u;p++)if(s(e,c+p)!==s(t,p)){f=!1;break}if(f)return c}return-1}function m(e,t,r,n){return j(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function b(e,t,r,n){return j(function(e,t){for(var r,n,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,n=n%256,o.push(n),o.push(r);return o}(t,e.length-r),e,r,n)}function v(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var a,i,u,s,l=e[o],c=null,f=239<l?4:223<l?3:191<l?2:1;if(o+f<=r)switch(f){case 1:l<128&&(c=l);break;case 2:128==(192&(a=e[o+1]))&&127<(s=(31&l)<<6|63&a)&&(c=s);break;case 3:a=e[o+1],i=e[o+2],128==(192&a)&&128==(192&i)&&2047<(s=(15&l)<<12|(63&a)<<6|63&i)&&(s<55296||57343<s)&&(c=s);break;case 4:a=e[o+1],i=e[o+2],u=e[o+3],128==(192&a)&&128==(192&i)&&128==(192&u)&&65535<(s=(15&l)<<18|(63&a)<<12|(63&i)<<6|63&u)&&s<1114112&&(c=s)}null===c?(c=65533,f=1):65535<c&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),o+=f}return function(e){var t=e.length;if(t<=g)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=g));return r}(n)}x.kMaxLength=t,(f.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),f.poolSize=8192,f.from=n,f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,f.alloc=function(e,t,r){return t=t,r=r,i(e=e),!(e<=0)&&void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)},f.allocUnsafe=s,f.allocUnsafeSlow=s,f.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==f.prototype},f.compare=function(e,t){if(A(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),A(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),!f.isBuffer(e)||!f.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,o=0,a=Math.min(r,n);o<a;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},f.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return f.alloc(0);if(void 0===t)for(o=t=0;o<e.length;++o)t+=e[o].length;for(var r=f.allocUnsafe(t),n=0,o=0;o<e.length;++o){var a=e[o];if(A(a,Uint8Array)&&(a=f.from(a)),!f.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,n),n+=a.length}return r},f.byteLength=p,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)d(this,t,t+1);return this},f.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)d(this,t,t+3),d(this,t+1,t+2);return this},f.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)d(this,t,t+7),d(this,t+1,t+6),d(this,t+2,t+5),d(this,t+3,t+4);return this},f.prototype.toLocaleString=f.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?v(this,0,e):r.apply(this,arguments)},f.prototype.equals=function(e){if(!f.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===f.compare(this,e)},f.prototype.inspect=function(){var e="",t=x.INSPECT_MAX_BYTES,e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim();return this.length>t&&(e+=" ... "),"<Buffer "+e+">"},f.prototype.compare=function(e,t,r,n,o){if(A(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),!f.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),(t=void 0===t?0:t)<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(o<=n&&r<=t)return 0;if(o<=n)return-1;if(r<=t)return 1;if(this===e)return 0;for(var a=(o>>>=0)-(n>>>=0),i=(r>>>=0)-(t>>>=0),u=Math.min(a,i),s=this.slice(n,o),l=e.slice(t,r),c=0;c<u;++c)if(s[c]!==l[c]){a=s[c],i=l[c];break}return a<i?-1:i<a?1:0},f.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},f.prototype.indexOf=function(e,t,r){return h(this,e,t,r,!0)},f.prototype.lastIndexOf=function(e,t,r){return h(this,e,t,r,!1)},f.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||o<r)&&(r=o),0<e.length&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n=n||"utf8";for(var a,i,u,s=!1;;)switch(n){case"hex":return function(e,t,r,n){r=Number(r)||0;var o=e.length-r;(!n||o<(n=Number(n)))&&(n=o),(o=t.length)/2<n&&(n=o/2);for(var a=0;a<n;++a){var i=parseInt(t.substr(2*a,2),16);if(C(i))return a;e[r+a]=i}return a}(this,e,t,r);case"utf8":case"utf-8":return i=t,u=r,j(S(e,(a=this).length-i),a,i,u);case"ascii":return m(this,e,t,r);case"latin1":case"binary":return m(this,e,t,r);case"base64":return a=this,i=t,u=r,j(_(e),a,i,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var g=4096;function w(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(r<e+t)throw new RangeError("Trying to access beyond buffer length")}function k(e,t,r,n,o,a){if(!f.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(o<t||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function O(e,t,r,n){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function T(e,t,r,n,o){return t=+t,r>>>=0,o||O(e,0,r,4),a.write(e,t,r,n,23,4),r+4}function E(e,t,r,n,o){return t=+t,r>>>=0,o||O(e,0,r,8),a.write(e,t,r,n,52,8),r+8}f.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),t<e&&(t=e);t=this.subarray(e,t);return t.__proto__=f.prototype,t},f.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var n=this[e],o=1,a=0;++a<t&&(o*=256);)n+=this[e+a]*o;return n},f.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var n=this[e+--t],o=1;0<t&&(o*=256);)n+=this[e+--t]*o;return n},f.prototype.readUInt8=function(e,t){return e>>>=0,t||w(e,1,this.length),this[e]},f.prototype.readUInt16LE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]|this[e+1]<<8},f.prototype.readUInt16BE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]<<8|this[e+1]},f.prototype.readUInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},f.prototype.readUInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},f.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var n=this[e],o=1,a=0;++a<t&&(o*=256);)n+=this[e+a]*o;return(o*=128)<=n&&(n-=Math.pow(2,8*t)),n},f.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var n=t,o=1,a=this[e+--n];0<n&&(o*=256);)a+=this[e+--n]*o;return(o*=128)<=a&&(a-=Math.pow(2,8*t)),a},f.prototype.readInt8=function(e,t){return e>>>=0,t||w(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},f.prototype.readInt16LE=function(e,t){e>>>=0,t||w(e,2,this.length);e=this[e]|this[e+1]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt16BE=function(e,t){e>>>=0,t||w(e,2,this.length);e=this[e+1]|this[e]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},f.prototype.readInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},f.prototype.readFloatLE=function(e,t){return e>>>=0,t||w(e,4,this.length),a.read(this,e,!0,23,4)},f.prototype.readFloatBE=function(e,t){return e>>>=0,t||w(e,4,this.length),a.read(this,e,!1,23,4)},f.prototype.readDoubleLE=function(e,t){return e>>>=0,t||w(e,8,this.length),a.read(this,e,!0,52,8)},f.prototype.readDoubleBE=function(e,t){return e>>>=0,t||w(e,8,this.length),a.read(this,e,!1,52,8)},f.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||k(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,a=0;for(this[t]=255&e;++a<r&&(o*=256);)this[t+a]=e/o&255;return t+r},f.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||k(this,e,t,r,Math.pow(2,8*r)-1,0);var o=r-1,a=1;for(this[t+o]=255&e;0<=--o&&(a*=256);)this[t+o]=e/a&255;return t+r},f.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,1,255,0),this[t]=255&e,t+1},f.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},f.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},f.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},f.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},f.prototype.writeIntLE=function(e,t,r,n){e=+e,t>>>=0,n||k(this,e,t,r,(n=Math.pow(2,8*r-1))-1,-n);var o=0,a=1,i=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===i&&0!==this[t+o-1]&&(i=1),this[t+o]=(e/a>>0)-i&255;return t+r},f.prototype.writeIntBE=function(e,t,r,n){e=+e,t>>>=0,n||k(this,e,t,r,(n=Math.pow(2,8*r-1))-1,-n);var o=r-1,a=1,i=0;for(this[t+o]=255&e;0<=--o&&(a*=256);)e<0&&0===i&&0!==this[t+o+1]&&(i=1),this[t+o]=(e/a>>0)-i&255;return t+r},f.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,1,127,-128),this[t]=255&(e=e<0?255+e+1:e),t+1},f.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},f.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},f.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},f.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,4,2147483647,-2147483648),this[t]=(e=e<0?4294967295+e+1:e)>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},f.prototype.writeFloatLE=function(e,t,r){return T(this,e,t,!0,r)},f.prototype.writeFloatBE=function(e,t,r){return T(this,e,t,!1,r)},f.prototype.writeDoubleLE=function(e,t,r){return E(this,e,t,!0,r)},f.prototype.writeDoubleBE=function(e,t,r){return E(this,e,t,!1,r)},f.prototype.copy=function(e,t,r,n){if(!f.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r=r||0,n||0===n||(n=this.length),t>=e.length&&(t=e.length),(n=0<n&&n<r?r:n)===r)return 0;if(0===e.length||0===this.length)return 0;if((t=t||0)<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length);var o=(n=e.length-t<n-r?e.length-t+r:n)-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var a=o-1;0<=a;--a)e[a+t]=this[a+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return o},f.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var o;1===e.length&&(o=e.charCodeAt(0),("utf8"===n&&o<128||"latin1"===n)&&(e=o))}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,"number"==typeof(e=e||0))for(a=t;a<r;++a)this[a]=e;else{var i=f.isBuffer(e)?e:f.from(e,n),u=i.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<r-t;++a)this[a+t]=i[a%u]}return this};var P=/[^+/0-9A-Za-z-_]/g;function S(e,t){var r;t=t||1/0;for(var n=e.length,o=null,a=[],i=0;i<n;++i){if(55295<(r=e.charCodeAt(i))&&r<57344){if(!o){if(56319<r){-1<(t-=3)&&a.push(239,191,189);continue}if(i+1===n){-1<(t-=3)&&a.push(239,191,189);continue}o=r;continue}if(r<56320){-1<(t-=3)&&a.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&-1<(t-=3)&&a.push(239,191,189);if(o=null,r<128){if(--t<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function _(e){return u.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(P,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function j(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function A(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function C(e){return e!=e}}.call(this)}.call(this,R("buffer").Buffer)},{"base64-js":23,buffer:25,ieee754:53}],26:[function(e,t,r){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}void 0!==t&&(t.exports=n),n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<n.length;o++)if((r=n[o])===t||r.fn===t){n.splice(o,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r)for(var n=0,o=(r=r.slice(0)).length;n<o;++n)r[n].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],27:[function(o,a,i){!function(r){!function(){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e};function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e){return e&&e.__esModule?e:{default:e}}var y=t(o("superagent")),m=t(o("querystring")),e=(e(l,[{key:"paramToString",value:function(e){return null==e?"":e instanceof Date?e.toJSON():e.toString()}},{key:"buildUrl",value:function(e,r){var n=this;return e.match(/^\//)||(e="/"+e),(this.basePath+e).replace(/\{([\w-]+)\}/g,function(e,t){e=r.hasOwnProperty(t)?n.paramToString(r[t]):e;return encodeURIComponent(e)})}},{key:"isJsonMime",value:function(e){return Boolean(null!=e&&e.match(/^application\/json(;.*)?$/i))}},{key:"jsonPreferredMime",value:function(e){for(var t=0;t<e.length;t++)if(this.isJsonMime(e[t]))return e[t];return e[0]}},{key:"isFileParam",value:function(e){if("function"==typeof o){var t=void 0;try{t=o("fs")}catch(e){}if(t&&t.ReadStream&&e instanceof t.ReadStream)return!0}return"function"==typeof r&&e instanceof r||("function"==typeof Blob&&e instanceof Blob||"function"==typeof File&&e instanceof File)}},{key:"normalizeParams",value:function(e){var t,r,n={};for(t in e)e.hasOwnProperty(t)&&null!=e[t]&&null!=e[t]&&(r=e[t],this.isFileParam(r)||Array.isArray(r)?n[t]=r:n[t]=this.paramToString(r));return n}},{key:"buildCollectionParam",value:function(e,t){if(null==e)return null;switch(t){case"csv":return e.map(this.paramToString).join(",");case"ssv":return e.map(this.paramToString).join(" ");case"tsv":return e.map(this.paramToString).join("\t");case"pipes":return e.map(this.paramToString).join("|");case"multi":return e.map(this.paramToString);default:throw new Error("Unknown collection format: "+t)}}},{key:"applyAuthToRequest",value:function(n,e){var o=this;e.forEach(function(e){var t,r=o.authentications[e];switch(r.type){case"basic":(r.username||r.password)&&n.auth(r.username||"",r.password||"");break;case"apiKey":r.apiKey&&(t={},r.apiKeyPrefix?t[r.name]=r.apiKeyPrefix+" "+r.apiKey:t[r.name]=r.apiKey,"header"===r.in?n.set(t):n.query(t));break;case"oauth2":r.accessToken&&n.set({Authorization:"Bearer "+r.accessToken});break;default:throw new Error("Unknown authentication type: "+r.type)}})}},{key:"deserialize",value:function(e,t){if(null==e||null==t||204==e.status)return null;var r=e.body;return null!=r&&("object"!=typeof r||void 0!==r.length||Object.keys(r).length)||(r=e.text),l.convertToType(r,t)}},{key:"callApi",value:function(e,t,r,n,o,a,i,u,s,l,c){var f=this,r=this.buildUrl(e,r),p=(0,y.default)(t,r);this.applyAuthToRequest(p,u),"GET"===t.toUpperCase()&&!1===this.cache&&(n._=(new Date).getTime()),p.query(this.normalizeParams(n)),p.set(this.defaultHeaders).set(this.normalizeParams(o)),p.timeout(this.timeout);s=this.jsonPreferredMime(s);if(s?"multipart/form-data"!=s&&p.type(s):p.header["Content-Type"]||p.type("application/json"),"application/x-www-form-urlencoded"===s)p.send(m.default.stringify(this.normalizeParams(a)));else if("multipart/form-data"==s){var d,h=this.normalizeParams(a);for(d in h)h.hasOwnProperty(d)&&(this.isFileParam(h[d])?p.attach(d,h[d]):p.field(d,h[d]))}else i&&p.send(i);l=this.jsonPreferredMime(l);return l&&p.accept(l),"Blob"===c?p.responseType("blob"):"String"===c&&p.responseType("string"),this.enableCookies&&("undefined"==typeof window?this.agent.attachCookies(p):p.withCredentials()),new Promise(function(n,o){p.end(function(e,t){if(e)o(e);else try{var r=f.deserialize(t,c);f.enableCookies&&"undefined"==typeof window&&f.agent.saveCookies(t),n({data:r,response:t})}catch(e){o(e)}})})}}],[{key:"parseDate",value:function(e){return new Date(e.replace(/T/i," "))}},{key:"convertToType",value:function(e,t){if(null==e)return e;switch(t){case"Boolean":return Boolean(e);case"Integer":return parseInt(e,10);case"Number":return parseFloat(e);case"String":return String(e);case"Date":return l.parseDate(String(e));case"Blob":return e;default:if(t===Object)return e;if("function"==typeof t)return t.constructFromObject(e);if(Array.isArray(t)){var r=t[0];return e.map(function(e){return l.convertToType(e,r)})}if("object"!=typeof t)return e;var n,o;for(a in t)if(t.hasOwnProperty(a)){o=t[n=a];break}var a,i,u,s={};for(a in e)e.hasOwnProperty(a)&&(i=l.convertToType(a,n),u=l.convertToType(e[a],o),s[i]=u);return s}}},{key:"constructFromObject",value:function(e,t,r){if(Array.isArray(e))for(var n=0;n<e.length;n++)e.hasOwnProperty(n)&&(t[n]=l.convertToType(e[n],r));else for(var o in e)e.hasOwnProperty(o)&&(t[o]=l.convertToType(e[o],r))}},{key:"CollectionFormatEnum",value:{CSV:",",SSV:" ",TSV:"\t",PIPES:"|",MULTI:"multi"},enumerable:!0}]),l);function l(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),this.basePath="http://localhost/api/v2".replace(/\/+$/,""),this.authentications={basicAuth:{type:"basic"}},this.defaultHeaders={},this.timeout=6e4,this.cache=!0,this.enableCookies=!1,"undefined"==typeof window&&(this.agent=new y.default.agent)}(i.default=e).instance=new e,a.exports=i.default}.call(this)}.call(this,o("buffer").Buffer)},{buffer:25,fs:24,querystring:56,superagent:57}],28:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){return e&&e.__esModule?e:{default:e}}var i=a(e("../ApiClient")),u=(a(e("../model/InputStream")),a(e("../model/NodeList"))),s=a(e("../model/PydioResponse")),n=(n(l,[{key:"createNodeWithHttpInfo",value:function(e,t){t=t||{};if(null==e)throw new Error("Missing the required parameter 'path' when calling createNode");var r={copy_source:t.copySource,delete_source:t.deleteSource,override:t.override,recursive:t.recursive},t=s.default;return this.apiClient.callApi("/fs/{path}","POST",{path:e},r,{},{},null,["basicAuth"],[],["application/json","application/xml"],t)}},{key:"createNode",value:function(e,t){return this.createNodeWithHttpInfo(e,t).then(function(e){return e.data})}},{key:"deleteNodeWithHttpInfo",value:function(e){if(null==e)throw new Error("Missing the required parameter 'path' when calling deleteNode");var t=s.default;return this.apiClient.callApi("/fs/{path}","DELETE",{path:e},{},{},{},null,["basicAuth"],[],["application/json","application/xml"],t)}},{key:"deleteNode",value:function(e){return this.deleteNodeWithHttpInfo(e).then(function(e){return e.data})}},{key:"downloadWithHttpInfo",value:function(e,t){t=t||{};if(null==e)throw new Error("Missing the required parameter 'path' when calling download");var r={attachment:t.attachment,additional_parameters:t.additionalParameters},t=File;return this.apiClient.callApi("/io/{path}","GET",{path:e},r,{},{},null,["basicAuth"],[],["application/octet-stream"],t)}},{key:"download",value:function(e,t){return this.downloadWithHttpInfo(e,t).then(function(e){return e.data})}},{key:"getNodeInfosWithHttpInfo",value:function(e,t,r){r=r||{};if(null==e)throw new Error("Missing the required parameter 'path' when calling getNodeInfos");if(null==t)throw new Error("Missing the required parameter 'meta' when calling getNodeInfos");var n={meta:t,children:r.children},o={"X-Indexation-Required":r.xIndexationRequired},t={recursive:r.recursive,max_depth:r.maxDepth,max_nodes:r.maxNodes,remote_order:r.remoteOrder,order_column:r.orderColumn,order_direction:r.orderDirection,page_position:r.pagePosition},r=u.default;return this.apiClient.callApi("/fs/{path}","GET",{path:e},n,o,t,null,["basicAuth"],[],["application/json","application/xml"],r)}},{key:"getNodeInfos",value:function(e,t,r){return this.getNodeInfosWithHttpInfo(e,t,r).then(function(e){return e.data})}},{key:"updateNodeWithHttpInfo",value:function(e,t){if(null==e)throw new Error("Missing the required parameter 'path' when calling updateNode");if(null==t)throw new Error("Missing the required parameter 'metadata' when calling updateNode");var r=s.default;return this.apiClient.callApi("/fs/{path}","PATCH",{path:e},{},{},{metadata:t},null,["basicAuth"],[],["application/json","application/xml"],r)}},{key:"updateNode",value:function(e,t){return this.updateNodeWithHttpInfo(e,t).then(function(e){return e.data})}},{key:"uploadStreamWithHttpInfo",value:function(e,t,r){r=r||{};var n=t;if(null==e)throw new Error("Missing the required parameter 'path' when calling uploadStream");if(null==t)throw new Error("Missing the required parameter 'raw' when calling uploadStream");t={"X-Rename-If-Exists":r.xRenameIfExists,"X-Append-To":r.xAppendTo,"X-Partial-Upload":r.xPartialUpload,"X-Partial-Target-Bytesize":r.xPartialTargetBytesize},r=s.default;return this.apiClient.callApi("/io/{path}","PUT",{path:e},{},t,{},n,["basicAuth"],[],[],r)}},{key:"uploadStream",value:function(e,t,r){return this.uploadStreamWithHttpInfo(e,t,r).then(function(e){return e.data})}}]),l);function l(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),this.apiClient=e||i.default.instance}r.default=n,t.exports=r.default},{"../ApiClient":27,"../model/InputStream":41,"../model/NodeList":44,"../model/PydioResponse":49}],29:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){return e&&e.__esModule?e:{default:e}}var i=a(e("../ApiClient")),u=a(e("../model/AdminWorkspace")),s=(a(e("../model/MetaSourceParameters")),a(e("../model/NodeList"))),l=(a(e("../model/PeoplePatch")),a(e("../model/PydioResponse"))),c=a(e("../model/Role")),n=(n(f,[{key:"adminAddWorkspaceFeatureWithHttpInfo",value:function(e,t,r,n){n=n||{};var o=r;if(null==e)throw new Error("Missing the required parameter 'workspaceId' when calling adminAddWorkspaceFeature");if(null==t)throw new Error("Missing the required parameter 'metaId' when calling adminAddWorkspaceFeature");if(null==r)throw new Error("Missing the required parameter 'parameters' when calling adminAddWorkspaceFeature");r={format:n.format},n=l.default;return this.apiClient.callApi("/admin/workspaces/{workspaceId}/features/{metaId}","POST",{workspaceId:e,metaId:t},r,{},{},o,["basicAuth"],[],["application/json","application/xml"],n)}},{key:"adminAddWorkspaceFeature",value:function(e,t,r,n){return this.adminAddWorkspaceFeatureWithHttpInfo(e,t,r,n).then(function(e){return e.data})}},{key:"adminCreateWorkspaceWithHttpInfo",value:function(e){var t=e;if(null==e)throw new Error("Missing the required parameter 'payload' when calling adminCreateWorkspace");e=u.default;return this.apiClient.callApi("/admin/workspaces","POST",{},{},{},{},t,["basicAuth"],[],["application/json","application/xml"],e)}},{key:"adminCreateWorkspace",value:function(e){return this.adminCreateWorkspaceWithHttpInfo(e).then(function(e){return e.data})}},{key:"adminDeleteWorkspaceWithHttpInfo",value:function(e){if(null==e)throw new Error("Missing the required parameter 'workspaceId' when calling adminDeleteWorkspace");var t=l.default;return this.apiClient.callApi("/admin/workspaces/{workspaceId}","DELETE",{workspaceId:e},{},{},{},null,["basicAuth"],[],["application/json","application/xml"],t)}},{key:"adminDeleteWorkspace",value:function(e){return this.adminDeleteWorkspaceWithHttpInfo(e).then(function(e){return e.data})}},{key:"adminEditWorkspaceWithHttpInfo",value:function(e,t){var r=t;if(null==e)throw new Error("Missing the required parameter 'workspaceId' when calling adminEditWorkspace");if(null==t)throw new Error("Missing the required parameter 'payload' when calling adminEditWorkspace");t=u.default;return this.apiClient.callApi("/admin/workspaces/{workspaceId}","PATCH",{workspaceId:e},{},{},{},r,["basicAuth"],[],["application/json","application/xml"],t)}},{key:"adminEditWorkspace",value:function(e,t){return this.adminEditWorkspaceWithHttpInfo(e,t).then(function(e){return e.data})}},{key:"adminEditWorkspaceFeatureWithHttpInfo",value:function(e,t,r){var n=r;if(null==e)throw new Error("Missing the required parameter 'workspaceId' when calling adminEditWorkspaceFeature");if(null==t)throw new Error("Missing the required parameter 'metaId' when calling adminEditWorkspaceFeature");if(null==r)throw new Error("Missing the required parameter 'parameters' when calling adminEditWorkspaceFeature");r=l.default;return this.apiClient.callApi("/admin/workspaces/{workspaceId}/features/{metaId}","PATCH",{workspaceId:e,metaId:t},{},{},{},n,["basicAuth"],[],["application/json","application/xml"],r)}},{key:"adminEditWorkspaceFeature",value:function(e,t,r){return this.adminEditWorkspaceFeatureWithHttpInfo(e,t,r).then(function(e){return e.data})}},{key:"adminGetWorkspaceWithHttpInfo",value:function(e,t){t=t||{};if(null==e)throw new Error("Missing the required parameter 'workspaceId' when calling adminGetWorkspace");var r={load_fill_values:t.loadFillValues,format:t.format},t=u.default;return this.apiClient.callApi("/admin/workspaces/{workspaceId}","GET",{workspaceId:e},r,{},{},null,["basicAuth"],[],["application/json","application/xml"],t)}},{key:"adminGetWorkspace",value:function(e,t){return this.adminGetWorkspaceWithHttpInfo(e,t).then(function(e){return e.data})}},{key:"adminListWorkspacesWithHttpInfo",value:function(e){var t={format:(e=e||{}).format},e=s.default;return this.apiClient.callApi("/admin/workspaces","GET",{},t,{},{},null,["basicAuth"],[],["application/json","application/xml"],e)}},{key:"adminListWorkspaces",value:function(e){return this.adminListWorkspacesWithHttpInfo(e).then(function(e){return e.data})}},{key:"adminRemoveWorkspaceFeatureWithHttpInfo",value:function(e,t){if(null==e)throw new Error("Missing the required parameter 'workspaceId' when calling adminRemoveWorkspaceFeature");if(null==t)throw new Error("Missing the required parameter 'metaId' when calling adminRemoveWorkspaceFeature");var r=l.default;return this.apiClient.callApi("/admin/workspaces/{workspaceId}/features/{metaId}","DELETE",{workspaceId:e,metaId:t},{},{},{},null,["basicAuth"],[],["application/json","application/xml"],r)}},{key:"adminRemoveWorkspaceFeature",value:function(e,t){return this.adminRemoveWorkspaceFeatureWithHttpInfo(e,t).then(function(e){return e.data})}},{key:"adminUpdateWorkspaceWithHttpInfo",value:function(e){var t=e;if(null==e)throw new Error("Missing the required parameter 'payload' when calling adminUpdateWorkspace");e=u.default;return this.apiClient.callApi("/admin/workspaces","PATCH",{},{},{},{},t,["basicAuth"],[],["application/json","application/xml"],e)}},{key:"adminUpdateWorkspace",value:function(e){return this.adminUpdateWorkspaceWithHttpInfo(e).then(function(e){return e.data})}},{key:"createPeopleWithHttpInfo",value:function(e,t,r){r=r||{};if(null==e)throw new Error("Missing the required parameter 'path' when calling createPeople");if(null==t)throw new Error("Missing the required parameter 'resourceType' when calling createPeople");var n={format:r.format},t={resourceType:t,groupLabel:r.groupLabel,userPass:r.userPass},r=l.default;return this.apiClient.callApi("/admin/people/{path}","POST",{path:e},n,{},t,null,["basicAuth"],["application/json"],["application/json"],r)}},{key:"createPeople",value:function(e,t,r){return this.createPeopleWithHttpInfo(e,t,r).then(function(e){return e.data})}},{key:"createRoleWithHttpInfo",value:function(e,t){var r=t;if(null==e)throw new Error("Missing the required parameter 'roleId' when calling createRole");if(null==t)throw new Error("Missing the required parameter 'role' when calling createRole");t=c.default;return this.apiClient.callApi("/admin/roles/{roleId}","POST",{roleId:e},{},{},{},r,["basicAuth"],["application/json"],["application/json"],t)}},{key:"createRole",value:function(e,t){return this.createRoleWithHttpInfo(e,t).then(function(e){return e.data})}},{key:"deletePeopleWithHttpInfo",value:function(e,t){t=t||{};if(null==e)throw new Error("Missing the required parameter 'path' when calling deletePeople");var r={format:t.format},t=l.default;return this.apiClient.callApi("/admin/people/{path}","DELETE",{path:e},r,{},{},null,["basicAuth"],[],["application/json"],t)}},{key:"deletePeople",value:function(e,t){return this.deletePeopleWithHttpInfo(e,t).then(function(e){return e.data})}},{key:"deleteRoleWithHttpInfo",value:function(e){if(null==e)throw new Error("Missing the required parameter 'roleId' when calling deleteRole");var t=l.default;return this.apiClient.callApi("/admin/roles/{roleId}","DELETE",{roleId:e},{},{},{},null,["basicAuth"],[],["application/json"],t)}},{key:"deleteRole",value:function(e){return this.deleteRoleWithHttpInfo(e).then(function(e){return e.data})}},{key:"getPeopleWithHttpInfo",value:function(e,t){t=t||{};if(null==e)throw new Error("Missing the required parameter 'path' when calling getPeople");var r={format:t.format,list:t.list},t=s.default;return this.apiClient.callApi("/admin/people/{path}","GET",{path:e},r,{},{},null,["basicAuth"],[],["application/json","application/xml"],t)}},{key:"getPeople",value:function(e,t){return this.getPeopleWithHttpInfo(e,t).then(function(e){return e.data})}},{key:"getRoleWithHttpInfo",value:function(e,t){t=t||{};if(null==e)throw new Error("Missing the required parameter 'roleId' when calling getRole");var r={format:t.format,load_fill_values:t.loadFillValues},t=c.default;return this.apiClient.callApi("/admin/roles/{roleId}","GET",{roleId:e},r,{},{},null,["basicAuth"],[],["application/json"],t)}},{key:"getRole",value:function(e,t){return this.getRoleWithHttpInfo(e,t).then(function(e){return e.data})}},{key:"getRolesWithHttpInfo",value:function(e){var t={format:(e=e||{}).format},e=s.default;return this.apiClient.callApi("/admin/roles","GET",{},t,{},{},null,["basicAuth"],[],["application/json","application/xml"],e)}},{key:"getRoles",value:function(e){return this.getRolesWithHttpInfo(e).then(function(e){return e.data})}},{key:"patchPeopleWithHttpInfo",value:function(e,t,r,n){n=n||{};var o=r;if(null==e)throw new Error("Missing the required parameter 'path' when calling patchPeople");if(null==t)throw new Error("Missing the required parameter 'resourceType' when calling patchPeople");if(null==r)throw new Error("Missing the required parameter 'patchTuple' when calling patchPeople");n={format:n.format,resourceType:t},t=l.default;return this.apiClient.callApi("/admin/people/{path}","PATCH",{path:e},n,{},{},o,["basicAuth"],["application/json"],["application/json"],t)}},{key:"patchPeople",value:function(e,t,r,n){return this.patchPeopleWithHttpInfo(e,t,r,n).then(function(e){return e.data})}},{key:"updateRoleWithHttpInfo",value:function(e,t){var r=t;if(null==e)throw new Error("Missing the required parameter 'roleId' when calling updateRole");if(null==t)throw new Error("Missing the required parameter 'role' when calling updateRole");t=c.default;return this.apiClient.callApi("/admin/roles/{roleId}","PATCH",{roleId:e},{},{},{},r,["basicAuth"],["application/json"],["application/json"],t)}},{key:"updateRole",value:function(e,t){return this.updateRoleWithHttpInfo(e,t).then(function(e){return e.data})}}]),f);function f(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),this.apiClient=e||i.default.instance}r.default=n,t.exports=r.default},{"../ApiClient":27,"../model/AdminWorkspace":34,"../model/MetaSourceParameters":42,"../model/NodeList":44,"../model/PeoplePatch":48,"../model/PydioResponse":49,"../model/Role":50}],30:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){return e&&e.__esModule?e:{default:e}}var i=a(e("../ApiClient")),u=a(e("../model/Task")),n=(n(s,[{key:"createTaskWithHttpInfo",value:function(e,t){var r=(t=t||{}).requestBody;if(null==e)throw new Error("Missing the required parameter 'taskId' when calling createTask");t=u.default;return this.apiClient.callApi("/tasks/{taskId}","POST",{taskId:e},{},{},{},r,["basicAuth"],["application/json"],[],t)}},{key:"createTask",value:function(e,t){return this.createTaskWithHttpInfo(e,t).then(function(e){return e.data})}},{key:"deleteTaskWithHttpInfo",value:function(e){if(null==e)throw new Error("Missing the required parameter 'taskId' when calling deleteTask");var t=u.default;return this.apiClient.callApi("/tasks/{taskId}","DELETE",{taskId:e},{},{},{},null,["basicAuth"],[],[],t)}},{key:"deleteTask",value:function(e){return this.deleteTaskWithHttpInfo(e).then(function(e){return e.data})}},{key:"getTaskInfoWithHttpInfo",value:function(e){if(null==e)throw new Error("Missing the required parameter 'taskId' when calling getTaskInfo");var t=u.default;return this.apiClient.callApi("/tasks/{taskId}","GET",{taskId:e},{},{},{},null,["basicAuth"],[],[],t)}},{key:"getTaskInfo",value:function(e){return this.getTaskInfoWithHttpInfo(e).then(function(e){return e.data})}},{key:"listTasksWithHttpInfo",value:function(e,t){t=t||{};if(null==e)throw new Error("Missing the required parameter 'workspaceId' when calling listTasks");e={filter:t.filter,workspaceId:e,path:this.apiClient.buildCollectionParam(t.path,"multi")},t=[u.default];return this.apiClient.callApi("/tasks","GET",{},{},{},e,null,["basicAuth"],[],[],t)}},{key:"listTasks",value:function(e,t){return this.listTasksWithHttpInfo(e,t).then(function(e){return e.data})}},{key:"updateTaskWithHttpInfo",value:function(e,t){var r=(t=t||{}).requestBody;if(null==e)throw new Error("Missing the required parameter 'taskId' when calling updateTask");t=u.default;return this.apiClient.callApi("/tasks/{taskId}","PATCH",{taskId:e},{},{},{},r,["basicAuth"],["application/json"],[],t)}},{key:"updateTask",value:function(e,t){return this.updateTaskWithHttpInfo(e,t).then(function(e){return e.data})}}]),s);function s(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.apiClient=e||i.default.instance}r.default=n,t.exports=r.default},{"../ApiClient":27,"../model/Task":51}],31:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a,i=e("../ApiClient"),u=(a=i)&&a.__esModule?a:{default:a},n=(n(s,[{key:"userInfoWithHttpInfo",value:function(){var e=Object;return this.apiClient.callApi("/user","GET",{},{},{},{},null,["basicAuth"],[],["application/json"],e)}},{key:"userInfo",value:function(){return this.userInfoWithHttpInfo().then(function(e){return e.data})}},{key:"userPreferencesWithHttpInfo",value:function(){var e=Object;return this.apiClient.callApi("/user/preferences","GET",{},{},{},{},null,["basicAuth"],[],["application/json"],e)}},{key:"userPreferences",value:function(){return this.userPreferencesWithHttpInfo().then(function(e){return e.data})}},{key:"userWorkspacesWithHttpInfo",value:function(){var e=Object;return this.apiClient.callApi("/user/workspaces","GET",{},{},{},{},null,["basicAuth"],[],["application/json"],e)}},{key:"userWorkspaces",value:function(){return this.userWorkspacesWithHttpInfo().then(function(e){return e.data})}}]),s);function s(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.apiClient=e||u.default.instance}r.default=n,t.exports=r.default},{"../ApiClient":27}],32:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){return e&&e.__esModule?e:{default:e}}var i=a(e("../ApiClient")),u=a(e("../model/InlineResponse2002")),s=a(e("../model/InlineResponse2003")),n=(n(l,[{key:"changesWithHttpInfo",value:function(e,t){if(null==e)throw new Error("Missing the required parameter 'sequenceId' when calling changes");if(null==t)throw new Error("Missing the required parameter 'workspaceId' when calling changes");var r=[s.default];return this.apiClient.callApi("/workspaces/{workspaceId}/changes/{sequenceId}","GET",{sequenceId:e,workspaceId:t},{},{},{},null,["basicAuth"],[],["application/json"],r)}},{key:"changes",value:function(e,t){return this.changesWithHttpInfo(e,t).then(function(e){return e.data})}},{key:"getWorkspaceInfoWithHttpInfo",value:function(e,t){if(null==e)throw new Error("Missing the required parameter 'xPydioWSInfo' when calling getWorkspaceInfo");if(null==t)throw new Error("Missing the required parameter 'workspaceId' when calling getWorkspaceInfo");var r=u.default;return this.apiClient.callApi("/workspaces/{workspaceId}","GET",{workspaceId:t},{},{"X-Pydio-WS-Info":e},{},null,["basicAuth"],[],["application/json"],r)}},{key:"getWorkspaceInfo",value:function(e,t){return this.getWorkspaceInfoWithHttpInfo(e,t).then(function(e){return e.data})}}]),l);function l(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),this.apiClient=e||i.default.instance}r.default=n,t.exports=r.default},{"../ApiClient":27,"../model/InlineResponse2002":39,"../model/InlineResponse2003":40}],33:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var o=n(e("./ApiClient")),a=n(e("./model/AdminWorkspace")),i=n(e("./model/AdminWorkspaceInfo")),u=n(e("./model/BgAction")),s=n(e("./model/InlineResponse200")),l=n(e("./model/InlineResponse2001")),c=n(e("./model/InlineResponse2002")),f=n(e("./model/InlineResponse2003")),p=n(e("./model/InputStream")),d=n(e("./model/MetaSourceParameters")),h=n(e("./model/Node")),y=n(e("./model/NodeList")),m=n(e("./model/NodeListData")),b=n(e("./model/NodesDiff")),v=n(e("./model/PaginationData")),g=n(e("./model/PeoplePatch")),w=n(e("./model/PydioResponse")),k=n(e("./model/Role")),O=n(e("./model/Task")),T=n(e("./model/TaskSchedule")),E=n(e("./api/FileApi")),P=n(e("./api/ProvisioningApi")),S=n(e("./api/TaskApi")),_=n(e("./api/UserAccountApi")),e=n(e("./api/WorkspaceApi"));r.ApiClient=o.default,r.AdminWorkspace=a.default,r.AdminWorkspaceInfo=i.default,r.BgAction=u.default,r.InlineResponse200=s.default,r.InlineResponse2001=l.default,r.InlineResponse2002=c.default,r.InlineResponse2003=f.default,r.InputStream=p.default,r.MetaSourceParameters=d.default,r.Node=h.default,r.NodeList=y.default,r.NodeListData=m.default,r.NodesDiff=b.default,r.PaginationData=v.default,r.PeoplePatch=g.default,r.PydioResponse=w.default,r.Role=k.default,r.Task=O.default,r.TaskSchedule=T.default,r.FileApi=E.default,r.ProvisioningApi=P.default,r.TaskApi=S.default,r.UserAccountApi=_.default,r.WorkspaceApi=e.default},{"./ApiClient":27,"./api/FileApi":28,"./api/ProvisioningApi":29,"./api/TaskApi":30,"./api/UserAccountApi":31,"./api/WorkspaceApi":32,"./model/AdminWorkspace":34,"./model/AdminWorkspaceInfo":35,"./model/BgAction":36,"./model/InlineResponse200":37,"./model/InlineResponse2001":38,"./model/InlineResponse2002":39,"./model/InlineResponse2003":40,"./model/InputStream":41,"./model/MetaSourceParameters":42,"./model/Node":43,"./model/NodeList":44,"./model/NodeListData":45,"./model/NodesDiff":46,"./model/PaginationData":47,"./model/PeoplePatch":48,"./model/PydioResponse":49,"./model/Role":50,"./model/Task":51,"./model/TaskSchedule":52}],34:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){return e&&e.__esModule?e:{default:e}}var i=a(e("../ApiClient")),u=a(e("./AdminWorkspaceInfo")),n=(n(s,null,[{key:"constructFromObject",value:function(e,t){return e&&(t=t||new s,e.hasOwnProperty("id")&&(t.id=i.default.convertToType(e.id,"String")),e.hasOwnProperty("slug")&&(t.slug=i.default.convertToType(e.slug,"String")),e.hasOwnProperty("display")&&(t.display=i.default.convertToType(e.display,"String")),e.hasOwnProperty("displayStringId")&&(t.displayStringId=i.default.convertToType(e.displayStringId,"String")),e.hasOwnProperty("accessType")&&(t.accessType=i.default.convertToType(e.accessType,"String")),e.hasOwnProperty("writeable")&&(t.writeable=i.default.convertToType(e.writeable,"Boolean")),e.hasOwnProperty("isTemplate")&&(t.isTemplate=i.default.convertToType(e.isTemplate,"Boolean")),e.hasOwnProperty("groupPath")&&(t.groupPath=i.default.convertToType(e.groupPath,"String")),e.hasOwnProperty("parameters")&&(t.parameters=i.default.convertToType(e.parameters,Object)),e.hasOwnProperty("features")&&(t.features=i.default.convertToType(e.features,Object)),e.hasOwnProperty("mask")&&(t.mask=i.default.convertToType(e.mask,Object)),e.hasOwnProperty("info")&&(t.info=u.default.constructFromObject(e.info))),t}}]),s);function s(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.id=void 0,this.slug=void 0,this.display=void 0,this.displayStringId=void 0,this.accessType=void 0,this.writeable=void 0,this.isTemplate=void 0,this.groupPath=void 0,this.parameters=void 0,this.features=void 0,this.mask=void 0,this.info=void 0,this.display=e,this.accessType=t}r.default=n,t.exports=r.default},{"../ApiClient":27,"./AdminWorkspaceInfo":35}],35:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a,i=e("../ApiClient"),u=(a=i)&&a.__esModule?a:{default:a},n=(n(s,null,[{key:"constructFromObject",value:function(e,t){return e&&(t=t||new s,e.hasOwnProperty("user")&&(t.user=u.default.convertToType(e.user,"Number")),e.hasOwnProperty("shares")&&(t.shares=u.default.convertToType(e.shares,"Number"))),t}}]),s);function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.user=void 0,this.shares=void 0}r.default=n,t.exports=r.default},{"../ApiClient":27}],36:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a,i=e("../ApiClient"),u=(a=i)&&a.__esModule?a:{default:a},n=(n(s,null,[{key:"constructFromObject",value:function(e,t){return e&&(t=t||new s,e.hasOwnProperty("actionName")&&(t.actionName=u.default.convertToType(e.actionName,"String")),e.hasOwnProperty("delay")&&(t.delay=u.default.convertToType(e.delay,"Number"))),t}}]),s);function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.actionName=void 0,this.delay=void 0}r.default=n,t.exports=r.default},{"../ApiClient":27}],37:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a,i=e("../ApiClient"),u=(a=i)&&a.__esModule?a:{default:a},n=(n(s,null,[{key:"constructFromObject",value:function(e,t){return e&&(t=t||new s,e.hasOwnProperty("USAGE")&&(t.USAGE=u.default.convertToType(e.USAGE,"Number")),e.hasOwnProperty("TOTAL")&&(t.TOTAL=u.default.convertToType(e.TOTAL,"Number"))),t}}]),s);function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.USAGE=void 0,this.TOTAL=void 0}r.default=n,t.exports=r.default},{"../ApiClient":27}],38:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){return e&&e.__esModule?e:{default:e}}var i=a(e("../ApiClient")),u=a(e("./Node")),n=(n(s,null,[{key:"constructFromObject",value:function(e,t){return e&&(t=t||new s,e.hasOwnProperty("seq_id")&&(t.seq_id=i.default.convertToType(e.seq_id,"Number")),e.hasOwnProperty("node")&&(t.node=u.default.constructFromObject(e.node))),t}}]),s);function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.seq_id=void 0,this.node=void 0}r.default=n,t.exports=r.default},{"../ApiClient":27,"./Node":43}],39:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a,i=e("../ApiClient"),u=(a=i)&&a.__esModule?a:{default:a},n=(n(s,null,[{key:"constructFromObject",value:function(e,t){return e&&(t=t||new s,e.hasOwnProperty("USAGE")&&(t.USAGE=u.default.convertToType(e.USAGE,"Number")),e.hasOwnProperty("TOTAL")&&(t.TOTAL=u.default.convertToType(e.TOTAL,"Number"))),t}}]),s);function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.USAGE=void 0,this.TOTAL=void 0}r.default=n,t.exports=r.default},{"../ApiClient":27}],40:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){return e&&e.__esModule?e:{default:e}}var i=a(e("../ApiClient")),u=a(e("./Node")),n=(n(s,null,[{key:"constructFromObject",value:function(e,t){return e&&(t=t||new s,e.hasOwnProperty("seq_id")&&(t.seq_id=i.default.convertToType(e.seq_id,"Number")),e.hasOwnProperty("node")&&(t.node=u.default.constructFromObject(e.node))),t}}]),s);function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.seq_id=void 0,this.node=void 0}r.default=n,t.exports=r.default},{"../ApiClient":27,"./Node":43}],41:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a,i=e("../ApiClient"),n=((a=i)&&a.__esModule,n(u,null,[{key:"constructFromObject",value:function(e,t){return t=e?t||new u:t}}]),u);function u(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u)}r.default=n,t.exports=r.default},{"../ApiClient":27}],42:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a,i=e("../ApiClient"),n=((a=i)&&a.__esModule,n(u,null,[{key:"constructFromObject",value:function(e,t){return t=e?t||new u:t}}]),u);function u(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u)}r.default=n,t.exports=r.default},{"../ApiClient":27}],43:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){return e&&e.__esModule?e:{default:e}}var i=a(e("../ApiClient")),u=a(e("./NodeList")),n=(n(s,null,[{key:"constructFromObject",value:function(e,t){return e&&(t=t||new s,e.hasOwnProperty("path")&&(t.path=i.default.convertToType(e.path,"String")),e.hasOwnProperty("type")&&(t.type=i.default.convertToType(e.type,"String")),e.hasOwnProperty("is_leaf")&&(t.is_leaf=i.default.convertToType(e.is_leaf,"Boolean")),e.hasOwnProperty("label")&&(t.label=i.default.convertToType(e.label,"String")),e.hasOwnProperty("ajxp_modiftime")&&(t.ajxp_modiftime=i.default.convertToType(e.ajxp_modiftime,"Number")),e.hasOwnProperty("bytesize")&&(t.bytesize=i.default.convertToType(e.bytesize,"Number")),e.hasOwnProperty("stat")&&(t.stat=i.default.convertToType(e.stat,Object)),e.hasOwnProperty("ajxp_relativetime")&&(t.ajxp_relativetime=i.default.convertToType(e.ajxp_relativetime,"String")),e.hasOwnProperty("ajxp_description")&&(t.ajxp_description=i.default.convertToType(e.ajxp_description,"String")),e.hasOwnProperty("icon")&&(t.icon=i.default.convertToType(e.icon,"String")),e.hasOwnProperty("filesize")&&(t.filesize=i.default.convertToType(e.filesize,"String")),e.hasOwnProperty("mimestring_id")&&(t.mimestring_id=i.default.convertToType(e.mimestring_id,"String")),e.hasOwnProperty("ajxp_readonly")&&(t.ajxp_readonly=i.default.convertToType(e.ajxp_readonly,"Boolean")),e.hasOwnProperty("file_perms")&&(t.file_perms=i.default.convertToType(e.file_perms,"String")),e.hasOwnProperty("repo_has_recycle")&&(t.repo_has_recycle=i.default.convertToType(e.repo_has_recycle,"Boolean")),e.hasOwnProperty("children")&&(t.children=u.default.constructFromObject(e.children))),t}},{key:"TypeEnum",value:{collection:"collection",leaf:"leaf"},enumerable:!0}]),s);function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.path=void 0,this.type=void 0,this.is_leaf=void 0,this.label=void 0,this.ajxp_modiftime=void 0,this.bytesize=void 0,this.stat=void 0,this.ajxp_relativetime=void 0,this.ajxp_description=void 0,this.icon=void 0,this.filesize=void 0,this.mimestring_id=void 0,this.ajxp_readonly=void 0,this.file_perms=void 0,this.repo_has_recycle=void 0,this.children=void 0}r.default=n,t.exports=r.default},{"../ApiClient":27,"./NodeList":44}],44:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){return e&&e.__esModule?e:{default:e}}a(e("../ApiClient"));var i=a(e("./NodeListData")),u=a(e("./PaginationData")),n=(n(s,null,[{key:"constructFromObject",value:function(e,t){return e&&(t=t||new s,e.hasOwnProperty("pagination")&&(t.pagination=u.default.constructFromObject(e.pagination)),e.hasOwnProperty("data")&&(t.data=i.default.constructFromObject(e.data))),t}}]),s);function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.pagination=void 0,this.data=void 0}r.default=n,t.exports=r.default},{"../ApiClient":27,"./NodeListData":45,"./PaginationData":47}],45:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){return e&&e.__esModule?e:{default:e}}var i=a(e("../ApiClient")),u=a(e("./Node")),n=(n(s,null,[{key:"constructFromObject",value:function(e,t){return e&&(t=t||new s,e.hasOwnProperty("node")&&(t.node=u.default.constructFromObject(e.node)),e.hasOwnProperty("children")&&(t.children=i.default.convertToType(e.children,{String:u.default}))),t}}]),s);function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.node=void 0,this.children=void 0}r.default=n,t.exports=r.default},{"../ApiClient":27,"./Node":43}],46:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){return e&&e.__esModule?e:{default:e}}var i=a(e("../ApiClient")),u=a(e("./Node")),n=(n(s,null,[{key:"constructFromObject",value:function(e,t){return e&&(t=t||new s,e.hasOwnProperty("add")&&(t.add=i.default.convertToType(e.add,[u.default])),e.hasOwnProperty("update")&&(t.update=i.default.convertToType(e.update,[u.default])),e.hasOwnProperty("remove")&&(t.remove=i.default.convertToType(e.remove,["String"]))),t}}]),s);function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.add=void 0,this.update=void 0,this.remove=void 0}r.default=n,t.exports=r.default},{"../ApiClient":27,"./Node":43}],47:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a,i=e("../ApiClient"),u=(a=i)&&a.__esModule?a:{default:a},n=(n(s,null,[{key:"constructFromObject",value:function(e,t){return e&&(t=t||new s,e.hasOwnProperty("count")&&(t.count=u.default.convertToType(e.count,"Number")),e.hasOwnProperty("current")&&(t.current=u.default.convertToType(e.current,"Number")),e.hasOwnProperty("total")&&(t.total=u.default.convertToType(e.total,"Number")),e.hasOwnProperty("dirs")&&(t.dirs=u.default.convertToType(e.dirs,"Number")),e.hasOwnProperty("remoteSort")&&(t.remoteSort=u.default.convertToType(e.remoteSort,Object))),t}}]),s);function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.count=void 0,this.current=void 0,this.total=void 0,this.dirs=void 0,this.remoteSort=void 0}r.default=n,t.exports=r.default},{"../ApiClient":27}],48:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a,i=e("../ApiClient"),u=(a=i)&&a.__esModule?a:{default:a},n=(n(s,null,[{key:"constructFromObject",value:function(e,t){return e&&(t=t||new s,e.hasOwnProperty("resourceType")&&(t.resourceType=u.default.convertToType(e.resourceType,"String")),e.hasOwnProperty("parameterName")&&(t.parameterName=u.default.convertToType(e.parameterName,"String")),e.hasOwnProperty("parameterValue")&&(t.parameterValue=u.default.convertToType(e.parameterValue,"String"))),t}},{key:"ResourceTypeEnum",value:{user:"user",group:"group"},enumerable:!0},{key:"ParameterNameEnum",value:{groupLabel:"groupLabel",userPass:"userPass",userProfile:"userProfile",userLock:"userLock",userRoles:"userRoles",userAddRole:"userAddRole",userRemoveRole:"userRemoveRole",userPreferences:"userPreferences"},enumerable:!0}]),s);function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.resourceType=void 0,this.parameterName=void 0,this.parameterValue=void 0}r.default=n,t.exports=r.default},{"../ApiClient":27}],49:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){return e&&e.__esModule?e:{default:e}}var i=a(e("../ApiClient")),u=a(e("./BgAction")),s=a(e("./NodesDiff")),l=a(e("./Task")),n=(n(c,null,[{key:"constructFromObject",value:function(e,t){return e&&(t=t||new c,e.hasOwnProperty("message")&&(t.message=i.default.convertToType(e.message,"String")),e.hasOwnProperty("level")&&(t.level=i.default.convertToType(e.level,"String")),e.hasOwnProperty("errorCode")&&(t.errorCode=i.default.convertToType(e.errorCode,"Number")),e.hasOwnProperty("nodesDiff")&&(t.nodesDiff=s.default.constructFromObject(e.nodesDiff)),e.hasOwnProperty("bgAction")&&(t.bgAction=u.default.constructFromObject(e.bgAction)),e.hasOwnProperty("tasks")&&(t.tasks=i.default.convertToType(e.tasks,[l.default]))),t}}]),c);function c(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),this.message=void 0,this.level=void 0,this.errorCode=void 0,this.nodesDiff=void 0,this.bgAction=void 0,this.tasks=void 0}r.default=n,t.exports=r.default},{"../ApiClient":27,"./BgAction":36,"./NodesDiff":46,"./Task":51}],50:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a,i=e("../ApiClient"),u=(a=i)&&a.__esModule?a:{default:a},n=(n(s,null,[{key:"constructFromObject",value:function(e,t){return e&&(t=t||new s,e.hasOwnProperty("ACL")&&(t.ACL=u.default.convertToType(e.ACL,Object)),e.hasOwnProperty("MASKS")&&(t.MASKS=u.default.convertToType(e.MASKS,Object)),e.hasOwnProperty("PARAMETERS")&&(t.PARAMETERS=u.default.convertToType(e.PARAMETERS,Object)),e.hasOwnProperty("ACTIONS")&&(t.ACTIONS=u.default.convertToType(e.ACTIONS,Object)),e.hasOwnProperty("APPLIES")&&(t.APPLIES=u.default.convertToType(e.APPLIES,Object))),t}}]),s);function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.ACL=void 0,this.MASKS=void 0,this.PARAMETERS=void 0,this.ACTIONS=void 0,this.APPLIES=void 0}r.default=n,t.exports=r.default},{"../ApiClient":27}],51:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){return e&&e.__esModule?e:{default:e}}var i=a(e("../ApiClient")),u=a(e("./TaskSchedule")),n=(n(s,null,[{key:"constructFromObject",value:function(e,t){return e&&(t=t||new s,e.hasOwnProperty("id")&&(t.id=i.default.convertToType(e.id,"String")),e.hasOwnProperty("status")&&(t.status=i.default.convertToType(e.status,"Number")),e.hasOwnProperty("label")&&(t.label=i.default.convertToType(e.label,"String")),e.hasOwnProperty("description")&&(t.description=i.default.convertToType(e.description,"String")),e.hasOwnProperty("userId")&&(t.userId=i.default.convertToType(e.userId,"String")),e.hasOwnProperty("wsId")&&(t.wsId=i.default.convertToType(e.wsId,"String")),e.hasOwnProperty("actionName")&&(t.actionName=i.default.convertToType(e.actionName,"String")),e.hasOwnProperty("schedule")&&(t.schedule=u.default.constructFromObject(e.schedule)),e.hasOwnProperty("parameters")&&(t.parameters=i.default.convertToType(e.parameters,Object))),t}}]),s);function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.id=void 0,this.status=void 0,this.label=void 0,this.description=void 0,this.userId=void 0,this.wsId=void 0,this.actionName=void 0,this.schedule=void 0,this.parameters=void 0}r.default=n,t.exports=r.default},{"../ApiClient":27,"./TaskSchedule":52}],52:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a,i=e("../ApiClient"),u=(a=i)&&a.__esModule?a:{default:a},n=(n(s,null,[{key:"constructFromObject",value:function(e,t){return e&&(t=t||new s,e.hasOwnProperty("scheduleType")&&(t.scheduleType=u.default.convertToType(e.scheduleType,"String")),e.hasOwnProperty("scheduleValue")&&(t.scheduleValue=u.default.convertToType(e.scheduleValue,"String"))),t}}]),s);function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.scheduleType=void 0,this.scheduleValue=void 0}r.default=n,t.exports=r.default},{"../ApiClient":27}],53:[function(e,t,r){r.read=function(e,t,r,n,o){var a,i,u=8*o-n-1,s=(1<<u)-1,l=s>>1,c=-7,f=r?o-1:0,p=r?-1:1,r=e[t+f];for(f+=p,a=r&(1<<-c)-1,r>>=-c,c+=u;0<c;a=256*a+e[t+f],f+=p,c-=8);for(i=a&(1<<-c)-1,a>>=-c,c+=n;0<c;i=256*i+e[t+f],f+=p,c-=8);if(0===a)a=1-l;else{if(a===s)return i?NaN:1/0*(r?-1:1);i+=Math.pow(2,n),a-=l}return(r?-1:1)*i*Math.pow(2,a-n)},r.write=function(e,t,r,n,o,a){var i,u,s=8*a-o-1,l=(1<<s)-1,c=l>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,d=n?1:-1,a=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,i=l):(i=Math.floor(Math.log(t)/Math.LN2),t*(n=Math.pow(2,-i))<1&&(i--,n*=2),2<=(t+=1<=i+c?f/n:f*Math.pow(2,1-c))*n&&(i++,n/=2),l<=i+c?(u=0,i=l):1<=i+c?(u=(t*n-1)*Math.pow(2,o),i+=c):(u=t*Math.pow(2,c-1)*Math.pow(2,o),i=0));8<=o;e[r+p]=255&u,p+=d,u/=256,o-=8);for(i=i<<o|u,s+=o;0<s;e[r+p]=255&i,p+=d,i/=256,s-=8);e[r+p-d]|=128*a}},{}],54:[function(e,t,r){"use strict";t.exports=function(e,t,r,n){r=r||"=";var o={};if("string"!=typeof e||0===e.length)return o;var a=/\+/g;e=e.split(t=t||"&");t=1e3;n&&"number"==typeof n.maxKeys&&(t=n.maxKeys);var i=e.length;0<t&&t<i&&(i=t);for(var u=0;u<i;++u){var s,l=e[u].replace(a,"%20"),c=l.indexOf(r),c=0<=c?(s=l.substr(0,c),l.substr(c+1)):(s=l,""),l=decodeURIComponent(s),c=decodeURIComponent(c);Object.prototype.hasOwnProperty.call(o,l)?f(o[l])?o[l].push(c):o[l]=[o[l],c]:o[l]=c}return o};var f=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],55:[function(e,t,r){"use strict";function a(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}t.exports=function(r,n,o,e){return n=n||"&",o=o||"=","object"==typeof(r=null===r?void 0:r)?u(s(r),function(e){var t=encodeURIComponent(a(e))+o;return i(r[e])?u(r[e],function(e){return t+encodeURIComponent(a(e))}).join(n):t+encodeURIComponent(a(r[e]))}).join(n):e?encodeURIComponent(a(e))+o+encodeURIComponent(a(r)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function u(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var s=Object.keys||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r}},{}],56:[function(e,t,r){"use strict";r.decode=r.parse=e("./decode"),r.encode=r.stringify=e("./encode")},{"./decode":54,"./encode":55}],57:[function(e,t,r){var n="undefined"!=typeof window?window:"undefined"!=typeof self?self:(console.warn("Using browser-only version of superagent in non-browser environment"),this),o=e("component-emitter"),a=e("./request-base"),i=e("./is-object"),u=e("./is-function"),s=e("./response-base"),l=e("./should-retry");function c(){}var f=r=t.exports=function(e,t){return"function"==typeof t?new r.Request("GET",e).end(t):1==arguments.length?new r.Request("GET",e):new r.Request(e,t)};r.Request=b,f.getXHR=function(){if(!(!n.XMLHttpRequest||n.location&&"file:"==n.location.protocol&&n.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only verison of superagent could not find XHR")};var p="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function d(e){if(!i(e))return e;var t,r=[];for(t in e)!function t(r,n,e){if(null!=e)if(Array.isArray(e))e.forEach(function(e){t(r,n,e)});else if(i(e))for(var o in e)t(r,n+"["+o+"]",e[o]);else r.push(encodeURIComponent(n)+"="+encodeURIComponent(e));else null===e&&r.push(encodeURIComponent(n))}(r,t,e[t]);return r.join("&")}function h(e){for(var t,r,n={},o=e.split("&"),a=0,i=o.length;a<i;++a)-1==(r=(t=o[a]).indexOf("="))?n[decodeURIComponent(t)]="":n[decodeURIComponent(t.slice(0,r))]=decodeURIComponent(t.slice(r+1));return n}function y(e){return/[\/+]json\b/.test(e)}function m(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;this._setStatusProperties(t=1223===t?204:t),this.header=this.headers=function(e){var t,r,n,o=e.split(/\r?\n/),a={};o.pop();for(var i=0,u=o.length;i<u;++i)n=(t=o[i]).indexOf(":"),r=t.slice(0,n).toLowerCase(),n=p(t.slice(n+1)),a[r]=n;return a}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text||this.xhr.response):null}function b(e,t){var n=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var t,r=null,e=null;try{e=new m(n)}catch(e){return(r=new Error("Parser is unable to parse the response")).parse=!0,r.original=e,n.xhr?(r.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,r.status=n.xhr.status||null,r.statusCode=r.status):(r.rawResponse=null,r.status=null),n.callback(r)}n.emit("response",e);try{n._isResponseOK(e)||((t=new Error(e.statusText||"Unsuccessful HTTP response")).original=r,t.response=e,t.status=e.status)}catch(e){t=e}t?n.callback(t,e):n.callback(null,e)})}function v(e,t,r){e=f("DELETE",e);return"function"==typeof t&&(r=t,t=null),t&&e.send(t),r&&e.end(r),e}f.serializeObject=d,f.parseString=h,f.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},f.serialize={"application/x-www-form-urlencoded":d,"application/json":JSON.stringify},f.parse={"application/x-www-form-urlencoded":h,"application/json":JSON.parse},s(m.prototype),m.prototype._parseBody=function(e){var t=f.parse[this.type];return this.req._parser?this.req._parser(this,e):(t=!t&&y(this.type)?f.parse["application/json"]:t)&&e&&(e.length||e instanceof Object)?t(e):null},m.prototype.toError=function(){var e=this.req,t=e.method,r=e.url,e="cannot "+t+" "+r+" ("+this.status+")",e=new Error(e);return e.status=this.status,e.method=t,e.url=r,e},f.Response=m,o(b.prototype),a(b.prototype),b.prototype.type=function(e){return this.set("Content-Type",f.types[e]||e),this},b.prototype.accept=function(e){return this.set("Accept",f.types[e]||e),this},b.prototype.auth=function(e,t,r){switch((r=(r="object"==typeof t&&null!==t?t:r)||{type:"function"==typeof btoa?"basic":"auto"}).type){case"basic":this.set("Authorization","Basic "+btoa(e+":"+t));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer "+e)}return this},b.prototype.query=function(e){return(e="string"!=typeof e?d(e):e)&&this._query.push(e),this},b.prototype.attach=function(e,t,r){if(t){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,r||t.name)}return this},b.prototype._getFormData=function(){return this._formData||(this._formData=new n.FormData),this._formData},b.prototype.callback=function(e,t){if(this._maxRetries&&this._retries++<this._maxRetries&&l(e,t))return this._retry();var r=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),r(e,t)},b.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},b.prototype.buffer=b.prototype.ca=b.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},b.prototype.pipe=b.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},b.prototype._appendQueryString=function(){var e,t=this._query.join("&");t&&(this.url+=(0<=this.url.indexOf("?")?"&":"?")+t),!this._sort||0<=(e=this.url.indexOf("?"))&&(t=this.url.substring(e+1).split("&"),u(this._sort)?t.sort(this._sort):t.sort(),this.url=this.url.substring(0,e)+"?"+t.join("&"))},b.prototype._isHost=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},b.prototype.end=function(e){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||c,this._appendQueryString(),this._end()},b.prototype._end=function(){var r=this,n=this.xhr=f.getXHR(),e=this._formData||this._data;this._setTimeouts(),n.onreadystatechange=function(){var t,e=n.readyState;if(2<=e&&r._responseTimeoutTimer&&clearTimeout(r._responseTimeoutTimer),4==e){try{t=n.status}catch(e){t=0}if(!t)return r.timedout||r._aborted?void 0:r.crossDomainError();r.emit("end")}};var t,o,a=function(e,t){0<t.total&&(t.percent=t.loaded/t.total*100),t.direction=e,r.emit("progress",t)};if(this.hasListeners("progress"))try{n.onprogress=a.bind(null,"download"),n.upload&&(n.upload.onprogress=a.bind(null,"upload"))}catch(e){}try{this.username&&this.password?n.open(this.method,this.url,!0,this.username,this.password):n.open(this.method,this.url,!0)}catch(e){return this.callback(e)}for(o in this._withCredentials&&(n.withCredentials=!0),this._formData||"GET"==this.method||"HEAD"==this.method||"string"==typeof e||this._isHost(e)||(t=this._header["content-type"],(a=!(a=this._serializer||f.serialize[t?t.split(";")[0]:""])&&y(t)?f.serialize["application/json"]:a)&&(e=a(e))),this.header)null!=this.header[o]&&this.header.hasOwnProperty(o)&&n.setRequestHeader(o,this.header[o]);return this._responseType&&(n.responseType=this._responseType),this.emit("request",this),n.send(void 0!==e?e:null),this},f.get=function(e,t,r){e=f("GET",e);return"function"==typeof t&&(r=t,t=null),t&&e.query(t),r&&e.end(r),e},f.head=function(e,t,r){e=f("HEAD",e);return"function"==typeof t&&(r=t,t=null),t&&e.send(t),r&&e.end(r),e},f.options=function(e,t,r){e=f("OPTIONS",e);return"function"==typeof t&&(r=t,t=null),t&&e.send(t),r&&e.end(r),e},f.del=v,f.delete=v,f.patch=function(e,t,r){e=f("PATCH",e);return"function"==typeof t&&(r=t,t=null),t&&e.send(t),r&&e.end(r),e},f.post=function(e,t,r){e=f("POST",e);return"function"==typeof t&&(r=t,t=null),t&&e.send(t),r&&e.end(r),e},f.put=function(e,t,r){e=f("PUT",e);return"function"==typeof t&&(r=t,t=null),t&&e.send(t),r&&e.end(r),e}},{"./is-function":58,"./is-object":59,"./request-base":60,"./response-base":61,"./should-retry":62,"component-emitter":26}],58:[function(e,t,r){var n=e("./is-object");t.exports=function(e){return"[object Function]"===(n(e)?Object.prototype.toString.call(e):"")}},{"./is-object":59}],59:[function(e,t,r){t.exports=function(e){return null!==e&&"object"==typeof e}},{}],60:[function(e,t,r){var o=e("./is-object");function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}(t.exports=n).prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},n.prototype.parse=function(e){return this._parser=e,this},n.prototype.responseType=function(e){return this._responseType=e,this},n.prototype.serialize=function(e){return this._serializer=e,this},n.prototype.timeout=function(e){if(!e||"object"!=typeof e)return this._timeout=e,this._responseTimeout=0,this;for(var t in e)switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;default:console.warn("Unknown timeout option",t)}return this},n.prototype.retry=function(e){return this._maxRetries=e=(e=0===arguments.length||!0===e?1:e)<=0?0:e,this._retries=0,this},n.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},n.prototype.then=function(e,t){var o;return this._fullfilledPromise||((o=this)._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(r,n){o.end(function(e,t){e?n(e):r(t)})})),this._fullfilledPromise.then(e,t)},n.prototype.catch=function(e){return this.then(void 0,e)},n.prototype.use=function(e){return e(this),this},n.prototype.ok=function(e){if("function"!=typeof e)throw Error("Callback required");return this._okCallback=e,this},n.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):200<=e.status&&e.status<300)},n.prototype.getHeader=n.prototype.get=function(e){return this._header[e.toLowerCase()]},n.prototype.set=function(e,t){if(o(e)){for(var r in e)this.set(r,e[r]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},n.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},n.prototype.field=function(e,t){if(null==e)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),o(e)){for(var r in e)this.field(r,e[r]);return this}if(Array.isArray(t)){for(var n in t)this.field(e,t[n]);return this}if(null==t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=""+t),this._getFormData().append(e,t),this},n.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort")),this},n.prototype.withCredentials=function(e){return this._withCredentials=e=null==e?!0:e,this},n.prototype.redirects=function(e){return this._maxRedirects=e,this},n.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},n.prototype.send=function(e){var t=o(e),r=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(t&&o(this._data))for(var n in e)this._data[n]=e[n];else"string"==typeof e?(r||this.type("form"),r=this._header["content-type"],this._data="application/x-www-form-urlencoded"==r?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)||r||this.type("json"),this},n.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},n.prototype._timeoutError=function(e,t,r){this._aborted||((e=new Error(e+t+"ms exceeded")).timeout=t,e.code="ECONNABORTED",e.errno=r,this.timedout=!0,this.abort(),this.callback(e))},n.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},{"./is-object":59}],61:[function(e,t,r){var o=e("./utils");function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}(t.exports=n).prototype.get=function(e){return this.header[e.toLowerCase()]},n.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=o.type(t);var r,n=o.params(t);for(r in n)this[r]=n[r];this.links={};try{e.link&&(this.links=o.parseLinks(e.link))}catch(e){}},n.prototype._setStatusProperties=function(e){var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.redirect=3==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e}},{"./utils":63}],62:[function(e,t,r){var n=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];t.exports=function(e,t){return!!(e&&e.code&&~n.indexOf(e.code))||(!!(t&&t.status&&500<=t.status)||(!!(e&&"timeout"in e&&"ECONNABORTED"==e.code)||!!(e&&"crossDomain"in e)))}},{}],63:[function(e,t,r){r.type=function(e){return e.split(/ *; */).shift()},r.params=function(e){return e.split(/ *; */).reduce(function(e,t){var r=t.split(/ *= */),t=r.shift(),r=r.shift();return t&&r&&(e[t]=r),e},{})},r.parseLinks=function(e){return e.split(/ *, */).reduce(function(e,t){var r=t.split(/ *; */),t=r[0].slice(1,-1);return e[r[1].split(/ *= */)[1].slice(1,-1)]=t,e},{})},r.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&delete e.cookie,e}},{}],64:[function(e,t,r){function n(e){return e=(e=e.toString(16)).length<2?"0"+e:e}function o(){var e=function(){try{return Array.from((window.crypto||window.msCrypto).getRandomValues(new Uint8Array(16)))}catch(e){for(var t=[];t.length<16;)t.push(256*Math.random()&255);return t}}();return e[6]=15&e[6]|64,e[8]=63&e[8]|128,(e=e.map(n).join("").match(/(.{8})(.{4})(.{4})(.{4})(.{12})/)).shift(),e.join("-")}var a;a=/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/,o.valid=function(e){return a.test(e)},window&&(window.uuid4=o),void 0!==t&&t.exports&&(t.exports=o)},{}]},{},[4])(4)});