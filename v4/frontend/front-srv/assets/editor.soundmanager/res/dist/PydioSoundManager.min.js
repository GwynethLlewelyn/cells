!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).PydioSoundManager=e()}(function(){return function a(o,i,r){function s(t,e){if(!i[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=i[t]={exports:{}},o[t][0].call(n.exports,function(e){return s(o[t][1][e]||e)},n,n.exports,a,o,i,r)}return i[t].exports}for(var l="function"==typeof require&&require,e=0;e<r.length;e++)s(r[e]);return s}({1:[function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=l(e("react")),a=l(e("prop-types")),r=e("soundmanager2"),s=e("../../../sm/360-player/script/360player");function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(n){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f(n);return e=a?(e=f(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.soundManager.setup({url:"plugins/editor.soundmanager/sm/swf/",debugMode:!0});e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(o,i["default"].Component);var e,t,n,a=c(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=a.call(this,e),s.threeSixtyPlayer.config.autoPlay=e.autoPlay,s.threeSixtyPlayer.config.scaleFont=!navigator.userAgent.match(/msie/i),s.threeSixtyPlayer.config.showHMSTime=!0,s.threeSixtyPlayer.config.useWaveformData=!0,s.threeSixtyPlayer.config.useEQData=!0;e=e.onFinish;return e&&(s.threeSixtyPlayer.config.onfinish=e),s.threeSixtyPlayer.config.useWaveformData&&(r.soundManager.flash9Options.useWaveformData=!0),s.threeSixtyPlayer.config.useEQData&&(r.soundManager.flash9Options.useEQData=!0),s.threeSixtyPlayer.config.usePeakData&&(r.soundManager.flash9Options.usePeakData=!0),(s.threeSixtyPlayer.config.useWaveformData||s.threeSixtyPlayer.flash9Options.useEQData||s.threeSixtyPlayer.flash9Options.usePeakData)&&(r.soundManager.preferFlash=!0),window.location.href.match(/hifi/i)&&(s.threeSixtyPlayer.config.useFavIcon=!0),window.location.href.match(/html5/i)&&(r.soundManager.useHTML5Audio=!0),t}return e=o,(t=[{key:"componentDidMount",value:function(){r.soundManager.onready(s.threeSixtyPlayer.init)}},{key:"componentWillUnmount",value:function(){this.props.onFinish&&(s.threeSixtyPlayer.config.onfinish=null),r.soundManager.stopAll()}},{key:"componentWillReceiveProps",value:function(e){this.props.onFinish&&(s.threeSixtyPlayer.config.onfinish=this.props.onFinish),r.soundManager.onready(s.threeSixtyPlayer.init)}},{key:"render",value:function(){var e="ui360";return this.props.rich&&(e+=" ui360-vis"),i.default.createElement("div",{className:e,style:this.props.style},this.props.children)}}])&&u(e.prototype,t),n&&u(e,n),o}();e.propTypes={threeSixtyPlayer:a.default.object,autoPlay:a.default.bool,rich:a.default.bool.isRequired,onReady:a.default.func},e.defaultProps={autoPlay:!1,rich:!0},n.default=e,t.exports=n.default},{"../../../sm/360-player/script/360player":6,"prop-types":"prop-types",react:"react",soundmanager2:7}],2:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};t=u(t);if(t&&t.has(e))return t.get(e);var n,a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=o?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(a,n,i):a[n]=e[n])}a.default=e,t&&t.set(e,a);return a}(e("react")),s=a(e("./Player")),l=a(e("pydio/http/api"));function a(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(n){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o(n);return e=a?(e=o(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==r(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=new ThreeSixtyPlayer,e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(o,i.Component);var e,t,n,a=f(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.apply(this,arguments)}return e=o,(t=[{key:"componentDidMount",value:function(){this.loadNode(this.props),p.init()}},{key:"componentWillReceiveProps",value:function(e){e.node!==this.props.node&&this.loadNode(e)}},{key:"loadNode",value:function(e){var t=this,n=e.node;l.default.getClient().buildPresignedGetUrl(n,function(e){t.setState({url:e,mimeType:"audio/"+n.getAjxpMime()})},"audio/"+n.getAjxpMime())}},{key:"render",value:function(){var e=this.state||{},t=e.mimeType,e=e.url;return e?i.default.createElement(s.default,{rich:!1,style:{width:40,height:40,margin:"auto"},onReady:function(){}},i.default.createElement("a",{type:t,href:e})):null}}])&&d(e.prototype,t),n&&d(e,n),o}();n.default=e,t.exports=n.default},{"./Player":1,"pydio/http/api":"pydio/http/api",react:"react"}],3:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e("pydio")),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};t=u(t);if(t&&t.has(e))return t.get(e);var n,a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=o?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(a,n,i):a[n]=e[n])}a.default=e,t&&t.set(e,a);return a}(e("react")),o=e("react-redux"),s=(e("redux"),e("material-ui")),l=d(e("./Player"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(n){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=h(n);return e=a?(e=h(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==r(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){return-1<v.mimes.indexOf(e.getAjxpMime())}var g=e("pydio/http/api"),y=a.default.requireLib("hoc"),_=y.withSelection,e=y.EditorActions,v=(y.withMenu,y.withLoader,y.withErrors,y.withControls,a.default.getInstance().Registry.getActiveExtensionByType("editor").filter(function(e){return"editor.soundmanager"===e.id})[0]),w={container:{margin:"auto",display:"flex",flexDirection:"column",justifyContent:"space-between",flex:1},player:{margin:"auto"},table:{width:320}},e=_(function(a){return new Promise(function(e,t){var n=[];a.getParent().getChildren().forEach(function(e){return n.push(e)}),e({selection:n=n.filter(m).sort(function(e,t){return e.getLabel().localeCompare(t.getLabel(),void 0,{numeric:!0})}),currentIndex:n.reduce(function(e,t,n){return t===a&&n||e},0)})})})(e=(0,o.connect)(null,e)(e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(o,i.Component);var e,t,n,a=p(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.apply(this,arguments)}return e=o,(t=[{key:"componentDidMount",value:function(){this.loadNode(this.props);var e=this.props.editorModify;this.props.isActive&&e({fixedToolbar:!1})}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=this.props.editorModify;e.isActive&&n({fixedToolbar:!1}),e.node!==this.props.node&&this.setState({url:""},function(){t.loadNode(e)})}},{key:"loadNode",value:function(e){var t=this,n=e.node;g.getClient().buildPresignedGetUrl(n,function(e){t.setState({node:n,url:e,mimeType:"audio/"+n.getAjxpMime()})},"audio/"+n.getAjxpMime())}},{key:"playNext",value:function(){var e=this.props.selection,t=this.state.node,t=e.selection.indexOf(t);t<e.selection.length-1&&this.onRowSelection([t+1])}},{key:"onRowSelection",value:function(e){var t,n=this;!e.length||(t=this.props.selection)&&this.setState({url:null},function(){n.loadNode({node:t.selection[e[0]]})})}},{key:"render",value:function(){var t=this,e=this.state||{},n=e.mimeType,a=e.url,o=e.node;return i.default.createElement("div",{style:w.container},i.default.createElement(s.Paper,{zDepth:3,style:w.player},i.default.createElement("div",{style:{padding:"0 60px"}},a&&i.default.createElement(l.default,{autoPlay:!0,rich:!this.props.icon&&this.props.rich,onReady:this.props.onLoad,onFinish:function(){t.playNext()}},i.default.createElement("a",{type:n,href:a}))),i.default.createElement("div",{style:{clear:"both"}},i.default.createElement(s.Table,{style:w.table,selectable:!0,multiSelectable:!1,height:250,onRowSelection:function(e){t.onRowSelection(e)}},i.default.createElement(s.TableBody,{displayRowCheckbox:!1,stripedRows:!1,deselectOnClickaway:!1},this.props.selection&&this.props.selection.selection.map(function(e,t){return i.default.createElement(s.TableRow,{key:t},i.default.createElement(s.TableRowColumn,{style:{width:16,backgroundColor:"white"}},o&&e.getPath()===o.getPath()?i.default.createElement("span",{className:"mdi mdi-play"}):t),i.default.createElement(s.TableRowColumn,{style:{backgroundColor:"white"}},e.getLabel()))}))))))}}])&&c(e.prototype,t),n&&c(e,n),o}())||e)||e;n.default=e,t.exports=n.default},{"./Player":1,"material-ui":"material-ui",pydio:"pydio","pydio/http/api":"pydio/http/api",react:"react","react-redux":"react-redux",redux:"redux"}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Badge",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"Panel",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"Editor",{enumerable:!0,get:function(){return i.default}});var a=r(e("./badge")),o=r(e("./preview")),i=r(e("./editor"));function r(e){return e&&e.__esModule?e:{default:e}}},{"./badge":2,"./editor":3,"./preview":5}],5:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};t=l(t);if(t&&t.has(e))return t.get(e);var n,a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=o?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(a,n,i):a[n]=e[n])}a.default=e,t&&t.set(e,a);return a}(e("react")),s=(a=e("./Player"))&&a.__esModule?a:{default:a};function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(n){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o(n);return e=a?(e=o(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==r(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=e("pydio/http/api"),p=(new ThreeSixtyPlayer,function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(o,i.Component);var e,t,n,a=c(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.apply(this,arguments)}return e=o,(t=[{key:"componentDidMount",value:function(){this.loadNode(this.props)}},{key:"componentWillReceiveProps",value:function(e){e.node!==this.props.node&&this.loadNode(e)}},{key:"loadNode",value:function(e){var t=this,e=e.node,n="audio/"+e.getAjxpMime();f.getClient().buildPresignedGetUrl(e,function(e){t.setState({url:e,mimeType:n})},n),this.setState({url:e.getPath(),mimeType:"audio/"+e.getAjxpMime()})}},{key:"render",value:function(){var e=this.state||{},t=e.mimeType,e=e.url;return e?i.default.createElement(s.default,{rich:!0,style:{margin:"auto"},onReady:function(){}},i.default.createElement("a",{type:t,href:e})):null}}])&&u(e.prototype,t),n&&u(e,n),o}());n.default=p,t.exports=n.default},{"./Player":1,"pydio/http/api":"pydio/http/api",react:"react"}],6:[function(e,t,n){var a,y;function o(){var m=this,t=this,g=soundManager,e=navigator.userAgent,p=e.match(/msie/i),u=e.match(/opera/i),d=e.match(/safari/i),n=e.match(/chrome/i),h=(e.match(/firefox/i),e.match(/ipad|iphone/i)),a=void 0===y.G_vmlCanvasManager&&void 0!==document.createElement("canvas").getContext("2d"),o=u||n?359.9:360;this.excludeClass="threesixty-exclude",this.links=[],this.sounds=[],this.soundsByURL={},this.indexByURL={},this.lastSound=null,this.lastTouchedSound=null,this.soundCount=0,this.oUITemplate=null,this.oUIImageMap=null,this.vuMeter=null,this.callbackCount=0,this.peakDataHistory=[],this.config={playNext:!1,autoPlay:!1,allowMultiple:!1,loadRingColor:"#ccc",playRingColor:"#000",backgroundRingColor:"#eee",segmentRingColor:"rgba(255,255,255,0.33)",segmentRingColorAlt:"rgba(0,0,0,0.1)",loadRingColorMetadata:"#ddd",playRingColorMetadata:"rgba(128,192,256,0.9)",circleDiameter:null,circleRadius:null,animDuration:500,animTransition:y.Animator.tx.bouncy,showHMSTime:!1,scaleFont:!0,useWaveformData:!1,waveformDataColor:"#0099ff",waveformDataDownsample:3,waveformDataOutside:!1,waveformDataConstrain:!1,waveformDataLineRatio:.64,useEQData:!1,eqDataColor:"#339933",eqDataDownsample:4,eqDataOutside:!0,eqDataLineRatio:.54,usePeakData:!0,peakDataColor:"#ff33ff",peakDataOutside:!0,peakDataLineRatio:.5,useAmplifier:!0,fontSizeMax:null,useFavIcon:!1},this.css={sDefault:"sm2_link",sBuffering:"sm2_buffering",sPlaying:"sm2_playing",sPaused:"sm2_paused"},this.addEventHandler=void 0!==y.addEventListener?function(e,t,n){return e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},this.removeEventHandler=void 0!==y.removeEventListener?function(e,t,n){return e.removeEventListener(t,n,!1)}:function(e,t,n){return e.detachEvent("on"+t,n)},this.hasClass=function(e,t){return void 0!==e.className&&e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},this.addClass=function(e,t){if(!e||!t||m.hasClass(e,t))return!1;e.className=(e.className?e.className+" ":"")+t},this.removeClass=function(e,t){if(!e||!t||!m.hasClass(e,t))return!1;e.className=e.className.replace(new RegExp("( "+t+")|("+t+")","g"),"")},this.getElementsByClassName=function(e,t,n){var a,o,i=n||document,r=[],s=[];if(void 0!==t&&"string"!=typeof t)for(a=t.length;a--;)s&&s[t[a]]||(s[t[a]]=i.getElementsByTagName(t[a]));else s=t?i.getElementsByTagName(t):i.all||i.getElementsByTagName("*");if("string"!=typeof t)for(a=t.length;a--;)for(o=s[t[a]].length;o--;)m.hasClass(s[t[a]][o],e)&&r.push(s[t[a]][o]);else for(a=0;a<s.length;a++)m.hasClass(s[a],e)&&r.push(s[a]);return r},this.getParentByNodeName=function(e,t){if(!e||!t)return!1;for(t=t.toLowerCase();e.parentNode&&t!==e.parentNode.nodeName.toLowerCase();)e=e.parentNode;return e.parentNode&&t===e.parentNode.nodeName.toLowerCase()?e.parentNode:null},this.getParentByClassName=function(e,t){if(!e||!t)return!1;for(;e.parentNode&&!m.hasClass(e.parentNode,t);)e=e.parentNode;return e.parentNode&&m.hasClass(e.parentNode,t)?e.parentNode:null},this.getSoundByURL=function(e){return void 0!==m.soundsByURL[e]?m.soundsByURL[e]:null},this.isChildOfNode=function(e,t){if(!e||!e.parentNode)return!1;for(t=t.toLowerCase();(e=e.parentNode)&&e.parentNode&&e.nodeName.toLowerCase()!==t;);return e&&e.nodeName.toLowerCase()===t?e:null},this.isChildOfClass=function(e,t){if(!e||!t)return!1;for(;e.parentNode&&!m.hasClass(e,t);)e=m.findParent(e);return m.hasClass(e,t)},this.findParent=function(e){if(!e||!e.parentNode)return!1;if(2===(e=e.parentNode).nodeType)for(;e&&e.parentNode&&2===e.parentNode.nodeType;)e=e.parentNode;return e},this.getStyle=function(e,t){try{if(e.currentStyle)return e.currentStyle[t];if(y.getComputedStyle)return document.defaultView.getComputedStyle(e,null).getPropertyValue(t)}catch(e){}return null},this.findXY=function(e){for(var t=0,n=0;t+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;);return[t,n]},this.getMouseXY=function(e){return e=e||y.event,(e=h&&e.touches?e.touches[0]:e).pageX||e.pageY?[e.pageX,e.pageY]:e.clientX||e.clientY?[e.clientX+m.getScrollLeft(),e.clientY+m.getScrollTop()]:void 0},this.getScrollLeft=function(){return document.body.scrollLeft+document.documentElement.scrollLeft},this.getScrollTop=function(){return document.body.scrollTop+document.documentElement.scrollTop},this.events={play:function(){t.config.onplay&&t.config.onplay(this),t.removeClass(this._360data.oUIBox,this._360data.className),this._360data.className=t.css.sPlaying,t.addClass(this._360data.oUIBox,this._360data.className),m.fanOut(this)},stop:function(){t.config.onstop&&t.config.onstop(this),t.removeClass(this._360data.oUIBox,this._360data.className),this._360data.className="",m.fanIn(this)},pause:function(){t.config.onpause&&t.config.onpause(this),t.removeClass(this._360data.oUIBox,this._360data.className),this._360data.className=t.css.sPaused,t.addClass(this._360data.oUIBox,this._360data.className)},resume:function(){t.config.onresume&&t.config.onresume(this),t.removeClass(this._360data.oUIBox,this._360data.className),this._360data.className=t.css.sPlaying,t.addClass(this._360data.oUIBox,this._360data.className)},finish:function(){var e;t.config.onfinish&&t.config.onfinish(this),t.removeClass(this._360data.oUIBox,this._360data.className),this._360data.className="",this._360data.didFinish=!0,m.fanIn(this),t.config.playNext&&(e=t.indexByURL[this._360data.oLink.href]+1)<t.links.length&&t.handleClick({target:t.links[e]})},whileloading:function(){this.paused&&m.updatePlaying.apply(this)},whileplaying:function(){m.updatePlaying.apply(this),this._360data.fps++},bufferchange:function(){this.isBuffering?t.addClass(this._360data.oUIBox,t.css.sBuffering):t.removeClass(this._360data.oUIBox,t.css.sBuffering)}},this.stopEvent=function(e){return void 0!==e&&void 0!==e.preventDefault?e.preventDefault():void 0!==y.event&&void 0!==y.event.returnValue&&(y.event.returnValue=!1),!1},this.getTheDamnLink=p?function(e){return e&&e.target?e.target:y.event.srcElement}:function(e){return e.target},this.handleClick=function(e){if(1<e.button)return!0;var t,n,a,o,i,r=m.getTheDamnLink(e);return"a"!==r.nodeName.toLowerCase()&&!(r=m.isChildOfNode(r,"a"))||(!m.isChildOfClass(r,"ui360")||(r.getAttribute("href"),!(r.href&&g.canPlayLink(r)&&!m.hasClass(r,m.excludeClass))||(g._writeDebug("handleClick()"),t=r.href,(n=m.getSoundByURL(t))?n===m.lastSound?n.togglePause():(n.togglePause(),g._writeDebug("sound different than last sound: "+m.lastSound.sID),!m.config.allowMultiple&&m.lastSound&&m.stopSound(m.lastSound)):(a=r.parentNode,o=m.getElementsByClassName("ui360-vis","div",a.parentNode).length,n=g.createSound({id:"ui360Sound_"+parseInt(1e7*Math.random()),url:t,onplay:m.events.play,onstop:m.events.stop,onpause:m.events.pause,onresume:m.events.resume,onfinish:m.events.finish,onbufferchange:m.events.bufferchange,whileloading:m.events.whileloading,whileplaying:m.events.whileplaying,useWaveformData:o&&m.config.useWaveformData,useEQData:o&&m.config.useEQData,usePeakData:o&&m.config.usePeakData}),i=parseInt(m.getElementsByClassName("sm2-360ui","div",a)[0].offsetWidth,10),n._360data={oUI360:m.getParentByClassName(r,"ui360"),oLink:r,className:m.css.sPlaying,oUIBox:m.getElementsByClassName("sm2-360ui","div",a)[0],oCanvas:m.getElementsByClassName("sm2-canvas","canvas",a)[0],oButton:m.getElementsByClassName("sm2-360btn","span",a)[0],oTiming:m.getElementsByClassName("sm2-timing","div",a)[0],oCover:m.getElementsByClassName("sm2-cover","div",a)[0],circleDiameter:i,circleRadius:i/2,lastTime:null,didFinish:null,pauseCount:0,radius:0,fontSize:1,fontSizeMax:m.config.fontSizeMax,scaleFont:o&&m.config.scaleFont,showHMSTime:o,amplifier:o&&m.config.usePeakData?.9:1,radiusMax:.175*i,width:0,widthMax:.4*i,lastValues:{bytesLoaded:0,bytesTotal:0,position:0,durationEstimate:0},animating:!1,oAnim:new y.Animator({duration:m.config.animDuration,transition:m.config.animTransition,onComplete:function(){}}),oAnimProgress:function(e){var t=this;t._360data.radius=parseInt(t._360data.radiusMax*t._360data.amplifier*e,10),t._360data.width=parseInt(t._360data.widthMax*t._360data.amplifier*e,10),t._360data.scaleFont&&null!==t._360data.fontSizeMax&&(t._360data.oTiming.style.fontSize=parseInt(Math.max(1,t._360data.fontSizeMax*e),10)+"px",t._360data.oTiming.style.opacity=e),!t.paused&&0!==t.playState&&0!==t._360data.lastValues.bytesLoaded&&0!==t._360data.lastValues.position||m.updatePlaying.apply(t)},fps:0},void 0!==m.Metadata&&m.getElementsByClassName("metadata","div",n._360data.oUI360).length&&(n._360data.metadata=new m.Metadata(n,m)),n._360data.scaleFont&&null!==n._360data.fontSizeMax&&(n._360data.oTiming.style.fontSize="1px"),n._360data.oAnim.addSubject(n._360data.oAnimProgress,n),m.refreshCoords(n),m.updatePlaying.apply(n),m.soundsByURL[t]=n,m.sounds.push(n),!m.config.allowMultiple&&m.lastSound&&m.stopSound(m.lastSound),n.play()),m.lastSound=n,void 0!==e&&void 0!==e.preventDefault?e.preventDefault():void 0!==y.event&&(y.event.returnValue=!1),!1)))},this.fanOut=function(e){var t=e;if(1===t._360data.animating)return!1;t._360data.animating=0,soundManager._writeDebug("fanOut: "+t.sID+": "+t._360data.oLink.href),t._360data.oAnim.seekTo(1),y.setTimeout(function(){t._360data.animating=0},m.config.animDuration+20)},this.fanIn=function(e){var t=e;if(-1===t._360data.animating)return!1;t._360data.animating=-1,soundManager._writeDebug("fanIn: "+t.sID+": "+t._360data.oLink.href),t._360data.oAnim.seekTo(0),y.setTimeout(function(){t._360data.didFinish=!1,t._360data.animating=0,m.resetLastValues(t)},m.config.animDuration+20)},this.resetLastValues=function(e){e._360data.lastValues.position=0},this.refreshCoords=function(e){e._360data.canvasXY=m.findXY(e._360data.oCanvas),e._360data.canvasMid=[e._360data.circleRadius,e._360data.circleRadius],e._360data.canvasMidXY=[e._360data.canvasXY[0]+e._360data.canvasMid[0],e._360data.canvasXY[1]+e._360data.canvasMid[1]]},this.stopSound=function(e){soundManager._writeDebug("stopSound: "+e.sID),soundManager.stop(e.sID),h||soundManager.unload(e.sID)},this.buttonClick=function(e){e=e?e.target||e.srcElement:y.event.srcElement;return m.handleClick({target:m.getParentByClassName(e,"sm2-360ui").nextSibling}),!1},this.buttonMouseDown=function(e){return h?m.addEventHandler(document,"touchmove",m.mouseDown):document.onmousemove=function(e){m.mouseDown(e)},m.stopEvent(e),!1},this.mouseDown=function(e){if(!h&&1<e.button)return!0;if(!m.lastSound)return m.stopEvent(e),!1;var t=e||y.event,t=(t=h&&t.touches?t.touches[0]:t).target||t.srcElement,t=m.getSoundByURL(m.getElementsByClassName("sm2_link","a",m.getParentByClassName(t,"ui360"))[0].href);return m.lastTouchedSound=t,m.refreshCoords(t),t=t._360data,m.addClass(t.oUIBox,"sm2_dragging"),t.pauseCount=m.lastTouchedSound.paused?1:0,m.mmh(e||y.event),h?(m.removeEventHandler(document,"touchmove",m.mouseDown),m.addEventHandler(document,"touchmove",m.mmh),m.addEventHandler(document,"touchend",m.mouseUp)):(document.onmousemove=m.mmh,document.onmouseup=m.mouseUp),m.stopEvent(e),!1},this.mouseUp=function(e){var t=m.lastTouchedSound._360data;m.removeClass(t.oUIBox,"sm2_dragging"),0===t.pauseCount&&m.lastTouchedSound.resume(),h?(m.removeEventHandler(document,"touchmove",m.mmh),m.removeEventHandler(document,"touchend",m.mouseUP)):(document.onmousemove=null,document.onmouseup=null)},this.mmh=function(e){void 0===e&&(e=y.event);var t=m.lastTouchedSound,n=m.getMouseXY(e),a=n[0],n=n[1],a=a-t._360data.canvasMidXY[0],n=n-t._360data.canvasMidXY[1],n=Math.floor(o-(m.rad2deg(Math.atan2(a,n))+180));return t.setPosition(t.durationEstimate*(n/o)),m.stopEvent(e),!1},this.drawSolidArc=function(e,t,n,a,o,i,r){var s,l=e;e=s=l.getContext?l.getContext("2d"):s,r||m.clearCanvas(l),t&&(s.fillStyle=t),e.beginPath(),isNaN(o)&&(o=0),t=n-a,(!(a=u||d)||a&&0<n)&&(e.arc(0,0,n,i,o,!1),n=m.getArcEndpointCoords(t,o),e.lineTo(n.x,n.y),e.arc(0,0,t,o,i,!0),e.closePath(),e.fill())},this.getArcEndpointCoords=function(e,t){return{x:e*Math.cos(t),y:e*Math.sin(t)}},this.deg2rad=function(e){return e*Math.PI/180},this.rad2deg=function(e){return 180*e/Math.PI},this.getTime=function(e,t){var n=Math.floor(e/1e3),e=Math.floor(n/60),n=n-60*e;return t?e+":"+(n<10?"0"+n:n):{min:e,sec:n}},this.clearCanvas=function(e){var t=e,n=null;t.getContext&&(n=t.getContext("2d")),e=t.offsetWidth,t=t.offsetHeight,n.clearRect(-e/2,-t/2,e,t)},this.updatePlaying=function(){var e=this._360data.showHMSTime?m.getTime(this.position,!0):parseInt(this.position/1e3,10);this.bytesLoaded&&(this._360data.lastValues.bytesLoaded=this.bytesLoaded,this._360data.lastValues.bytesTotal=this.bytesTotal),this.position&&(this._360data.lastValues.position=this.position),this.durationEstimate&&(this._360data.lastValues.durationEstimate=this.durationEstimate),m.drawSolidArc(this._360data.oCanvas,m.config.backgroundRingColor,this._360data.width,this._360data.radius,m.deg2rad(o),!1),m.drawSolidArc(this._360data.oCanvas,this._360data.metadata?m.config.loadRingColorMetadata:m.config.loadRingColor,this._360data.width,this._360data.radius,m.deg2rad(o*(this._360data.lastValues.bytesLoaded/this._360data.lastValues.bytesTotal)),0,!0),0!==this._360data.lastValues.position&&m.drawSolidArc(this._360data.oCanvas,this._360data.metadata?m.config.playRingColorMetadata:m.config.playRingColor,this._360data.width,this._360data.radius,m.deg2rad(1===this._360data.didFinish?o:o*(this._360data.lastValues.position/this._360data.lastValues.durationEstimate)),0,!0),this._360data.metadata&&this._360data.metadata.events.whileplaying(),e!==this._360data.lastTime&&(this._360data.lastTime=e,this._360data.oTiming.innerHTML=e),(this.instanceOptions.useWaveformData||this.instanceOptions.useEQData)&&a&&m.updateWaveform(this),m.config.useFavIcon&&m.vuMeter&&m.vuMeter.updateVU(this)},this.updateWaveform=function(e){if(!m.config.useWaveformData&&!m.config.useEQData||!g.features.waveformData&&!g.features.eqData)return!1;if(!e.waveformData.left.length&&!e.eqData.length&&!e.peakData.left)return!1;e._360data.oCanvas.getContext("2d");var t,n,a,o,i,r,s,l,u,d,c,f,p=parseInt(e._360data.circleDiameter/2,10),h=p/2;if(m.config.useWaveformData)for(a=m.config.waveformDataDownsample,a=Math.max(1,a),r=i=0,s=null,l=m.config.waveformDataOutside?1:m.config.waveformDataConstrain?.5:.565,h=m.config.waveformDataOutside?.7:.75,u=m.deg2rad(360/(o=256/a)*m.config.waveformDataLineRatio),t=0;t<256;t+=a)r=(i=m.deg2rad(t/o*1/a*360))+u,(s=e.waveformData.left[t])<0&&m.config.waveformDataConstrain&&(s=Math.abs(s)),m.drawSolidArc(e._360data.oCanvas,m.config.waveformDataColor,e._360data.width*l,e._360data.radius*h*1.25*s,r,i,!0);if(m.config.useEQData)for(a=m.config.eqDataDownsample,a=Math.max(1,a),l=m.config.eqDataOutside?1:.565,n=m.config.eqDataOutside?-1:1,h=m.config.eqDataOutside?.5:.75,r=i=0,u=m.deg2rad(360/(o=(d=192)/a)*m.config.eqDataLineRatio),c=m.deg2rad(1===e._360data.didFinish?360:e._360data.lastValues.position/e._360data.lastValues.durationEstimate*360),t=0;t<d;t+=a)i=m.deg2rad(t/d*360),m.drawSolidArc(e._360data.oCanvas,c<(r=i+u)?m.config.eqDataColor:m.config.playRingColor,e._360data.width*l,e._360data.radius*h*(e.eqData.left[t]*n),r,i,!0);if(m.config.usePeakData&&!e._360data.animating){for(f=e.peakData.left||e.peakData.right,d=3,t=0;t<d;t++)f=f||e.eqData[t];e._360data.amplifier=m.config.useAmplifier?.9+.1*f:1,e._360data.radiusMax=.175*e._360data.circleDiameter*e._360data.amplifier,e._360data.widthMax=.4*e._360data.circleDiameter*e._360data.amplifier,e._360data.radius=parseInt(e._360data.radiusMax*e._360data.amplifier,10),e._360data.width=parseInt(e._360data.widthMax*e._360data.amplifier,10)}},this.getUIHTML=function(e){return['<canvas class="sm2-canvas" width="'+e+'" height="'+e+'"></canvas>',' <span class="sm2-360btn sm2-360btn-default"></span>',' <div class="sm2-timing'+(navigator.userAgent.match(/safari/i)?" alignTweak":"")+'"></div>',' <div class="sm2-cover"></div>']},this.uiTest=function(e){var t,n,a,o,i,r=document.createElement("div");return r.className="sm2-360ui",(t=document.createElement("div")).className="ui360"+(e?" "+e:""),n=t.appendChild(r.cloneNode(!0)),t.style.position="absolute",t.style.left="-9999px",a=document.body.appendChild(t),i=n.offsetWidth,o=m.getUIHTML(i),n.innerHTML=o[1]+o[2]+o[3],e=parseInt(n.offsetWidth,10),r=parseInt(e/2,10),i=m.getElementsByClassName("sm2-timing","div",a)[0],i=parseInt(m.getStyle(i,"font-size"),10),isNaN(i)&&(i=null),t.parentNode.removeChild(t),t=n=null,{circleDiameter:e,circleRadius:r,fontSizeMax:i}},this.init=function(){var e;g._writeDebug("threeSixtyPlayer.init()");for(var t,n,a,o,i,r,s,l,u=[],d=0,c=0,f=(e=m.config.items||m.getElementsByClassName("ui360","div")).length;c<f;c++)u.push(e[c].getElementsByTagName("a")[0]),e[c].style.backgroundImage="none";for(m.oUITemplate=document.createElement("div"),m.oUITemplate.className="sm2-360ui",m.oUITemplateVis=document.createElement("div"),m.oUITemplateVis.className="sm2-360ui",o=m.uiTest(),m.config.circleDiameter=o.circleDiameter,m.config.circleRadius=o.circleRadius,i=m.uiTest("ui360-vis"),m.config.fontSizeMax=i.fontSizeMax,m.oUITemplate.innerHTML=m.getUIHTML(m.config.circleDiameter).join(""),m.oUITemplateVis.innerHTML=m.getUIHTML(i.circleDiameter).join(""),c=0,f=u.length;c<f;c++)!g.canPlayLink(u[c])||m.hasClass(u[c],m.excludeClass)||m.hasClass(u[c],m.css.sDefault)||(m.addClass(u[c],m.css.sDefault),m.links[d]=u[c],m.indexByURL[u[c].href]=d,d++,n=((t=m.hasClass(u[c].parentNode,"ui360-vis"))?i:o).circleDiameter,a=(t?i:o).circleRadius,r=u[c].parentNode.insertBefore((t?m.oUITemplateVis:m.oUITemplate).cloneNode(!0),u[c]),r=p&&void 0!==y.G_vmlCanvasManager?(u[c].parentNode,(s=document.createElement("canvas")).className="sm2-canvas",l="sm2_canvas_"+parseInt(1048576*Math.random(),10),s.id=l,s.width=n,s.height=n,r.appendChild(s),y.G_vmlCanvasManager.initElement(s),document.getElementById(l)):u[c].parentNode.getElementsByTagName("canvas")[0],s=m.getElementsByClassName("sm2-cover","div",u[c].parentNode)[0],l=u[c].parentNode.getElementsByTagName("span")[0],m.addEventHandler(l,"click",m.buttonClick),h?m.addEventHandler(s,"touchstart",m.mouseDown):m.addEventHandler(s,"mousedown",m.mouseDown),(r=r.getContext("2d")).translate(a,a),r.rotate(m.deg2rad(-90)));0<d&&(m.addEventHandler(document,"click",m.handleClick),m.config.autoPlay&&m.handleClick({target:m.links[0],preventDefault:function(){}})),g._writeDebug("threeSixtyPlayer.init(): Found "+d+" relevant items."),m.config.useFavIcon&&void 0!==this.VUMeter&&(this.vuMeter=new this.VUMeter(this))}}y=window,o.prototype.VUMeter=function(e){var n=e,i=this,a=document.getElementsByTagName("head")[0],t=navigator.userAgent.match(/opera/i),o=navigator.userAgent.match(/firefox/i);this.vuMeterData=[],this.vuDataCanvas=null,this.setPageIcon=function(e){if(!n.config.useFavIcon||!n.config.usePeakData||!e)return!1;var t=document.getElementById("sm2-favicon");t&&(a.removeChild(t),t=null),t||((t=document.createElement("link")).id="sm2-favicon",t.rel="shortcut icon",t.type="image/png",t.href=e,document.getElementsByTagName("head")[0].appendChild(t))},this.resetPageIcon=function(){if(!n.config.useFavIcon)return!1;var e=document.getElementById("favicon");e&&(e.href="/favicon.ico")},this.updateVU=function(e){9<=soundManager.flashVersion&&n.config.useFavIcon&&n.config.usePeakData&&i.setPageIcon(i.vuMeterData[parseInt(16*e.peakData.left,10)][parseInt(16*e.peakData.right,10)])},this.createVUData=function(){var e=0,t=0,n=i.vuDataCanvas.getContext("2d"),a=n.createLinearGradient(0,16,0,0),o=n.createLinearGradient(0,16,0,0);for(a.addColorStop(0,"rgb(0,192,0)"),a.addColorStop(.3,"rgb(0,255,0)"),a.addColorStop(.625,"rgb(255,255,0)"),a.addColorStop(.85,"rgb(255,0,0)"),o.addColorStop(0,"rgba(0,0,0,0.2)"),o.addColorStop(1,"rgba(0,0,0,0.5)"),e=0;e<16;e++)i.vuMeterData[e]=[];for(e=0;e<16;e++)for(t=0;t<16;t++)i.vuDataCanvas.setAttribute("width",16),i.vuDataCanvas.setAttribute("height",16),n.fillStyle=o,n.fillRect(0,0,7,15),n.fillRect(8,0,7,15),n.fillStyle=a,n.fillRect(0,15-e,7,16-(16-e)),n.fillRect(8,15-t,7,16-(16-t)),n.clearRect(0,3,16,1),n.clearRect(0,7,16,1),n.clearRect(0,11,16,1),i.vuMeterData[e][t]=i.vuDataCanvas.toDataURL("image/png")},this.testCanvas=function(){var e=document.createElement("canvas");if(!e||void 0===e.getContext)return null;if(!e.getContext("2d")||"function"!=typeof e.toDataURL)return null;try{e.toDataURL("image/png")}catch(e){return null}return e},this.init=function(){n.config.useFavIcon&&(i.vuDataCanvas=i.testCanvas(),i.vuDataCanvas&&(o||t)?i.createVUData():n.config.useFavIcon=!1)},this.init()},o.prototype.Metadata=function(r,s){soundManager._wD("Metadata()");var e,l=this,t=r._360data.oUI360,n=t.getElementsByTagName("ul")[0].getElementsByTagName("li");navigator.userAgent.match(/firefox/i);for(this.lastWPExec=0,this.refreshInterval=250,this.totalTime=0,this.events={whileplaying:function(){for(var e,t=r._360data.width,n=r._360data.radius,a=r.durationEstimate||1e3*l.totalTime,o=0,i=l.data.length;o<i;o++)s.drawSolidArc(r._360data.oCanvas,o%2==0?s.config.segmentRingColorAlt:s.config.segmentRingColor,t,n/2,s.deg2rad(l.data[o].endTimeMS/a*360),s.deg2rad((l.data[o].startTimeMS||1)/a*360),!0);(e=new Date)-l.lastWPExec>l.refreshInterval&&(l.refresh(),l.lastWPExec=e)}},this.refresh=function(){for(var e=null,t=r.position,n=r._360data.metadata.data,a=0,o=n.length;a<o;a++)if(t>=n[a].startTimeMS&&t<=n[a].endTimeMS){e=a;break}e!==n.currentItem&&e<n.length&&(r._360data.oLink.innerHTML=n.mainTitle+' <span class="metadata"><span class="sm2_divider"> | </span><span class="sm2_metadata">'+n[e].title+"</span></span>",n.currentItem=e)},this.strToTime=function(e){for(var t=e.split(":"),n=0,a=t.length;a--;)n+=parseInt(t[a],10)*Math.pow(60,t.length-1-a);return n},this.data=[],this.data.givenDuration=null,this.data.currentItem=null,this.data.mainTitle=r._360data.oLink.innerHTML,e=0;e<n.length;e++)this.data[e]={o:null,title:n[e].getElementsByTagName("p")[0].innerHTML,startTime:n[e].getElementsByTagName("span")[0].innerHTML,startSeconds:l.strToTime(n[e].getElementsByTagName("span")[0].innerHTML.replace(/[()]/g,"")),duration:0,durationMS:null,startTimeMS:null,endTimeMS:null,oNote:null};for(t=s.getElementsByClassName("duration","div",t),this.data.givenDuration=t.length?1e3*l.strToTime(t[0].innerHTML):0,e=0;e<this.data.length;e++)this.data[e].duration=parseInt(this.data[e+1]?this.data[e+1].startSeconds:(l.data.givenDuration||r.durationEstimate)/1e3,10)-this.data[e].startSeconds,this.data[e].startTimeMS=1e3*this.data[e].startSeconds,this.data[e].durationMS=1e3*this.data[e].duration,this.data[e].endTimeMS=this.data[e].startTimeMS+this.data[e].durationMS,this.totalTime+=this.data[e].duration},navigator.userAgent.match(/webkit/i)&&navigator.userAgent.match(/mobile/i)&&(soundManager.useHTML5Audio=!0),soundManager.debugMode=!1,soundManager.consoleOnly=!0,soundManager.flashVersion=9,soundManager.useHighPerformance=!0,soundManager.useFlashBlock=!0,soundManager.flashLoadTimeout=0,soundManager.debugMode&&y.setInterval(function(){var e=y.threeSixtyPlayer;e&&e.lastSound&&e.lastSound._360data.fps&&void 0===y.isHome&&(soundManager._writeDebug("fps: ~"+e.lastSound._360data.fps),e.lastSound._360data.fps=0)},1e3),void 0!==y.SM2_DEFER&&SM2_DEFER||(a=new o),"object"==typeof t&&t&&"object"==typeof t.exports&&(t.exports.ThreeSixtyPlayer=o,t.exports.threeSixtyPlayer=a),y.ThreeSixtyPlayer=o,y.threeSixtyPlayer=a},{}],7:[function(e,n,t){!function(pt,ht){"use strict";if(!pt||!pt.document)throw new Error("SoundManager requires a browser with window and document objects.");var e=null;function t(e,t){this.setupOptions={url:e||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.movieID="sm2-container",this.id=t||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20150601",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var s,y,n,a,_,v,w,b,o,M,l,u,i,r,d,c,f,p,D,h,O,m,g,P,S,T,L,C,E,x,I,N,F,k,R,H,A,U,B,j,W,V,q,Q,X,z,Y,G,$,K,J,Z,ee,te,ne,ae,oe,ie,re,se,le,ue,de,ce,fe,pe,he=this,me=null,ge=null,ye="soundManager",_e=ye+": ",ve="HTML5::",we=navigator.userAgent,be=pt.location.href.toString(),Me=document,De=[],Oe=!0,Pe=!1,Se=!1,Te=!1,Le=!1,Ce=!1,Ee=0,xe=["log","info","warn","error"],Ie=null,Ne=null,Fe=!1,ke=!1,Re=0,He=null,Ae=[],Ue=null,Be=Array.prototype.slice,je=!1,We=0,Ve=1e3,qe=we.match(/(ipad|iphone|ipod)/i),Qe=we.match(/android/i),Xe=we.match(/msie/i),ze=we.match(/webkit/i),Ye=we.match(/safari/i)&&!we.match(/chrome/i),Ge=we.match(/opera/i),$e=we.match(/(mobile|pre\/|xoom)/i)||qe||Qe,Ke=!be.match(/usehtml5audio/i)&&!be.match(/sm2\-ignorebadua/i)&&Ye&&!we.match(/silk/i)&&we.match(/OS X 10_6_([3-7])/i),Je=pt.console!==ht&&console.log!==ht,Ze=Me.hasFocus!==ht?Me.hasFocus():null,et=Ye&&(Me.hasFocus===ht||!Me.hasFocus()),tt=!et,nt=/(mp3|mp4|mpa|m4a|m4b)/i,at="about:blank",ot=Me.location?Me.location.protocol.match(/http/i):null,it=ot?"":"http://",rt=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,st=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],lt=new RegExp("\\.("+st.join("|")+")(\\?.*)?$","i");function ut(e){return he.preferFlash&&oe&&!he.ignoreFlash&&he.flash[e]!==ht&&he.flash[e]}function dt(e){var t=Be.call(e),e=t.length;return fe?(t[1]="on"+t[1],3<e&&t.pop()):3===e&&t.push(!1),t}function ct(e,t){var n=e.shift(),t=[pe[t]];fe?n[t](e[0],e[1]):n[t].apply(n,e)}function ft(n){return function(e){var t=this._s,e=t&&t._a?n.call(this,e):(t&&t.id?he._wD(t.id+": Ignoring "+e.type):he._wD(ve+"Ignoring "+e.type),null);return e}}this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!ot,A={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},this.hasHTML5=function(){try{return Audio!==ht&&(Ge&&opera!==ht&&opera.version()<10?new Audio(null):new Audio).canPlayType!==ht}catch(e){return!1}}(),this.setup=function(e){var t=!he.url;return e!==ht&&Te&&Ue&&he.ok()&&(e.flashVersion!==ht||e.url!==ht||e.html5Test!==ht)&&W(k("setupLate")),l(e),je||($e?he.setupOptions.ignoreMobileRestrictions&&!he.setupOptions.forceUseGlobalHTML5Audio||(Ae.push(O.globalHTML5),je=!0):he.setupOptions.forceUseGlobalHTML5Audio&&(Ae.push(O.globalHTML5),je=!0)),!ce&&$e&&(he.setupOptions.ignoreMobileRestrictions?Ae.push(O.ignoreMobile):(he.setupOptions.useHTML5Audio&&!he.setupOptions.preferFlash||he._wD(O.mobileUA),he.setupOptions.useHTML5Audio=!0,he.setupOptions.preferFlash=!1,qe?he.ignoreFlash=!0:(!Qe||we.match(/android\s2\.3/i))&&Qe||(he._wD(O.globalHTML5),je=!0))),e&&(t&&S&&e.url!==ht&&he.beginDelayedInit(),S||e.url===ht||"complete"!==Me.readyState||setTimeout(g,1)),ce=!0,he},this.ok=function(){return Ue?Te&&!Le:he.useHTML5Audio&&he.hasHTML5},this.supported=this.ok,this.getMovie=function(e){return y(e)||Me[e]||pt[e]},this.createSound=function(e,t){var n,a=null,o=ye+".createSound(): ",i=o+k(Te?"notOK":"notReady");if(!Te||!he.ok())return W(i),!1;if((n=M(e=t!==ht?{id:e,url:t}:e)).url=z(n.url),n.id===ht&&(n.id=he.setupOptions.idPrefix+We++),n.id.toString().charAt(0).match(/^[0-9]$/)&&he._wD(o+k("badID",n.id),2),he._wD(o+n.id+(n.url?" ("+n.url+")":""),1),V(n.id,!0))return he._wD(o+n.id+" exists",1),he.sounds[n.id];function r(){return n=B(n),he.sounds[n.id]=new s(n),he.soundIDs.push(n.id),he.sounds[n.id]}if($(n))a=r(),he.html5Only||he._wD(n.id+": Using HTML5"),a._setup_html5(n);else{if(he.html5Only)return he._wD(n.id+": No HTML5 support for this sound, and no Flash. Exiting."),r();if(he.html5.usingFlash&&n.url&&n.url.match(/data\:/i))return he._wD(n.id+": data: URIs not supported via Flash. Exiting."),r();8<v&&(null===n.isMovieStar&&(n.isMovieStar=!!(n.serverURL||n.type&&n.type.match(rt)||n.url&&n.url.match(lt))),n.isMovieStar&&(he._wD(o+"using MovieStar handling"),1<n.loops&&b("noNSLoop"))),n=j(n,o),a=r(),8===v?ge._createSound(n.id,n.loops||1,n.usePolicyFile):(ge._createSound(n.id,n.url,n.usePeakData,n.useWaveformData,n.useEQData,n.isMovieStar,!!n.isMovieStar&&n.bufferTime,n.loops||1,n.serverURL,n.duration||null,n.autoPlay,!0,n.autoLoad,n.usePolicyFile),n.serverURL||(a.connected=!0,n.onconnect&&n.onconnect.apply(a))),n.serverURL||!n.autoLoad&&!n.autoPlay||a.load(n)}return!n.serverURL&&n.autoPlay&&a.play(),a},this.destroySound=function(e,t){if(!V(e))return!1;var n,a=he.sounds[e];for(a.stop(),a._iO={},a.unload(),n=0;n<he.soundIDs.length;n++)if(he.soundIDs[n]===e){he.soundIDs.splice(n,1);break}return t||a.destruct(!0),a=null,delete he.sounds[e],!0},this.load=function(e,t){return!!V(e)&&he.sounds[e].load(t)},this.unload=function(e){return!!V(e)&&he.sounds[e].unload()},this.onPosition=function(e,t,n,a){return!!V(e)&&he.sounds[e].onposition(t,n,a)},this.onposition=this.onPosition,this.clearOnPosition=function(e,t,n){return!!V(e)&&he.sounds[e].clearOnPosition(t,n)},this.play=function(e,t){var n=null,a=t&&!(t instanceof Object);if(!Te||!he.ok())return W(ye+".play(): "+k(Te?"notOK":"notReady")),!1;if(V(e,a))a&&(t={url:t});else{if(!a)return!1;(t=a?{url:t}:t)&&t.url&&(he._wD(ye+'.play(): Attempting to create "'+e+'"',1),t.id=e,n=he.createSound(t).play())}return n=null===n?he.sounds[e].play(t):n},this.start=this.play,this.setPosition=function(e,t){return!!V(e)&&he.sounds[e].setPosition(t)},this.stop=function(e){return!!V(e)&&(he._wD(ye+".stop("+e+")",1),he.sounds[e].stop())},this.stopAll=function(){for(var e in he._wD(ye+".stopAll()",1),he.sounds)he.sounds.hasOwnProperty(e)&&he.sounds[e].stop()},this.pause=function(e){return!!V(e)&&he.sounds[e].pause()},this.pauseAll=function(){for(var e=he.soundIDs.length-1;0<=e;e--)he.sounds[he.soundIDs[e]].pause()},this.resume=function(e){return!!V(e)&&he.sounds[e].resume()},this.resumeAll=function(){for(var e=he.soundIDs.length-1;0<=e;e--)he.sounds[he.soundIDs[e]].resume()},this.togglePause=function(e){return!!V(e)&&he.sounds[e].togglePause()},this.setPan=function(e,t){return!!V(e)&&he.sounds[e].setPan(t)},this.setVolume=function(e,t){var n,a;if(e===ht||isNaN(e)||t!==ht)return!!V(e)&&he.sounds[e].setVolume(t);for(n=0,a=he.soundIDs.length;n<a;n++)he.sounds[he.soundIDs[n]].setVolume(e)},this.mute=function(e){var t=0;if(e=e instanceof String?null:e)return!!V(e)&&(he._wD(ye+'.mute(): Muting "'+e+'"'),he.sounds[e].mute());for(he._wD(ye+".mute(): Muting all sounds"),t=he.soundIDs.length-1;0<=t;t--)he.sounds[he.soundIDs[t]].mute();return he.muted=!0},this.muteAll=function(){he.mute()},this.unmute=function(e){var t;if(e=e instanceof String?null:e)return!!V(e)&&(he._wD(ye+'.unmute(): Unmuting "'+e+'"'),he.sounds[e].unmute());for(he._wD(ye+".unmute(): Unmuting all sounds"),t=he.soundIDs.length-1;0<=t;t--)he.sounds[he.soundIDs[t]].unmute();return!(he.muted=!1)},this.unmuteAll=function(){he.unmute()},this.toggleMute=function(e){return!!V(e)&&he.sounds[e].toggleMute()},this.getMemoryUse=function(){var e=0;return e=ge&&8!==v?parseInt(ge._getMemoryUse(),10):e},this.disable=function(e){var t;if(e===ht&&(e=!1),Le)return!1;for(Le=!0,b("shutdown",1),t=he.soundIDs.length-1;0<=t;t--)I(he.sounds[he.soundIDs[t]]);return o(e),ne.remove(pt,"load",d),!0},this.canPlayMIME=function(e){var t;return t=!(t=he.hasHTML5?K({type:e}):t)&&Ue?e&&he.ok()?!!(8<v&&e.match(rt)||e.match(he.mimePattern)):null:t},this.canPlayURL=function(e){var t;return t=!(t=he.hasHTML5?K({url:e}):t)&&Ue?e&&he.ok()?!!e.match(he.filePattern):null:t},this.canPlayLink=function(e){return!(e.type===ht||!e.type||!he.canPlayMIME(e.type))||he.canPlayURL(e.href)},this.getSoundById=function(e,t){if(!e)return null;var n=he.sounds[e];return n||t||he._wD(ye+'.getSoundById(): Sound "'+e+'" not found.',2),n},this.onready=function(e,t){var n="onready";if("function"!=typeof e)throw k("needFunction",n);return Te&&he._wD(k("queue",n)),i(n,e,t=t||pt),r(),!0},this.ontimeout=function(e,t){var n="ontimeout";if("function"!=typeof e)throw k("needFunction",n);return Te&&he._wD(k("queue",n)),i(n,e,t=t||pt),r({type:n}),!0},this._writeDebug=function(e,t){var n,a;return!!he.setupOptions.debugMode&&(!!(Je&&he.useConsole&&(t&&"object"==typeof t?console.log(e,t):xe[t]!==ht?console[xe[t]](e):console.log(e),he.consoleOnly))||!!(n=y("soundmanager-debug"))&&(a=Me.createElement("div"),++Ee%2==0&&(a.className="sm2-alt"),t=t===ht?0:parseInt(t,10),a.appendChild(Me.createTextNode(e)),t&&(2<=t&&(a.style.fontWeight="bold"),3===t&&(a.style.color="#ff3333")),n.insertBefore(a,n.firstChild),!(n=null)))},-1!==be.indexOf("sm2-debug=alert")&&(this._writeDebug=function(e){pt.alert(e)}),this._wD=this._writeDebug,this._debug=function(){var e,t;for(b("currentObj",1),e=0,t=he.soundIDs.length;e<t;e++)he.sounds[he.soundIDs[e]]._debug()},this.reboot=function(e,t){var n,a,o;for(he.soundIDs.length&&he._wD("Destroying "+he.soundIDs.length+" SMSound object"+(1!==he.soundIDs.length?"s":"")+"..."),n=he.soundIDs.length-1;0<=n;n--)he.sounds[he.soundIDs[n]].destruct();if(ge)try{Xe&&(Ne=ge.innerHTML),Ie=ge.parentNode.removeChild(ge)}catch(e){b("badRemove",2)}if(Ne=Ie=Ue=ge=null,he.enabled=S=Te=Fe=ke=Pe=Se=Le=je=he.swfLoaded=!1,he.soundIDs=[],he.sounds={},We=0,ce=!1,e)De=[];else for(n in De)if(De.hasOwnProperty(n))for(a=0,o=De[n].length;a<o;a++)De[n][a].fired=!1;return t||he._wD(ye+": Rebooting..."),he.html5={usingFlash:null},he.flash={},he.html5Only=!1,he.ignoreFlash=!1,pt.setTimeout(function(){t||he.beginDelayedInit()},20),he},this.reset=function(){return b("reset"),he.reboot(!0,!0)},this.getMoviePercent=function(){return ge&&"PercentLoaded"in ge?ge.PercentLoaded():null},this.beginDelayedInit=function(){Ce=!0,g(),setTimeout(function(){return!ke&&(L(),m(),ke=!0)},20),c()},this.destruct=function(){he._wD(ye+".destruct()"),he.disable(!0)},s=function(e){var o,i,t,a,u,d,r,c,f,p=this,h=!1,s=[],l=0,m=null,g={duration:null,time:null};this.id=e.id,this.sID=this.id,this.url=e.url,this.options=M(e),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,f=!this.url,this.id3={},this._debug=function(){he._wD(p.id+": Merged options:",p.options)},this.load=function(e){var t;if(e!==ht?p._iO=M(e,p.options):(e=p.options,p._iO=e,m&&m!==p.url&&(b("manURL"),p._iO.url=p.url,p.url=null)),p._iO.url||(p._iO.url=p.url),p._iO.url=z(p._iO.url),p.instanceOptions=p._iO,t=p._iO,he._wD(p.id+": load ("+t.url+")"),!t.url&&!p.url)return he._wD(p.id+": load(): url is unassigned. Exiting.",2),p;if(p.isHTML5||8!==v||p.url||t.autoPlay||he._wD(p.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1),t.url===p.url&&0!==p.readyState&&2!==p.readyState)return b("onURL",1),3===p.readyState&&t.onload&&de(p,function(){t.onload.apply(p,[!!p.duration])}),p;if(p.loaded=!1,p.readyState=1,p.playState=0,p.id3={},$(t))p._setup_html5(t)._called_load?he._wD(p.id+": Ignoring request to load again"):(p._html5_canplay=!1,p.url!==t.url&&(he._wD(b("manURL")+": "+t.url),p._a.src=t.url,p.setPosition(0)),p._a.autobuffer="auto",p._a.preload="auto",p._a._called_load=!0);else{if(he.html5Only)return he._wD(p.id+": No flash support. Exiting."),p;if(p._iO.url&&p._iO.url.match(/data\:/i))return he._wD(p.id+": data: URIs not supported via Flash. Exiting."),p;try{p.isHTML5=!1,p._iO=j(B(t)),p._iO.autoPlay&&(p._iO.position||p._iO.from)&&(he._wD(p.id+": Disabling autoPlay because of non-zero offset case"),p._iO.autoPlay=!1),t=p._iO,8===v?ge._load(p.id,t.url,t.stream,t.autoPlay,t.usePolicyFile):ge._load(p.id,t.url,!!t.stream,!!t.autoPlay,t.loops||1,!!t.autoLoad,t.usePolicyFile)}catch(e){b("smError",2),w("onload",!1),C({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return p.url=t.url,p},this.unload=function(){return 0!==p.readyState&&(he._wD(p.id+": unload()"),p.isHTML5?(a(),p._a&&(p._a.pause(),m=Z(p._a))):8===v?ge._unload(p.id,at):ge._unload(p.id),o()),p},this.destruct=function(e){he._wD(p.id+": Destruct"),p.isHTML5?(a(),p._a&&(p._a.pause(),Z(p._a),je||t(),p._a._s=null,p._a=null)):(p._iO.onfailure=null,ge._destroySound(p.id)),e||he.destroySound(p.id,!0)},this.play=function(e,t){var n,a,o,i,r,s=null,l=p.id+": play(): ";if(t=t===ht||t,e=e||{},p.url&&(p._iO.url=p.url),p._iO=M(p._iO,p.options),p._iO=M(e,p._iO),p._iO.url=z(p._iO.url),p.instanceOptions=p._iO,!p.isHTML5&&p._iO.serverURL&&!p.connected)return p.getAutoPlay()||(he._wD(l+" Netstream not connected yet - setting autoPlay"),p.setAutoPlay(!0)),p;if($(p._iO)&&(p._setup_html5(p._iO),u()),1!==p.playState||p.paused||(p._iO.multiShot?he._wD(l+"Already playing (multi-shot)",1):(he._wD(l+"Already playing (one-shot)",1),p.isHTML5&&p.setPosition(p._iO.position),s=p)),null!==s)return s;if(e.url&&e.url!==p.url&&(p.readyState||p.isHTML5||8!==v||!f?p.load(p._iO):f=!1),p.loaded?he._wD(l.substr(0,l.lastIndexOf(":"))):0===p.readyState?(he._wD(l+"Attempting to load"),p.isHTML5||he.html5Only?p.isHTML5?p.load(p._iO):(he._wD(l+"Unsupported type. Exiting."),s=p):(p._iO.autoPlay=!0,p.load(p._iO)),p.instanceOptions=p._iO):2===p.readyState?(he._wD(l+"Could not load - exiting",2),s=p):he._wD(l+"Loading - attempting to play..."),null!==s)return s;if(!p.isHTML5&&9===v&&0<p.position&&p.position===p.duration&&(he._wD(l+"Sound at end, resetting to position: 0"),e.position=0),p.paused&&0<=p.position&&(!p._iO.serverURL||0<p.position))he._wD(l+"Resuming from paused state",1),p.resume();else{if(p._iO=M(e,p._iO),(!p.isHTML5&&null!==p._iO.position&&0<p._iO.position||null!==p._iO.from&&0<p._iO.from||null!==p._iO.to)&&0===p.instanceCount&&0===p.playState&&!p._iO.serverURL){if(n=function(){p._iO=M(e,p._iO),p.play(p._iO)},p.isHTML5&&!p._html5_canplay?(he._wD(l+"Beginning load for non-zero offset case"),p.load({_oncanplay:n}),s=!1):p.isHTML5||p.loaded||p.readyState&&2===p.readyState||(he._wD(l+"Preloading for non-zero offset case"),p.load({onload:n}),s=!1),null!==s)return s;p._iO=c()}(!p.instanceCount||p._iO.multiShotEvents||p.isHTML5&&p._iO.multiShot&&!je||!p.isHTML5&&8<v&&!p.getAutoPlay())&&p.instanceCount++,p._iO.onposition&&0===p.playState&&d(p),p.playState=1,p.paused=!1,p.position=p._iO.position===ht||isNaN(p._iO.position)?0:p._iO.position,p.isHTML5||(p._iO=j(B(p._iO))),p._iO.onplay&&t&&(p._iO.onplay.apply(p),h=!0),p.setVolume(p._iO.volume,!0),p.setPan(p._iO.pan,!0),p.isHTML5?p.instanceCount<2?(u(),t=p._setup_html5(),p.setPosition(p._iO.position),t.play()):(he._wD(p.id+": Cloning Audio() for instance #"+p.instanceCount+"..."),a=new Audio(p._iO.url),o=function(){ne.remove(a,"ended",o),p._onfinish(p),Z(a),a=null},i=function(){ne.remove(a,"canplay",i);try{a.currentTime=p._iO.position/Ve}catch(e){W(p.id+": multiShot play() failed to apply position of "+p._iO.position/Ve)}a.play()},ne.add(a,"ended",o),p._iO.volume!==ht&&(a.volume=Math.max(0,Math.min(1,p._iO.volume/100))),p.muted&&(a.muted=!0),p._iO.position?ne.add(a,"canplay",i):a.play()):(r=ge._start(p.id,p._iO.loops||1,9===v?p.position:p.position/Ve,p._iO.multiShot||!1),9!==v||r||(he._wD(l+"No sound hardware, or 32-sound ceiling hit",2),p._iO.onplayerror&&p._iO.onplayerror.apply(p)))}return p},this.start=this.play,this.stop=function(e){var t,n=p._iO;return 1===p.playState&&(he._wD(p.id+": stop()"),p._onbufferchange(0),p._resetOnPosition(0),p.paused=!1,p.isHTML5||(p.playState=0),r(),n.to&&p.clearOnPosition(n.to),p.isHTML5?p._a&&(t=p.position,p.setPosition(0),p.position=t,p._a.pause(),p.playState=0,p._onTimer(),a()):(ge._stop(p.id,e),n.serverURL&&p.unload()),p.instanceCount=0,p._iO={},n.onstop&&n.onstop.apply(p)),p},this.setAutoPlay=function(e){he._wD(p.id+": Autoplay turned "+(e?"on":"off")),p._iO.autoPlay=e,p.isHTML5||(ge._setAutoPlay(p.id,e),e&&(p.instanceCount||1!==p.readyState||(p.instanceCount++,he._wD(p.id+": Incremented instance count to "+p.instanceCount))))},this.getAutoPlay=function(){return p._iO.autoPlay},this.setPosition=function(t){t===ht&&(t=0);var e=p.isHTML5?Math.max(t,0):Math.min(p.duration||p._iO.duration,Math.max(t,0));if(p.position=e,t=p.position/Ve,p._resetOnPosition(p.position),p._iO.position=e,p.isHTML5){if(p._a){if(p._html5_canplay){if(p._a.currentTime!==t){he._wD(p.id+": setPosition("+t+")");try{p._a.currentTime=t,0!==p.playState&&!p.paused||p._a.pause()}catch(e){he._wD(p.id+": setPosition("+t+") failed: "+e.message,2)}}}else if(t)return he._wD(p.id+": setPosition("+t+"): Cannot seek yet, sound not ready",2),p;p.paused&&p._onTimer(!0)}}else t=9===v?p.position:t,p.readyState&&2!==p.readyState&&ge._setPosition(p.id,t,p.paused||!p.playState,p._iO.multiShot);return p},this.pause=function(e){return p.paused||0===p.playState&&1!==p.readyState||(he._wD(p.id+": pause()"),p.paused=!0,p.isHTML5?(p._setup_html5().pause(),a()):!e&&e!==ht||ge._pause(p.id,p._iO.multiShot),p._iO.onpause&&p._iO.onpause.apply(p)),p},this.resume=function(){var e=p._iO;return p.paused&&(he._wD(p.id+": resume()"),p.paused=!1,p.playState=1,p.isHTML5?(p._setup_html5().play(),u()):(e.isMovieStar&&!e.serverURL&&p.setPosition(p.position),ge._pause(p.id,e.multiShot)),!h&&e.onplay?(e.onplay.apply(p),h=!0):e.onresume&&e.onresume.apply(p)),p},this.togglePause=function(){return he._wD(p.id+": togglePause()"),0===p.playState?p.play({position:9!==v||p.isHTML5?p.position/Ve:p.position}):p.paused?p.resume():p.pause(),p},this.setPan=function(e,t){return e===ht&&(e=0),t===ht&&(t=!1),p.isHTML5||ge._setPan(p.id,e),p._iO.pan=e,t||(p.pan=e,p.options.pan=e),p},this.setVolume=function(e,t){return e===ht&&(e=100),t===ht&&(t=!1),p.isHTML5?p._a&&(he.muted&&!p.muted&&(p.muted=!0,p._a.muted=!0),p._a.volume=Math.max(0,Math.min(1,e/100))):ge._setVolume(p.id,he.muted&&!p.muted||p.muted?0:e),p._iO.volume=e,t||(p.volume=e,p.options.volume=e),p},this.mute=function(){return p.muted=!0,p.isHTML5?p._a&&(p._a.muted=!0):ge._setVolume(p.id,0),p},this.unmute=function(){p.muted=!1;var e=p._iO.volume!==ht;return p.isHTML5?p._a&&(p._a.muted=!1):ge._setVolume(p.id,(e?p._iO:p.options).volume),p},this.toggleMute=function(){return p.muted?p.unmute():p.mute()},this.onPosition=function(e,t,n){return s.push({position:parseInt(e,10),method:t,scope:n!==ht?n:p,fired:!1}),p},this.onposition=this.onPosition,this.clearOnPosition=function(e,t){var n;if(e=parseInt(e,10),isNaN(e))return!1;for(n=0;n<s.length;n++)e===s[n].position&&(t&&t!==s[n].method||(s[n].fired&&l--,s.splice(n,1)))},this._processOnPosition=function(){var e,t,n=s.length;if(!n||!p.playState||n<=l)return!1;for(e=n-1;0<=e;e--)!(t=s[e]).fired&&p.position>=t.position&&(t.fired=!0,l++,t.method.apply(t.scope,[t.position]),n=s.length);return!0},this._resetOnPosition=function(e){var t,n,a=s.length;if(!a)return!1;for(t=a-1;0<=t;t--)(n=s[t]).fired&&e<=n.position&&(n.fired=!1,l--);return!0},c=function(){var e=p._iO,t=e.from,n=e.to,a=function(){he._wD(p.id+': "To" time of '+n+" reached."),p.clearOnPosition(n,a),p.stop()},o=function(){he._wD(p.id+': Playing "from" '+t),null===n||isNaN(n)||p.onPosition(n,a)};return null===t||isNaN(t)||(e.position=t,e.multiShot=!1,o()),e},d=function(){var e,t=p._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&p.onPosition(parseInt(e,10),t[e])},r=function(){var e,t=p._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&p.clearOnPosition(parseInt(e,10))},u=function(){p.isHTML5&&q(p)},a=function(){p.isHTML5&&Q(p)},(o=function(e){e||(s=[],l=0),h=!1,p._hasTimer=null,p._a=null,p._html5_canplay=!1,p.bytesLoaded=null,p.bytesTotal=null,p.duration=p._iO&&p._iO.duration?p._iO.duration:null,p.durationEstimate=null,p.buffered=[],p.eqData=[],p.eqData.left=[],p.eqData.right=[],p.failures=0,p.isBuffering=!1,p.instanceOptions={},p.instanceCount=0,p.loaded=!1,p.metadata={},p.readyState=0,p.muted=!1,p.paused=!1,p.peakData={left:0,right:0},p.waveformData={left:[],right:[]},p.playState=0,p.position=null,p.id3={}})(),this._onTimer=function(e){var t,n=!1,a={};if(p._hasTimer||e)return p._a&&(e||(0<p.playState||1===p.readyState)&&!p.paused)&&((t=p._get_html5_duration())!==g.duration&&(g.duration=t,p.duration=t,n=!0),p.durationEstimate=p.duration,(t=p._a.currentTime*Ve||0)!==g.time&&(g.time=t,n=!0),(n||e)&&p._whileplaying(t,a,a,a,a)),n},this._get_html5_duration=function(){var e=p._iO,e=p._a&&p._a.duration?p._a.duration*Ve:e&&e.duration?e.duration:null;return e&&!isNaN(e)&&e!==1/0?e:null},this._apply_loop=function(e,t){!e.loop&&1<t&&he._wD("Note: Native HTML5 looping is infinite.",1),e.loop=1<t?"loop":""},this._setup_html5=function(e){var t,n=M(p._iO,e),a=je?me:p._a,e=decodeURI(n.url);if(je?e===decodeURI(ae)&&(t=!0):e===decodeURI(m)&&(t=!0),a){if(a._s)if(je)a._s&&a._s.playState&&!t&&a._s.stop();else if(!je&&e===decodeURI(m))return p._apply_loop(a,n.loops),a;t||(m&&o(!1),a.src=n.url,p.url=n.url,m=n.url,ae=n.url,a._called_load=!1)}else n.autoLoad||n.autoPlay?(p._a=new Audio(n.url),p._a.load()):p._a=Ge&&opera.version()<10?new Audio(null):new Audio,(a=p._a)._called_load=!1,je&&(me=a);return p.isHTML5=!0,(p._a=a)._s=p,i(),p._apply_loop(a,n.loops),n.autoLoad||n.autoPlay?p.load():(a.autobuffer=!1,a.preload="auto"),a},i=function(){if(p._a._added_events)return!1;var e,t,n,a;for(e in p._a._added_events=!0,se)se.hasOwnProperty(e)&&(n=se[t=e],a=void 0,p._a&&p._a.addEventListener(t,n,a||!1));return!0},t=function(){var e,t,n,a;for(e in he._wD(p.id+": Removing event listeners"),p._a._added_events=!1,se)se.hasOwnProperty(e)&&(n=se[t=e],a=void 0,p._a&&p._a.removeEventListener(t,n,a||!1))},this._onload=function(e){var t=!!e||!p.isHTML5&&8===v&&p.duration,e=p.id+": ";return he._wD(e+(t?"onload()":"Failed to load / invalid sound?"+(p.duration?" -":" Zero-length duration reported.")+" ("+p.url+")"),t?1:2),t||p.isHTML5||(!0===he.sandbox.noRemote&&he._wD(e+k("noNet"),1),!0===he.sandbox.noLocal&&he._wD(e+k("noLocal"),1)),p.loaded=t,p.readyState=t?3:2,p._onbufferchange(0),p._iO.onload&&de(p,function(){p._iO.onload.apply(p,[t])}),!0},this._onbufferchange=function(e){return 0!==p.playState&&(!(e&&p.isBuffering||!e&&!p.isBuffering)&&(p.isBuffering=1===e,p._iO.onbufferchange&&(he._wD(p.id+": Buffer state change: "+e),p._iO.onbufferchange.apply(p,[e])),!0))},this._onsuspend=function(){return p._iO.onsuspend&&(he._wD(p.id+": Playback suspended"),p._iO.onsuspend.apply(p)),!0},this._onfailure=function(e,t,n){p.failures++,he._wD(p.id+": Failure ("+p.failures+"): "+e),p._iO.onfailure&&1===p.failures?p._iO.onfailure(e,t,n):he._wD(p.id+": Ignoring failure")},this._onwarning=function(e,t,n){p._iO.onwarning&&p._iO.onwarning(e,t,n)},this._onfinish=function(){var e=p._iO.onfinish;p._onbufferchange(0),p._resetOnPosition(0),p.instanceCount&&(p.instanceCount--,p.instanceCount||(r(),p.playState=0,p.paused=!1,p.instanceCount=0,p.instanceOptions={},p._iO={},a(),p.isHTML5&&(p.position=0)),p.instanceCount&&!p._iO.multiShotEvents||e&&(he._wD(p.id+": onfinish()"),de(p,function(){e.apply(p)})))},this._whileloading=function(e,t,n,a){var o=p._iO;p.bytesLoaded=e,p.bytesTotal=t,p.duration=Math.floor(n),p.bufferLength=a,p.isHTML5||o.isMovieStar?p.durationEstimate=p.duration:o.duration?p.durationEstimate=(p.duration>o.duration?p:o).duration:p.durationEstimate=parseInt(p.bytesTotal/p.bytesLoaded*p.duration,10),p.isHTML5||(p.buffered=[{start:0,end:p.duration}]),(3!==p.readyState||p.isHTML5)&&o.whileloading&&o.whileloading.apply(p)},this._whileplaying=function(e,t,n,a,o){var i=p._iO;return!isNaN(e)&&null!==e&&(p.position=Math.max(0,e),p._processOnPosition(),!p.isHTML5&&8<v&&(i.usePeakData&&t!==ht&&t&&(p.peakData={left:t.leftPeak,right:t.rightPeak}),i.useWaveformData&&n!==ht&&n&&(p.waveformData={left:n.split(","),right:a.split(",")}),i.useEQData&&o!==ht&&o&&o.leftEQ&&(a=o.leftEQ.split(","),p.eqData=a,p.eqData.left=a,o.rightEQ!==ht&&o.rightEQ&&(p.eqData.right=o.rightEQ.split(",")))),1===p.playState&&(p.isHTML5||8!==v||p.position||!p.isBuffering||p._onbufferchange(0),i.whileplaying&&i.whileplaying.apply(p)),!0)},this._oncaptiondata=function(e){he._wD(p.id+": Caption data received."),p.captiondata=e,p._iO.oncaptiondata&&p._iO.oncaptiondata.apply(p,[e])},this._onmetadata=function(e,t){he._wD(p.id+": Metadata received.");for(var n={},a=0,o=e.length;a<o;a++)n[e[a]]=t[a];p.metadata=n,p._iO.onmetadata&&p._iO.onmetadata.call(p,p.metadata)},this._onid3=function(e,t){he._wD(p.id+": ID3 data received.");for(var n=[],a=0,o=e.length;a<o;a++)n[e[a]]=t[a];p.id3=M(p.id3,n),p._iO.onid3&&p._iO.onid3.apply(p)},this._onconnect=function(e){he._wD(p.id+": "+((e=1===e)?"Connected.":"Failed to connect? - "+p.url),e?1:2),(p.connected=e)&&(p.failures=0,V(p.id)&&(p.getAutoPlay()?p.play(ht,p.getAutoPlay()):p._iO.autoLoad&&p.load()),p._iO.onconnect&&p._iO.onconnect.apply(p,[e]))},this._ondataerror=function(e){0<p.playState&&(he._wD(p.id+": Data error: "+e),p._iO.ondataerror&&p._iO.ondataerror.apply(p))},this._debug()},T=function(){return Me.body||Me.getElementsByTagName("div")[0]},y=function(e){return Me.getElementById(e)},M=function(e,t){var n,a=e||{},o=t===ht?he.defaultOptions:t;for(n in o)o.hasOwnProperty(n)&&a[n]===ht&&("object"!=typeof o[n]||null===o[n]?a[n]=o[n]:a[n]=M(a[n],o[n]));return a},de=function(e,t){e.isHTML5||8!==v?t():pt.setTimeout(t,0)},u={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},l=function(e,t){var n,a=!0,o=t!==ht,i=he.setupOptions,r=u;if(e===ht){for(n in a=[],i)i.hasOwnProperty(n)&&a.push(n);for(n in r)r.hasOwnProperty(n)&&("object"==typeof he[n]?a.push(n+": {...}"):he[n]instanceof Function?a.push(n+": function() {...}"):a.push(n));return he._wD(k("setup",a.join(", "))),!1}for(n in e)if(e.hasOwnProperty(n))if("object"!=typeof e[n]||null===e[n]||e[n]instanceof Array||e[n]instanceof RegExp)o&&r[t]!==ht?he[t][n]=e[n]:i[n]!==ht?(he.setupOptions[n]=e[n],he[n]=e[n]):r[n]===ht?(W(k(he[n]===ht?"setupUndef":"setupError",n),2),a=!1):he[n]instanceof Function?he[n].apply(he,e[n]instanceof Array?e[n]:[e[n]]):he[n]=e[n];else{if(r[n]!==ht)return l(e[n],n);W(k(he[n]===ht?"setupUndef":"setupError",n),2),a=!1}return a},fe=pt.attachEvent,pe={add:fe?"attachEvent":"addEventListener",remove:fe?"detachEvent":"removeEventListener"},ne={add:function(){ct(dt(arguments),"add")},remove:function(){ct(dt(arguments),"remove")}},se={abort:ft(function(){he._wD(this._s.id+": abort")}),canplay:ft(function(){var t,n=this._s;if(n._html5_canplay)return!0;if(n._html5_canplay=!0,he._wD(n.id+": canplay"),n._onbufferchange(0),t=n._iO.position===ht||isNaN(n._iO.position)?null:n._iO.position/Ve,this.currentTime!==t){he._wD(n.id+": canplay: Setting position to "+t);try{this.currentTime=t}catch(e){he._wD(n.id+": canplay: Setting position of "+t+" failed: "+e.message,2)}}n._iO._oncanplay&&n._iO._oncanplay()}),canplaythrough:ft(function(){var e=this._s;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),durationchange:ft(function(){var e=this._s,t=e._get_html5_duration();isNaN(t)||t===e.duration||(he._wD(this._s.id+": durationchange ("+t+")"+(e.duration?", previously "+e.duration:"")),e.durationEstimate=e.duration=t)}),ended:ft(function(){var e=this._s;he._wD(e.id+": ended"),e._onfinish()}),error:ft(function(){he._wD(this._s.id+": HTML5 error, code "+this.error.code),this._s._onload(!1)}),loadeddata:ft(function(){var e=this._s;he._wD(e.id+": loadeddata"),e._loaded||Ye||(e.duration=e._get_html5_duration())}),loadedmetadata:ft(function(){he._wD(this._s.id+": loadedmetadata")}),loadstart:ft(function(){he._wD(this._s.id+": loadstart"),this._s._onbufferchange(1)}),play:ft(function(){this._s._onbufferchange(0)}),playing:ft(function(){he._wD(this._s.id+": playing "+String.fromCharCode(9835)),this._s._onbufferchange(0)}),progress:ft(function(e){var t,n,a,o,i=this._s,r="progress"===e.type,s=e.target.buffered,l=e.loaded||0,u=e.total||1;if(i.buffered=[],s&&s.length){for(t=0,n=s.length;t<n;t++)i.buffered.push({start:s.start(t)*Ve,end:s.end(t)*Ve});if(o=(s.end(0)-s.start(0))*Ve,l=Math.min(1,o/(e.target.duration*Ve)),r&&1<s.length){for(a=[],n=s.length,t=0;t<n;t++)a.push(e.target.buffered.start(t)*Ve+"-"+e.target.buffered.end(t)*Ve);he._wD(this._s.id+": progress, timeRanges: "+a.join(", "))}r&&!isNaN(l)&&he._wD(this._s.id+": progress, "+Math.floor(100*l)+"% loaded")}isNaN(l)||(i._whileloading(l,u,i._get_html5_duration()),l&&u&&l===u&&se.canplaythrough.call(this,e))}),ratechange:ft(function(){he._wD(this._s.id+": ratechange")}),suspend:ft(function(e){var t=this._s;he._wD(this._s.id+": suspend"),se.progress.call(this,e),t._onsuspend()}),stalled:ft(function(){he._wD(this._s.id+": stalled")}),timeupdate:ft(function(){this._s._onTimer()}),waiting:ft(function(){var e=this._s;he._wD(this._s.id+": waiting"),e._onbufferchange(1)})},$=function(e){e=!(!e||!(e.type||e.url||e.serverURL))&&(!(e.serverURL||e.type&&ut(e.type))&&(e.type?K({type:e.type}):K({url:e.url})||he.html5Only||e.url.match(/data\:/i)));return e},Z=function(e){var t;return e&&(t=!Ye&&he.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":at,e.src=t,e._called_unload!==ht&&(e._called_load=!1)),je&&(ae=null),t},K=function(e){if(!he.useHTML5Audio||!he.hasHTML5)return!1;var t,n,a=e.url||null,o=e.type||null,i=he.audioFormats;if(o&&he.html5[o]!==ht)return he.html5[o]&&!ut(o);if(!J){for(n in J=[],i)i.hasOwnProperty(n)&&(J.push(n),i[n].related&&(J=J.concat(i[n].related)));J=new RegExp("\\.("+J.join("|")+")(\\?.*)?$","i")}return(e=a?a.toLowerCase().match(J):null)&&e.length?e=e[1]:o?e=(-1!==(a=o.indexOf(";"))?o.substr(0,a):o).substr(6):t=!1,t=e&&he.html5[e]!==ht?he.html5[e]&&!ut(e):(t=he.html5.canPlayType({type:o="audio/"+e}),(he.html5[e]=t)&&he.html5[o]&&!ut(o))},te=function(){if(!he.useHTML5Audio||!he.hasHTML5)return he.html5.usingFlash=!0,!(Ue=!0);var e,t,n,i,r=Audio!==ht?Ge&&opera.version()<10?new Audio(null):new Audio:null,a={};function o(e){var t,n,a=!1,o=!1;if(!r||"function"!=typeof r.canPlayType)return a;if(e instanceof Array){for(i=0,n=e.length;i<n;i++)(he.html5[e[i]]||r.canPlayType(e[i]).match(he.html5Test))&&(he.html5[e[i]]=o=!0,he.flash[e[i]]=!!e[i].match(nt));a=o}else a=!(!(t=!(!r||"function"!=typeof r.canPlayType)&&r.canPlayType(e))||!t.match(he.html5Test));return a}for(e in n=he.audioFormats)if(n.hasOwnProperty(e)&&(t="audio/"+e,a[e]=o(n[e].type),a[t]=a[e],e.match(nt)?(he.flash[e]=!0,he.flash[t]=!0):(he.flash[e]=!1,he.flash[t]=!1),n[e]&&n[e].related))for(i=n[e].related.length-1;0<=i;i--)a["audio/"+n[e].related[i]]=a[e],he.html5[n[e].related[i]]=a[e],he.flash[n[e].related[i]]=a[e];return a.canPlayType=r?o:null,he.html5=M(he.html5,a),he.html5.usingFlash=G(),Ue=he.html5.usingFlash,!0},O={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:ye+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:_e+"Verify that %s is a valid path.",tryDebug:"Try "+ye+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:_e+"Non-HTTP page ("+Me.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:_e+"Special case: Waiting for SWF to load with window focus...",waitForever:_e+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:_e+"Waiting for 100% SWF load...",needFunction:_e+"Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:_e+"_debug(): Current sound objects",waitOnload:_e+"Waiting for window.onload()",docLoaded:_e+"Document already loaded",onload:_e+"initComplete(): calling soundManager.onload()",onloadOK:ye+".onload() complete",didInit:_e+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:_e+"Failed to remove Flash node.",shutdown:ye+".disable(): Shutting down",queue:_e+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+A.swfTimedout+" CSS...",fbLoaded:"Flash loaded",fbHandler:_e+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:ye+".load(): current URL already assigned.",badFV:ye+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:_e+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:_e+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:ye+".setup(): allowed parameters: %s",setupError:ye+'.setup(): "%s" cannot be assigned with this method.',setupUndef:ye+'.setup(): Could not find option "%s"',setupLate:ye+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:_e+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready. "+String.fromCharCode(10003),reset:ye+".reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device.",ignoreMobile:"Ignoring mobile restrictions for this device."},k=function(){var e,t,n=Be.call(arguments),a=n.shift(),o=O&&O[a]?O[a]:"";if(o&&n&&n.length)for(e=0,t=n.length;e<t;e++)o=o.replace("%s",n[e]);return o},B=function(e){return 8===v&&1<e.loops&&e.stream&&(b("as2loop"),e.stream=!1),e},j=function(e,t){return e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(he._wD((t||"")+k("policy")),e.usePolicyFile=!0),e},W=function(e){Je&&console.warn!==ht?console.warn(e):he._wD(e)},n=function(){return!1},I=function(e){for(var t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=n)},N=function(e){e===ht&&(e=!1),(Le||e)&&he.disable(e)},F=function(e){if(e)if(e.match(/\.swf(\?.*)?$/i)){if(e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");return e=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+he.movieURL,he.noSWFCache&&(e+="?ts="+(new Date).getTime()),e},D=function(){8!==(v=parseInt(he.flashVersion,10))&&9!==v&&(he._wD(k("badFV",v,8)),he.flashVersion=v=8);var e=he.debugMode||he.debugFlash?"_debug.swf":".swf";he.useHTML5Audio&&!he.html5Only&&he.audioFormats.mp4.required&&v<9&&(he._wD(k("needfl9")),he.flashVersion=v=9),he.version=he.versionNumber+(he.html5Only?" (HTML5-only mode)":9===v?" (AS3/Flash 9)":" (AS2/Flash 8)"),8<v?(he.defaultOptions=M(he.defaultOptions,he.flash9Options),he.features.buffering=!0,he.defaultOptions=M(he.defaultOptions,he.movieStarOptions),he.filePatterns.flash9=new RegExp("\\.(mp3|"+st.join("|")+")(\\?.*)?$","i"),he.features.movieStar=!0):he.features.movieStar=!1,he.filePattern=he.filePatterns[8!==v?"flash9":"flash8"],he.movieURL=(8===v?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e),he.features.peakData=he.features.waveformData=he.features.eqData=8<v},E=function(e,t){if(!ge)return!1;ge._setPolling(e,t)},x=function(){if(he.debugURLParam.test(be)&&(he.setupOptions.debugMode=he.debugMode=!0),y(he.debugID))return!1;var e,t,n,a,o;if(he.debugMode&&!y(he.debugID)&&(!Je||!he.useConsole||!he.consoleOnly)){for(o in(e=Me.createElement("div")).id=he.debugID+"-toggle",a={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},e.appendChild(Me.createTextNode("-")),e.onclick=U,e.title="Toggle SM2 debug console",we.match(/msie 6/i)&&(e.style.position="absolute",e.style.cursor="hand"),a)a.hasOwnProperty(o)&&(e.style[o]=a[o]);if((t=Me.createElement("div")).id=he.debugID,t.style.display=he.debugMode?"block":"none",he.debugMode&&!y(e.id)){try{(n=T()).appendChild(e)}catch(e){throw new Error(k("domError")+" \n"+e.toString())}n.appendChild(t)}}},V=this.getSoundById,b=function(e,t){return e?he._wD(k(e),t):""},U=function(){var e=y(he.debugID),t=y(he.debugID+"-toggle");if(!e)return!1;Oe?(t.innerHTML="+",e.style.display="none"):(t.innerHTML="-",e.style.display="block"),Oe=!Oe},w=function(e,t,n){if(pt.sm2Debugger!==ht)try{sm2Debugger.handleEvent(e,t,n)}catch(e){return!1}return!0},H=function(){var e=[];return he.debugMode&&e.push(A.sm2Debug),he.debugFlash&&e.push(A.flashDebug),he.useHighPerformance&&e.push(A.highPerf),e.join(" ")},R=function(){var e=k("fbHandler"),t=he.getMoviePercent(),n=A,a={type:"FLASHBLOCK"};if(he.html5Only)return!1;he.ok()?(he.didFlashBlock&&he._wD(e+": Unblocked"),he.oMC&&(he.oMC.className=[H(),n.swfDefault,n.swfLoaded+(he.didFlashBlock?" "+n.swfUnblocked:"")].join(" "))):(Ue&&(he.oMC.className=H()+" "+n.swfDefault+" "+(null===t?n.swfTimedout:n.swfError),he._wD(e+": "+k("fbTimeout")+(t?" ("+k("fbLoaded")+")":""))),he.didFlashBlock=!0,r({type:"ontimeout",ignoreInit:!0,error:a}),C(a))},i=function(e,t,n){De[e]===ht&&(De[e]=[]),De[e].push({method:t,scope:n||null,fired:!1})},r=function(e){if(e=e||{type:he.ok()?"onready":"ontimeout"},!Te&&e&&!e.ignoreInit)return!1;if("ontimeout"===e.type&&(he.ok()||Le&&!e.ignoreInit))return!1;var t,n,a={success:e&&e.ignoreInit?he.ok():!Le},o=e&&e.type&&De[e.type]||[],i=[],r=[a],s=Ue&&!he.ok();for(e.error&&(r[0].error=e.error),t=0,n=o.length;t<n;t++)!0!==o[t].fired&&i.push(o[t]);if(i.length)for(t=0,n=i.length;t<n;t++)i[t].scope?i[t].method.apply(i[t].scope,r):i[t].method.apply(this,r),s||(i[t].fired=!0);return!0},d=function(){pt.setTimeout(function(){he.useFlashBlock&&R(),r(),"function"==typeof he.onload&&(b("onload",1),he.onload.apply(pt),b("onloadOK",1)),he.waitForWindowLoad&&ne.add(pt,"load",d)},1)},ie=function(){if(oe!==ht)return oe;var t,e=!1,n=navigator,a=n.plugins,o=pt.ActiveXObject;if(a&&a.length)a="application/x-shockwave-flash",(n=n.mimeTypes)&&n[a]&&n[a].enabledPlugin&&n[a].enabledPlugin.description&&(e=!0);else if(o!==ht&&!we.match(/MSAppHost/i)){try{t=new o("ShockwaveFlash.ShockwaveFlash")}catch(e){t=null}e=!!t,t=null}return oe=e},G=function(){var e,t,n=he.audioFormats;if(qe&&!!we.match(/os (1|2|3_0|3_1)\s/i)?(he.hasHTML5=!1,he.html5Only=!0,he.oMC&&(he.oMC.style.display="none")):he.useHTML5Audio&&(he.html5&&he.html5.canPlayType||(he._wD("SoundManager: No HTML5 Audio() support detected."),he.hasHTML5=!1),Ke&&he._wD(_e+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(oe?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)),he.useHTML5Audio&&he.hasHTML5)for(t in Y=!0,n)n.hasOwnProperty(t)&&n[t].required&&(he.html5.canPlayType(n[t].type)?he.preferFlash&&(he.flash[t]||he.flash[n[t].type])&&(e=!0):e=!(Y=!1));return he.ignoreFlash&&(Y=!(e=!1)),he.html5Only=he.hasHTML5&&he.useHTML5Audio&&!e,!he.html5Only},z=function(e){var t,n,a,o=0;if(e instanceof Array){for(t=0,n=e.length;t<n;t++)if(e[t]instanceof Object){if(he.canPlayMIME(e[t].type)){o=t;break}}else if(he.canPlayURL(e[t])){o=t;break}e[o].url&&(e[o]=e[o].url),a=e[o]}else a=e;return a},q=function(e){e._hasTimer||(e._hasTimer=!0,!$e&&he.html5PollingInterval&&(null===He&&0===Re&&(He=setInterval(X,he.html5PollingInterval)),Re++))},Q=function(e){e._hasTimer&&(e._hasTimer=!1,!$e&&he.html5PollingInterval&&Re--)},X=function(){var e;if(null!==He&&!Re)return clearInterval(He),He=null,!1;for(e=he.soundIDs.length-1;0<=e;e--)he.sounds[he.soundIDs[e]].isHTML5&&he.sounds[he.soundIDs[e]]._hasTimer&&he.sounds[he.soundIDs[e]]._onTimer()},C=function(e){e=e!==ht?e:{},"function"==typeof he.onerror&&he.onerror.apply(pt,[{type:e.type!==ht?e.type:null}]),e.fatal!==ht&&e.fatal&&he.disable()},re=function(){if(!Ke||!ie())return!1;var e,t,n=he.audioFormats;for(t in n)if(n.hasOwnProperty(t)&&("mp3"===t||"mp4"===t)&&(he._wD(ye+": Using flash fallback for "+t+" format"),he.html5[t]=!1,n[t]&&n[t].related))for(e=n[t].related.length-1;0<=e;e--)he.html5[n[t].related[e]]=!1},this._setSandboxType=function(e){var t=he.sandbox;t.type=e,t.description=t.types[t.types[e]!==ht?e:"unknown"],"localWithFile"===t.type?(t.noRemote=!0,t.noLocal=!1,b("secNote",2)):"localWithNetwork"===t.type?(t.noRemote=!1,t.noLocal=!0):"localTrusted"===t.type&&(t.noRemote=!1,t.noLocal=!1)},this._externalInterfaceOK=function(e){return!he.swfLoaded&&(w("swf",!0),w("flashtojs",!0),he.swfLoaded=!0,et=!1,Ke&&re(),e&&e.replace(/\+dev/i,"")===he.versionNumber.replace(/\+dev/i,"")?void setTimeout(_,Xe?100:1):(t=ye+': Fatal: JavaScript file build "'+he.versionNumber+'" does not match Flash SWF build "'+e+'" at '+he.url+". Ensure both are up-to-date.",setTimeout(function(){throw new Error(t)},0),!1));var t},L=function(e,t){if(Pe&&Se)return!1;function n(){var e=[],t=[],n="SoundManager "+he.version+(!he.html5Only&&he.useHTML5Audio?he.hasHTML5?" + HTML5 audio":", no HTML5 audio support":"");he.html5Only?he.html5PollingInterval&&e.push("html5PollingInterval ("+he.html5PollingInterval+"ms)"):(he.preferFlash&&e.push("preferFlash"),he.useHighPerformance&&e.push("useHighPerformance"),he.flashPollingInterval&&e.push("flashPollingInterval ("+he.flashPollingInterval+"ms)"),he.html5PollingInterval&&e.push("html5PollingInterval ("+he.html5PollingInterval+"ms)"),he.wmode&&e.push("wmode ("+he.wmode+")"),he.debugFlash&&e.push("debugFlash"),he.useFlashBlock&&e.push("flashBlock")),e.length&&(t=t.concat([e.join(" + ")])),he._wD(n+(t.length?" + "+t.join(", "):""),1),le()}if(he.html5Only)return D(),n(),he.oMC=y(he.movieID),_(),!(Se=Pe=!0);var a,o,i,r,s,l,u,d,c,f=t||he.url,p=he.altURL||f,h=T(),m=(H(),Me.getElementsByTagName("html")[0]);function g(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(o=m&&m.dir&&m.dir.match(/rtl/i),e=e===ht?he.id:e,D(),he.url=F(ot?f:p),t=he.url,he.wmode=!he.wmode&&he.useHighPerformance?"transparent":he.wmode,null!==he.wmode&&(we.match(/msie 8/i)||!Xe&&!he.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(Ae.push(O.spcWmode),he.wmode=null),i={name:e,id:e,src:t,quality:"high",allowScriptAccess:he.allowScriptAccess,bgcolor:he.bgColor,pluginspage:it+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:he.wmode,hasPriority:"true"},he.debugFlash&&(i.FlashVars="debug=1"),he.wmode||delete i.wmode,Xe)r=Me.createElement("div"),l=['<object id="'+e+'" data="'+t+'" type="'+i.type+'" title="'+i.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',g("movie",t),g("AllowScriptAccess",he.allowScriptAccess),g("quality",i.quality),he.wmode?g("wmode",he.wmode):"",g("bgcolor",he.bgColor),g("hasPriority","true"),he.debugFlash?g("FlashVars",i.FlashVars):"","</object>"].join("");else for(s in r=Me.createElement("embed"),i)i.hasOwnProperty(s)&&r.setAttribute(s,i[s]);if(x(),a=H(),h=T())if(he.oMC=y(he.movieID)||Me.createElement("div"),he.oMC.id)t=he.oMC.className,he.oMC.className=(t?t+" ":A.swfDefault)+(a?" "+a:""),he.oMC.appendChild(r),Xe&&((u=he.oMC.appendChild(Me.createElement("div"))).className=A.swfBox,u.innerHTML=l),Se=!0;else{if(he.oMC.id=he.movieID,he.oMC.className=A.swfDefault+" "+a,u=d=null,he.useFlashBlock||(he.useHighPerformance?d={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(d={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},o&&(d.left=Math.abs(parseInt(d.left,10))+"px"))),ze&&(he.oMC.style.zIndex=1e4),!he.debugFlash)for(c in d)d.hasOwnProperty(c)&&(he.oMC.style[c]=d[c]);try{Xe||he.oMC.appendChild(r),h.appendChild(he.oMC),Xe&&((u=he.oMC.appendChild(Me.createElement("div"))).className=A.swfBox,u.innerHTML=l),Se=!0}catch(e){throw new Error(k("domError")+" \n"+e.toString())}}return Pe=!0,n(),!0},m=function(){return he.html5Only?(L(),!1):!ge&&(he.url?((ge=he.getMovie(he.id))||(Ie?(Xe?he.oMC.innerHTML=Ne:he.oMC.appendChild(Ie),Pe=!(Ie=null)):L(he.id,he.url),ge=he.getMovie(he.id)),"function"==typeof he.oninitmovie&&setTimeout(he.oninitmovie,1),ue(),!0):(b("noURL"),!1))},c=function(){setTimeout(f,1e3)},p=function(){pt.setTimeout(function(){W(_e+"useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false..."),he.setup({preferFlash:!1}).reboot(),he.didFlashBlock=!0,he.beginDelayedInit()},1)},f=function(){var e,t=!1;return!!he.url&&(!Fe&&(Fe=!0,ne.remove(pt,"load",c),oe&&et&&!Ze?(b("waitFocus"),!1):(Te||0<(e=he.getMoviePercent())&&e<100&&(t=!0),void setTimeout(function(){return e=he.getMoviePercent(),t?(Fe=!1,he._wD(k("waitSWF")),pt.setTimeout(c,1),!1):(Te||(he._wD(ye+": No Flash response within expected time. Likely causes: "+(0===e?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(he.debugFlash?" "+k("checkSWF"):""),2),!ot&&e&&(b("localFail",2),he.debugFlash||b("tryDebug",2)),0===e&&he._wD(k("swf404",he.url),1),w("flashtojs",!1,": Timed out"+(ot?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)"))),void(!Te&&tt&&(null===e?he.useFlashBlock||0===he.flashLoadTimeout?(he.useFlashBlock&&R(),b("waitForever")):!he.useFlashBlock&&Y?p():(b("waitForever"),r({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}})):0===he.flashLoadTimeout?b("waitForever"):!he.useFlashBlock&&Y?p():N(!0))))},he.flashLoadTimeout))))},h=function(){function e(){ne.remove(pt,"focus",h)}return Ze||!et||(Ze=tt=!0,b("gotFocus"),Fe=!1,c()),e(),!0},ue=function(){Ae.length&&(he._wD("SoundManager 2: "+Ae.join(" "),1),Ae=[])},le=function(){ue();var e,t=[];if(he.useHTML5Audio&&he.hasHTML5){for(e in he.audioFormats)he.audioFormats.hasOwnProperty(e)&&t.push(e+" = "+he.html5[e]+(!he.html5[e]&&Ue&&he.flash[e]?" (using flash)":he.preferFlash&&he.flash[e]&&Ue?" (preferring flash)":he.html5[e]?"":" ("+(he.audioFormats[e].required?"required, ":"")+"and no flash support)"));he._wD("SoundManager 2 HTML5 support: "+t.join(", "),1)}},o=function(e){if(Te)return!1;if(he.html5Only)return b("sm2Loaded",1),Te=!0,d(),w("onload",!0),!0;var t,n=!0;return he.useFlashBlock&&he.flashLoadTimeout&&!he.getMoviePercent()||(Te=!0),t={type:!oe&&Ue?"NO_FLASH":"INIT_TIMEOUT"},he._wD("SoundManager 2 "+(Le?"failed to load":"loaded")+" ("+(Le?"Flash security/load error":"OK")+") "+String.fromCharCode(Le?10006:10003),Le?2:1),Le||e?(he.useFlashBlock&&he.oMC&&(he.oMC.className=H()+" "+(null===he.getMoviePercent()?A.swfTimedout:A.swfError)),r({type:"ontimeout",error:t,ignoreInit:!0}),w("onload",!1),C(t),n=!1):w("onload",!0),Le||(he.waitForWindowLoad&&!Ce?(b("waitOnload"),ne.add(pt,"load",d)):(he.waitForWindowLoad&&Ce&&b("docLoaded"),d())),n},a=function(){var e,t=he.setupOptions;for(e in t)t.hasOwnProperty(e)&&(he[e]===ht?he[e]=t[e]:he[e]!==t[e]&&(he.setupOptions[e]=he[e]))},_=function(){if(Te)return b("didInit"),!1;function e(){ne.remove(pt,"load",he.beginDelayedInit)}if(he.html5Only)return Te||(e(),he.enabled=!0,o()),!0;m();try{ge._externalInterfaceTest(!1),E(!0,he.flashPollingInterval||(he.useHighPerformance?10:50)),he.debugMode||ge._disableDebug(),he.enabled=!0,w("jstoflash",!0),he.html5Only||ne.add(pt,"unload",n)}catch(e){return he._wD("js/flash exception: "+e.toString()),w("jstoflash",!1),C({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),N(!0),o(),!1}return o(),e(),!0},g=function(){return!S&&(S=!0,a(),x(),!oe&&he.hasHTML5&&(he._wD("SoundManager 2: No Flash detected"+(he.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1),he.setup({useHTML5Audio:!0,preferFlash:!1})),te(),!oe&&Ue&&(Ae.push(O.needFlash),he.setup({flashLoadTimeout:1})),Me.removeEventListener&&Me.removeEventListener("DOMContentLoaded",g,!1),m(),!0)},ee=function(){return"complete"===Me.readyState&&(g(),Me.detachEvent("onreadystatechange",ee)),!0},P=function(){Ce=!0,g(),ne.remove(pt,"load",P)},ie(),ne.add(pt,"focus",h),ne.add(pt,"load",c),ne.add(pt,"load",P),Me.addEventListener?Me.addEventListener("DOMContentLoaded",g,!1):Me.attachEvent?Me.attachEvent("onreadystatechange",ee):(w("onload",!1),C({type:"NO_DOM2_EVENTS",fatal:!0}))}pt.SM2_DEFER!==ht&&SM2_DEFER||(e=new t),"object"==typeof n&&n&&"object"==typeof n.exports&&(n.exports.SoundManager=t,n.exports.soundManager=e),pt.SoundManager=t,pt.soundManager=e}(window)},{}]},{},[4])(4)});