!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).HTTPUploader=e()}(function(){return function i(a,l,r){function s(t,e){if(!l[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(d)return d(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=l[t]={exports:{}},a[t][0].call(n.exports,function(e){return s(a[t][1][e]||e)},n,n.exports,i,a,l,r)}return l[t].exports}for(var d="function"==typeof require&&require,e=0;e<r.length;e++)s(r[e]);return s}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=l(e("react")),i=l(e("create-react-class")),a=l(e("pydio/http/api")),s=e("material-ui");function l(e){return e&&e.__esModule?e:{default:e}}i=(0,i.default)({displayName:"Uploader",getInitialState:function(){var e=this.props.pydio;return{dir:e.user.getActiveRepositoryObject().getSlug()+e.getContextNode().getPath(),submitting:!1,currentURL:"",urls:[]}},_handleChangeURL:function(i){return function(e,t){var n;this.state.submitting||(""!==t?((n=this.state.urls)[i]=t,this.setState({urls:n})):this._handleDeleteURL(i)())}.bind(this)},_handleDeleteURL:function(t){return function(){var e;this.state.submitting||((e=this.state.urls).splice(t,1),this.setState({urls:e}))}.bind(this)},_handleChangeCurrentURL:function(e,t){this.setState({currentURL:t})},_handleAddURL:function(e){var t;this.state.submitting||"keydown"===e.type&&13!==e.keyCode||(e=(t=this.state).currentURL,t=t.urls,""!==e&&(t.push(e),this.setState({currentURL:"",urls:t})))},_handleSubmit:function(e){var t=this;e.preventDefault(),e.stopPropagation();var n=this.props.pydio,i=this.state,e=i.dir,i=i.urls;a.default.getRestClient().userJob("remote-download",{target:e,urls:i}).then(function(){t.setState({urls:[]})}).catch(function(e){e=e.Detail||e.message||e;n.UI.displayMessage("ERROR",e)})},render:function(){var e=this.props,t=e.pydio,n=e.showDismiss,i=e.onDismiss,a=this.state.urls,l=t.MessageHash,e=a.map(function(e,t){return r.default.createElement("div",null,r.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",padding:"0px 24px",width:"100%",height:"100%"}},r.default.createElement(s.TextField,{disabled:this.state.submitting,style:{display:"flex",alignItems:"center"},value:e,underlineShow:!1,fullWidth:!0,onChange:this._handleChangeURL(t)}),r.default.createElement(s.FontIcon,{style:{display:"flex",alignItems:"center",fontSize:"1em"},className:"mdi mdi-delete",onClick:this._handleDeleteURL(t)})),r.default.createElement(s.Divider,null))}.bind(this));return r.default.createElement("div",{style:{position:"relative",padding:10}},n&&r.default.createElement("div",{style:{display:"flex",alignItems:"center"}},r.default.createElement("h4",{style:{flex:1,paddingTop:16,paddingLeft:8}},l["httpdownloader.10"].replace("APPLICATION_TITLE",t.Parameters.get("APPLICATION_TITLE"))),r.default.createElement(s.IconButton,{iconClassName:"mdi mdi-close",onClick:function(){i()}})),r.default.createElement("div",{style:{position:"relative",margin:10,fontSize:13},className:"dialoglegend"},l["httpdownloader.4"]),r.default.createElement("div",{style:{minHeight:160}},r.default.createElement(s.Paper,{zDepth:1,style:{marginBottom:10,maxHeight:300,overflowY:"auto"}},e,r.default.createElement("div",{style:{paddingLeft:24}},r.default.createElement(s.TextField,{disabled:this.state.submitting,hintText:l["httpdownloader.5"]+" + Hit Enter",value:this.state.currentURL,underlineShow:!1,fullWidth:!0,onChange:this._handleChangeCurrentURL,onKeyDown:this._handleAddURL,onBlur:this._handleAddURL})),r.default.createElement(s.Divider,null))),r.default.createElement("div",{style:{textAlign:"right"}},r.default.createElement(s.RaisedButton,{disabled:0===a.length,primary:!0,label:"Start",onClick:this._handleSubmit})))}});n.default=i,t.exports=n.default},{"create-react-class":"create-react-class","material-ui":"material-ui","pydio/http/api":"pydio/http/api",react:"react"}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Uploader",{enumerable:!0,get:function(){return a.default}});var i,a=(i=e("./Uploader"))&&i.__esModule?i:{default:i}},{"./Uploader":1}]},{},[2])(2)});