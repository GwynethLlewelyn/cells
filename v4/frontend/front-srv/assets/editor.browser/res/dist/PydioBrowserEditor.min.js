!function n(o,i,u){function c(t,e){if(!i[t]){if(!o[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(f)return f(t,!0);throw(r=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",r}r=i[t]={exports:{}},o[t][0].call(r.exports,function(e){return c(o[t][1][e]||e)},r,r.exports,n,o,i,u)}return i[t].exports}for(var f="function"==typeof require&&require,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(r,e,t){!function(p){!function(){"use strict";function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==u(e)&&"function"!=typeof e)return{default:e};t=c(t);if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var i;"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&((i=o?Object.getOwnPropertyDescriptor(e,r):null)&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r])}n.default=e,t&&t.set(e,n);return n}(r("react")),e=r("react-redux");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o(r);return e=n?(e=o(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==u(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var s=r("pydio/http/api"),t=Pydio.requireLib("hoc").EditorActions,t=(0,e.connect)(null,t)(t=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(o,i.Component);var e,t,r,n=l(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this,e)).state={frameSrc:null},e}return e=o,r=[{key:"styles",get:function(){return{iframe:{border:0,flex:1,width:"100%",backgroundColor:"white"}}}}],(t=[{key:"componentDidMount",value:function(){var e=this.props,t=e.pydio,r=e.node,n=e.editorModify,e=e.isActive,t=t.getPluginConfigs("editor.browser");"url"===r.getAjxpMime()||"website"===r.getAjxpMime()?this.openBookmark(r,t):this.openNode(r,t),n&&e&&n({fixedToolbar:!1})}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.editorModify;t&&e.isActive&&t({fixedToolbar:!1})}},{key:"openBookmark",value:function(e,t){var r=this,n="browser"===t.get("OPEN_LINK_IN_TAB");s.getClient().getPlainContent(e,function(e){-1!==e.indexOf("URL=")&&-1!==(e=e.split("URL=")[1]).indexOf("\n")&&(e=e.split("\n")[0]),r._openURL(e,n,!0)})}},{key:"openNode",value:function(e,t){var r=this,n=(this.props.pydio,"browser"===t.get("OPEN_DOCS_IN_TAB"));s.getClient().buildPresignedGetUrl(e,function(e){r._openURL(e,n,!1)},"detect")}},{key:"_openURL",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];t?(p.open(e,"","location=yes,menubar=yes,resizable=yes,scrollbars=yes,toolbar=yes,status=yes"),this.props.onRequestTabClose&&this.props.onRequestTabClose()):(r&&this.props.onRequestTabTitleUpdate&&this.props.onRequestTabTitleUpdate(e),this.setState({frameSrc:e}))}},{key:"render",value:function(){return i.default.createElement("iframe",{style:o.styles.iframe,src:this.state.frameSrc,sandbox:""})}}])&&f(e.prototype,t),r&&f(e,r),o}())||t;window.PydioBrowserEditor={Editor:t}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"pydio/http/api":"pydio/http/api",react:"react","react-redux":"react-redux"}]},{},[1]);